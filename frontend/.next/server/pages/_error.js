/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_error";
exports.ids = ["pages/_error"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.js\");\n/* harmony import */ var private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! private-next-pages/_error */ \"./node_modules/next/dist/pages/_error.js\");\n/* harmony import */ var private_next_pages_error__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/_error\",\n        pathname: \"/_error\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: private_next_pages_error__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGX2Vycm9yJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZXJyb3ImYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDaEM7QUFDTDtBQUMxRDtBQUNvRDtBQUNWO0FBQzFDO0FBQ3NEO0FBQ3REO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxxREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyx1QkFBdUIsd0VBQUssQ0FBQyxxREFBUTtBQUNyQyx1QkFBdUIsd0VBQUssQ0FBQyxxREFBUTtBQUNyQywyQkFBMkIsd0VBQUssQ0FBQyxxREFBUTtBQUN6QyxlQUFlLHdFQUFLLENBQUMscURBQVE7QUFDN0Isd0JBQXdCLHdFQUFLLENBQUMscURBQVE7QUFDN0M7QUFDTyxnQ0FBZ0Msd0VBQUssQ0FBQyxxREFBUTtBQUM5QyxnQ0FBZ0Msd0VBQUssQ0FBQyxxREFBUTtBQUM5QyxpQ0FBaUMsd0VBQUssQ0FBQyxxREFBUTtBQUMvQyxnQ0FBZ0Msd0VBQUssQ0FBQyxxREFBUTtBQUM5QyxvQ0FBb0Msd0VBQUssQ0FBQyxxREFBUTtBQUN6RDtBQUNPLHdCQUF3Qix5R0FBZ0I7QUFDL0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXO0FBQ1gsZ0JBQWdCO0FBQ2hCLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2F1c3Rpbi1tdWx0aWZhbWlseS1tYXAvPzQwMGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgRG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCBBcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19lcnJvclwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL19lcnJvclwiLFxuICAgICAgICBwYXRobmFtZTogXCIvX2Vycm9yXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgQXBwLFxuICAgICAgICBEb2N1bWVudFxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./lib/supabase.js":
/*!*************************!*\
  !*** ./lib/supabase.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTestProperty: () => (/* binding */ createTestProperty),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   fetchProperties: () => (/* binding */ fetchProperties),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   signOut: () => (/* binding */ signOut),\n/* harmony export */   signUp: () => (/* binding */ signUp),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * Supabase client for frontend operations\n */ \n// Get Supabase credentials from environment variables\nconst supabaseUrl = \"https://vdrtfnphuixbguedqhox.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkcnRmbnBodWl4Ymd1ZWRxaG94Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3Mjk4MDEsImV4cCI6MjA1NzMwNTgwMX0.HyefAulcyuFeTELrskYNJEhSAW1KqBNoyJ1ODfrY5UA\";\nif (!supabaseUrl || !supabaseAnonKey) {\n    console.error(\"Supabase credentials not found. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables.\");\n}\n// Create Supabase client\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n/**\n * Get the current authenticated user\n * @returns {Promise<Object|null>} The user object or null if not authenticated\n */ const getCurrentUser = async ()=>{\n    const { data: { user } } = await supabase.auth.getUser();\n    return user;\n};\n/**\n * Sign up a new user\n * @param {string} email - User's email\n * @param {string} password - User's password\n * @returns {Promise<Object>} The result of the sign up operation\n */ const signUp = async (email, password)=>{\n    return await supabase.auth.signUp({\n        email,\n        password\n    });\n};\n/**\n * Sign in a user\n * @param {string} email - User's email\n * @param {string} password - User's password\n * @returns {Promise<Object>} The result of the sign in operation\n */ const signIn = async (email, password)=>{\n    return await supabase.auth.signInWithPassword({\n        email,\n        password\n    });\n};\n/**\n * Sign out the current user\n * @returns {Promise<Object>} The result of the sign out operation\n */ const signOut = async ()=>{\n    return await supabase.auth.signOut();\n};\n/**\n * Fetch properties from Supabase with enhanced error handling and data normalization\n * \n * @param {Object} options - Query options\n * @param {Object} options.filters - Key-value pairs for filtering (e.g. {status: 'For Sale'})\n * @param {number} options.page - Page number for pagination\n * @param {number} options.pageSize - Number of items per page\n * @param {string} options.sortBy - Field to sort by\n * @param {boolean} options.sortAsc - Sort in ascending order if true\n * @param {boolean} options.includeIncomplete - Whether to include properties with missing coordinates\n * @param {boolean} options.includeResearch - Whether to include enriched research data\n * @returns {Promise<Array>} Array of normalized properties\n */ const fetchProperties = async (options = {})=>{\n    let selectFields = \"properties.*\";\n    // Check if we should join with research data\n    if (options.includeResearch !== false) {\n        // Include research data in our query - we'll join with property_research table\n        try {\n            // Start with a query that joins properties with research data\n            let query = supabase.from(\"properties\").select(`\n          *,\n          property_research:property_research(*)\n        `);\n            // Apply filters if provided\n            if (options.filters) {\n                Object.entries(options.filters).forEach(([key, value])=>{\n                    if (value !== undefined && value !== null && value !== \"\") {\n                        // Handle special filter syntax\n                        if (key === \"or\") {\n                            query = query.or(value);\n                        } else if (key.endsWith(\"_gte\")) {\n                            const actualKey = key.replace(\"_gte\", \"\");\n                            query = query.gte(actualKey, value);\n                        } else if (key.endsWith(\"_lte\")) {\n                            const actualKey = key.replace(\"_lte\", \"\");\n                            query = query.lte(actualKey, value);\n                        } else if (key.endsWith(\"_gt\")) {\n                            const actualKey = key.replace(\"_gt\", \"\");\n                            query = query.gt(actualKey, value);\n                        } else if (key.endsWith(\"_lt\")) {\n                            const actualKey = key.replace(\"_lt\", \"\");\n                            query = query.lt(actualKey, value);\n                        } else if (key.endsWith(\"_ilike\")) {\n                            const actualKey = key.replace(\"_ilike\", \"\");\n                            query = query.ilike(actualKey, value);\n                        } else {\n                            // Default to equality matching\n                            query = query.eq(key, value);\n                        }\n                    }\n                });\n            }\n            // If we need complete properties with coordinates for the map\n            if (!options.includeIncomplete) {\n                // Check for valid coordinates in either the properties table or the modules in property_research\n                // This is a bit complex due to the join - we need to use an OR condition\n                const coordFilter = \"not.or=(latitude.is.null,longitude.is.null,latitude.eq.0,longitude.eq.0)\";\n                query = query.or(coordFilter);\n            }\n            // Apply pagination\n            if (options.page && options.pageSize) {\n                const start = (options.page - 1) * options.pageSize;\n                const end = start + options.pageSize - 1;\n                query = query.range(start, end);\n            }\n            // Apply sorting\n            if (options.sortBy) {\n                query = query.order(options.sortBy, {\n                    ascending: options.sortAsc !== false\n                });\n            }\n            // Execute query\n            const { data, error } = await query;\n            if (error) {\n                // If this fails, we'll fall back to the non-join query\n                console.warn(\"Error fetching properties with research join:\", error);\n            // Continue to fallback query below\n            } else if (data && data.length > 0) {\n                console.log(`Found ${data.length} properties with research data`);\n                // Merge research data with property data\n                const normalizedProperties = data.map((property)=>{\n                    // Extract research data if available\n                    const researchData = property.property_research && property.property_research.length > 0 ? property.property_research[0] : null;\n                    // Delete the nested property_research to avoid confusion\n                    delete property.property_research;\n                    // Normalize the property\n                    const normalizedProperty = normalizeProperty(property);\n                    // If we have research data with valid coordinates, use them\n                    if (researchData && researchData.modules) {\n                        try {\n                            // Check for valid coordinates in property_details module\n                            const propertyDetails = researchData.modules.property_details || {};\n                            // Only use research coordinates if they're valid and property doesn't have them\n                            if (propertyDetails.latitude && propertyDetails.longitude && typeof propertyDetails.latitude === \"number\" && typeof propertyDetails.longitude === \"number\" && !normalizedProperty._is_grid_pattern) {\n                                normalizedProperty.latitude = propertyDetails.latitude;\n                                normalizedProperty.longitude = propertyDetails.longitude;\n                                normalizedProperty._coordinates_from_research = true;\n                                normalizedProperty._coordinates_missing = false;\n                                normalizedProperty._needs_geocoding = false;\n                                console.log(`Using research coordinates for property ${property.id}: [${propertyDetails.latitude}, ${propertyDetails.longitude}]`);\n                            }\n                            // Add research data to property\n                            normalizedProperty._research = {\n                                depth: researchData.research_depth,\n                                date: researchData.research_date,\n                                summary: researchData.executive_summary\n                            };\n                        } catch (e) {\n                            console.error(\"Error processing research data:\", e);\n                        }\n                    }\n                    return normalizedProperty;\n                });\n                return normalizedProperties;\n            }\n        } catch (joinError) {\n            console.error(\"Error with research join query:\", joinError);\n        // Fall back to standard query\n        }\n    }\n    // Fallback - standard query without research data\n    console.log(\"Using standard property query without research data\");\n    let query = supabase.from(\"properties\").select(\"*\");\n    // Apply filters if provided\n    if (options.filters) {\n        Object.entries(options.filters).forEach(([key, value])=>{\n            if (value !== undefined && value !== null && value !== \"\") {\n                // Handle special filter syntax\n                if (key === \"or\") {\n                    query = query.or(value);\n                } else if (key.endsWith(\"_gte\")) {\n                    const actualKey = key.replace(\"_gte\", \"\");\n                    query = query.gte(actualKey, value);\n                } else if (key.endsWith(\"_lte\")) {\n                    const actualKey = key.replace(\"_lte\", \"\");\n                    query = query.lte(actualKey, value);\n                } else if (key.endsWith(\"_gt\")) {\n                    const actualKey = key.replace(\"_gt\", \"\");\n                    query = query.gt(actualKey, value);\n                } else if (key.endsWith(\"_lt\")) {\n                    const actualKey = key.replace(\"_lt\", \"\");\n                    query = query.lt(actualKey, value);\n                } else if (key.endsWith(\"_ilike\")) {\n                    const actualKey = key.replace(\"_ilike\", \"\");\n                    query = query.ilike(actualKey, value);\n                } else {\n                    // Default to equality matching\n                    query = query.eq(key, value);\n                }\n            }\n        });\n    }\n    // If we need complete properties with coordinates for the map\n    if (!options.includeIncomplete) {\n        // Try to determine what coordinate fields exist in the database\n        // This handles cases where the database schema might differ from expectations\n        try {\n            // Exclude null coordinates and \"0\" coordinates which are usually placeholders\n            // Use a more flexible approach that tries different conditions\n            query = query.not(\"latitude\", \"is\", null).not(\"longitude\", \"is\", null);\n            // Avoid adding the .eq(0) filters if the database schema might not have numeric coordinates\n            // Only add these if we're confident they won't cause errors\n            try {\n                query = query.not(\"latitude\", \"eq\", 0).not(\"longitude\", \"eq\", 0);\n            } catch (coordError) {\n                console.warn(\"Could not filter zero coordinates, they may not be numeric:\", coordError);\n            }\n        } catch (schemaError) {\n            console.warn(\"Error applying coordinate filters, schema may be different:\", schemaError);\n        // If filtering by coordinates fails, we'll return all properties\n        }\n    }\n    // Apply pagination\n    if (options.page && options.pageSize) {\n        const start = (options.page - 1) * options.pageSize;\n        const end = start + options.pageSize - 1;\n        query = query.range(start, end);\n    }\n    // Apply sorting\n    if (options.sortBy) {\n        query = query.order(options.sortBy, {\n            ascending: options.sortAsc !== false\n        });\n    }\n    // Execute query\n    const { data, error } = await query;\n    if (error) {\n        console.error(\"Error fetching properties:\", error);\n        throw error;\n    }\n    if (!data || data.length === 0) {\n        console.warn(\"No properties found with the given criteria\");\n        return [];\n    }\n    // Normalize property data to handle inconsistencies\n    return data.map((property)=>normalizeProperty(property));\n};\n/**\n * Normalizes property data to handle inconsistent field names\n * \n * @param {Object} property - Raw property data from Supabase\n * @returns {Object} Normalized property data\n */ const normalizeProperty = (property)=>{\n    // Make copy to avoid mutating the original\n    const normalized = {\n        ...property\n    };\n    // Handle inconsistent unit field names\n    normalized.units = property.num_units || property.units || null;\n    // Use property name or derive from address if missing\n    if (!normalized.name || normalized.name.trim() === \"\") {\n        normalized.name = property.address ? `Property at ${property.address.split(\",\")[0]}` : `Property ${property.id.substring(0, 8)}`;\n    }\n    // Make sure we have status\n    normalized.status = property.status || property.property_status || \"Listed\";\n    // Check if this is likely a test property\n    normalized._is_test_property = isTestProperty(property);\n    // Add coordinate related flags\n    if (property.latitude && property.longitude && typeof property.latitude === \"number\" && typeof property.longitude === \"number\" && !(property.latitude === 0 && property.longitude === 0)) {\n        // Check if coordinates are valid (in proper lat/long ranges)\n        const isValidLatitude = property.latitude >= -90 && property.latitude <= 90;\n        const isValidLongitude = property.longitude >= -180 && property.longitude <= 180;\n        // Austin area boundaries (approximate) - helps detect obviously wrong coordinates\n        const isInAustinArea = property.latitude >= 29.5 && property.latitude <= 31.0 && property.longitude >= -98.0 && property.longitude <= -97.0;\n        // Check if coordinates are part of a grid pattern (low precision or suspicious patterns)\n        const latStr = String(property.latitude);\n        const lngStr = String(property.longitude);\n        // Only flag very low precision coordinates as suspicious (1 decimal place or less)\n        const hasLowPrecision = latStr.includes(\".\") && latStr.split(\".\")[1].length <= 1 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 1;\n        // Reduced set of suspicious patterns\n        const hasSuspiciousPattern = latStr === lngStr || // Same lat/lng is very unlikely\n        latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\");\n        // Keep track of whether this is detected as a grid pattern\n        const isGridPattern = hasLowPrecision || hasSuspiciousPattern;\n        // Flag coordinates as missing if they're invalid or suspicious\n        if (!isValidLatitude || !isValidLongitude || isGridPattern) {\n            normalized._coordinates_missing = true;\n            normalized._needs_geocoding = true;\n            normalized._is_grid_pattern = isGridPattern;\n            normalized._is_invalid_range = !isValidLatitude || !isValidLongitude;\n            // Debug info for invalid coordinates\n            if (!isValidLatitude || !isValidLongitude) {\n                console.warn(`Invalid coordinate range for property ${property.id}: [${property.latitude}, ${property.longitude}]`);\n            }\n        } else {\n            // Set additional flags for coordinates outside Austin (might be valid but suspicious)\n            normalized._outside_austin = !isInAustinArea;\n            normalized._coordinates_missing = false;\n            normalized._needs_geocoding = false;\n        }\n    } else {\n        // No coordinates or invalid coordinates\n        normalized._coordinates_missing = true;\n        normalized._needs_geocoding = true;\n    }\n    return normalized;\n};\n/**\n * Determines if a property is likely a test/example property\n * \n * @param {Object} property - Property data to check\n * @returns {boolean} True if property is likely a test property\n */ const isTestProperty = (property)=>{\n    // Check for common test property indicators in name\n    const name = (property.name || \"\").toLowerCase();\n    const testIndicators = [\n        \"test\",\n        \"example\",\n        \"sample\",\n        \"demo\",\n        \"dummy\",\n        \"template\"\n    ];\n    for (const indicator of testIndicators){\n        if (name.includes(indicator)) {\n            return true;\n        }\n    }\n    // Check for unrealistic values\n    if (property.price === 0 || property.price === 1) {\n        return true;\n    }\n    if (property.units === 0 || property.units === 999 || property.num_units === 0 || property.num_units === 999) {\n        return true;\n    }\n    // Check for placeholder addresses\n    const address = (property.address || \"\").toLowerCase();\n    const placeholderIndicators = [\n        \"123 main\",\n        \"test address\",\n        \"example\",\n        \"placeholder\"\n    ];\n    for (const indicator of placeholderIndicators){\n        if (address.includes(indicator)) {\n            return true;\n        }\n    }\n    return false;\n};\n/**\n * Creates a test property in the database for testing purposes\n * Use this to verify the database connection is working\n * \n * @returns {Promise<Object>} The created test property\n */ const createTestProperty = async ()=>{\n    // First, check if we can get the table structure\n    try {\n        // Try to get one record to see the schema\n        const { data: sampleProperty, error: sampleError } = await supabase.from(\"properties\").select(\"*\").limit(1);\n        // Basic test property that matches the schema from supabase-setup.md\n        const baseTestProperty = {\n            name: `Test Property ${new Date().toISOString().slice(0, 16)}`,\n            address: \"123 Test Street\",\n            city: \"Austin\",\n            state: \"TX\",\n            zip_code: \"78701\",\n            latitude: 30.2672,\n            longitude: -97.7431,\n            price: 5000000,\n            units: 50,\n            year_built: 2010,\n            property_type: \"MULTIFAMILY\",\n            status: \"available\",\n            description: \"This is a test property created to verify database connectivity.\",\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        };\n        // If we have a sample, adapt to its schema\n        let testProperty = baseTestProperty;\n        if (!sampleError && sampleProperty && sampleProperty.length > 0) {\n            console.log(\"Found existing property for schema reference:\", sampleProperty[0]);\n            // Adapt our test property to match the existing schema\n            const sample = sampleProperty[0];\n            // Create a new object with only the fields that exist in the sample\n            const adaptedProperty = {};\n            Object.keys(baseTestProperty).forEach((key)=>{\n                // If the field exists in the sample, use our test value\n                if (key in sample) {\n                    adaptedProperty[key] = baseTestProperty[key];\n                }\n            });\n            // Check key fields that might have different names\n            if (\"property_status\" in sample && !(\"status\" in sample)) {\n                adaptedProperty.property_status = baseTestProperty.status;\n                delete adaptedProperty.status;\n            }\n            if (\"num_units\" in sample && !(\"units\" in sample)) {\n                adaptedProperty.num_units = baseTestProperty.units;\n                delete adaptedProperty.units;\n            }\n            // Use the adapted property\n            testProperty = adaptedProperty;\n            console.log(\"Adapted test property to match schema:\", testProperty);\n        } else {\n            console.log(\"No sample property found, using default schema\");\n        }\n        // Try to insert the test property\n        const { data, error } = await supabase.from(\"properties\").insert(testProperty).select();\n        if (error) {\n            console.error(\"Error creating test property:\", error);\n            // Try again with minimal fields if this failed\n            if (error.message && (error.message.includes(\"violates not-null constraint\") || error.message.includes(\"missing\"))) {\n                console.log(\"Trying again with minimal required fields\");\n                // Try with just the bare minimum fields\n                const minimalProperty = {\n                    name: `Test Property ${new Date().toISOString().slice(0, 16)}`,\n                    address: \"123 Test Street\",\n                    city: \"Austin\",\n                    state: \"TX\"\n                };\n                const { data: minData, error: minError } = await supabase.from(\"properties\").insert(minimalProperty).select();\n                if (minError) {\n                    console.error(\"Error creating minimal property:\", minError);\n                    throw minError;\n                }\n                console.log(\"Successfully created minimal test property:\", minData);\n                return {\n                    data: minData,\n                    info: \"Created with minimal fields only\"\n                };\n            }\n            throw error;\n        }\n        console.log(\"Test property created:\", data);\n        return {\n            data,\n            info: \"Created with full fields\"\n        };\n    } catch (err) {\n        console.error(\"Error in createTestProperty:\", err);\n        throw err;\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxHQUFJO2dCQUN2RHBHLFFBQVFtRCxHQUFHLENBQUM7Z0JBRVosd0NBQXdDO2dCQUN4QyxNQUFNaUYsa0JBQWtCO29CQUN0QmhELE1BQU0sQ0FBQyxjQUFjLEVBQUUsSUFBSStCLE9BQU9DLFdBQVcsR0FBR0MsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDO29CQUM5RC9CLFNBQVM7b0JBQ1RnQyxNQUFNO29CQUNOQyxPQUFPO2dCQUNUO2dCQUVBLE1BQU0sRUFBRW5ILE1BQU1pSSxPQUFPLEVBQUVwSSxPQUFPcUksUUFBUSxFQUFFLEdBQUcsTUFBTXBJLFNBQzlDaUIsSUFBSSxDQUFDLGNBQ0wrRyxNQUFNLENBQUNFLGlCQUNQaEgsTUFBTTtnQkFFVCxJQUFJa0gsVUFBVTtvQkFDWnRJLFFBQVFDLEtBQUssQ0FBQyxvQ0FBb0NxSTtvQkFDbEQsTUFBTUE7Z0JBQ1I7Z0JBRUF0SSxRQUFRbUQsR0FBRyxDQUFDLCtDQUErQ2tGO2dCQUMzRCxPQUFPO29CQUNMakksTUFBTWlJO29CQUNORSxNQUFNO2dCQUNSO1lBQ0Y7WUFFQSxNQUFNdEk7UUFDUjtRQUVBRCxRQUFRbUQsR0FBRyxDQUFDLDBCQUEwQi9DO1FBQ3RDLE9BQU87WUFDTEE7WUFDQW1JLE1BQU07UUFDUjtJQUNGLEVBQUUsT0FBT0MsS0FBSztRQUNaeEksUUFBUUMsS0FBSyxDQUFDLGdDQUFnQ3VJO1FBQzlDLE1BQU1BO0lBQ1I7QUFDRixFQUFFO0FBRUYsaUVBQWV0SSxRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXVzdGluLW11bHRpZmFtaWx5LW1hcC8uL2xpYi9zdXBhYmFzZS5qcz8xNTk4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU3VwYWJhc2UgY2xpZW50IGZvciBmcm9udGVuZCBvcGVyYXRpb25zXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbi8vIEdldCBTdXBhYmFzZSBjcmVkZW50aWFscyBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcblxuaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VBbm9uS2V5KSB7XG4gIGNvbnNvbGUuZXJyb3IoXG4gICAgJ1N1cGFiYXNlIGNyZWRlbnRpYWxzIG5vdCBmb3VuZC4gUGxlYXNlIHNldCBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgYW5kIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIGVudmlyb25tZW50IHZhcmlhYmxlcy4nXG4gICk7XG59XG5cbi8vIENyZWF0ZSBTdXBhYmFzZSBjbGllbnRcbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KTtcblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgYXV0aGVudGljYXRlZCB1c2VyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3R8bnVsbD59IFRoZSB1c2VyIG9iamVjdCBvciBudWxsIGlmIG5vdCBhdXRoZW50aWNhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50VXNlciA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gIHJldHVybiB1c2VyO1xufTtcblxuLyoqXG4gKiBTaWduIHVwIGEgbmV3IHVzZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCAtIFVzZXIncyBlbWFpbFxuICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVXNlcidzIHBhc3N3b3JkXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUgcmVzdWx0IG9mIHRoZSBzaWduIHVwIG9wZXJhdGlvblxuICovXG5leHBvcnQgY29uc3Qgc2lnblVwID0gYXN5bmMgKGVtYWlsLCBwYXNzd29yZCkgPT4ge1xuICByZXR1cm4gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduVXAoe1xuICAgIGVtYWlsLFxuICAgIHBhc3N3b3JkLFxuICB9KTtcbn07XG5cbi8qKlxuICogU2lnbiBpbiBhIHVzZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbCAtIFVzZXIncyBlbWFpbFxuICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVXNlcidzIHBhc3N3b3JkXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUgcmVzdWx0IG9mIHRoZSBzaWduIGluIG9wZXJhdGlvblxuICovXG5leHBvcnQgY29uc3Qgc2lnbkluID0gYXN5bmMgKGVtYWlsLCBwYXNzd29yZCkgPT4ge1xuICByZXR1cm4gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQoe1xuICAgIGVtYWlsLFxuICAgIHBhc3N3b3JkLFxuICB9KTtcbn07XG5cbi8qKlxuICogU2lnbiBvdXQgdGhlIGN1cnJlbnQgdXNlclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gVGhlIHJlc3VsdCBvZiB0aGUgc2lnbiBvdXQgb3BlcmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzaWduT3V0ID0gYXN5bmMgKCkgPT4ge1xuICByZXR1cm4gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KCk7XG59O1xuXG4vKipcbiAqIEZldGNoIHByb3BlcnRpZXMgZnJvbSBTdXBhYmFzZSB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nIGFuZCBkYXRhIG5vcm1hbGl6YXRpb25cbiAqIFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBRdWVyeSBvcHRpb25zXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5maWx0ZXJzIC0gS2V5LXZhbHVlIHBhaXJzIGZvciBmaWx0ZXJpbmcgKGUuZy4ge3N0YXR1czogJ0ZvciBTYWxlJ30pXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5wYWdlIC0gUGFnZSBudW1iZXIgZm9yIHBhZ2luYXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnBhZ2VTaXplIC0gTnVtYmVyIG9mIGl0ZW1zIHBlciBwYWdlXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zb3J0QnkgLSBGaWVsZCB0byBzb3J0IGJ5XG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuc29ydEFzYyAtIFNvcnQgaW4gYXNjZW5kaW5nIG9yZGVyIGlmIHRydWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5pbmNsdWRlSW5jb21wbGV0ZSAtIFdoZXRoZXIgdG8gaW5jbHVkZSBwcm9wZXJ0aWVzIHdpdGggbWlzc2luZyBjb29yZGluYXRlc1xuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmluY2x1ZGVSZXNlYXJjaCAtIFdoZXRoZXIgdG8gaW5jbHVkZSBlbnJpY2hlZCByZXNlYXJjaCBkYXRhXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheT59IEFycmF5IG9mIG5vcm1hbGl6ZWQgcHJvcGVydGllc1xuICovXG5leHBvcnQgY29uc3QgZmV0Y2hQcm9wZXJ0aWVzID0gYXN5bmMgKG9wdGlvbnMgPSB7fSkgPT4ge1xuICBsZXQgc2VsZWN0RmllbGRzID0gJ3Byb3BlcnRpZXMuKic7XG4gIFxuICAvLyBDaGVjayBpZiB3ZSBzaG91bGQgam9pbiB3aXRoIHJlc2VhcmNoIGRhdGFcbiAgaWYgKG9wdGlvbnMuaW5jbHVkZVJlc2VhcmNoICE9PSBmYWxzZSkge1xuICAgIC8vIEluY2x1ZGUgcmVzZWFyY2ggZGF0YSBpbiBvdXIgcXVlcnkgLSB3ZSdsbCBqb2luIHdpdGggcHJvcGVydHlfcmVzZWFyY2ggdGFibGVcbiAgICB0cnkge1xuICAgICAgLy8gU3RhcnQgd2l0aCBhIHF1ZXJ5IHRoYXQgam9pbnMgcHJvcGVydGllcyB3aXRoIHJlc2VhcmNoIGRhdGFcbiAgICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlLmZyb20oJ3Byb3BlcnRpZXMnKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICAqLFxuICAgICAgICAgIHByb3BlcnR5X3Jlc2VhcmNoOnByb3BlcnR5X3Jlc2VhcmNoKCopXG4gICAgICAgIGApO1xuICAgICAgXG4gICAgICAvLyBBcHBseSBmaWx0ZXJzIGlmIHByb3ZpZGVkXG4gICAgICBpZiAob3B0aW9ucy5maWx0ZXJzKSB7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG9wdGlvbnMuZmlsdGVycykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc3BlY2lhbCBmaWx0ZXIgc3ludGF4XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnb3InKSB7XG4gICAgICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkub3IodmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkuZW5kc1dpdGgoJ19ndGUnKSkge1xuICAgICAgICAgICAgICBjb25zdCBhY3R1YWxLZXkgPSBrZXkucmVwbGFjZSgnX2d0ZScsICcnKTtcbiAgICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5ndGUoYWN0dWFsS2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleS5lbmRzV2l0aCgnX2x0ZScpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFjdHVhbEtleSA9IGtleS5yZXBsYWNlKCdfbHRlJywgJycpO1xuICAgICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmx0ZShhY3R1YWxLZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5LmVuZHNXaXRoKCdfZ3QnKSkge1xuICAgICAgICAgICAgICBjb25zdCBhY3R1YWxLZXkgPSBrZXkucmVwbGFjZSgnX2d0JywgJycpO1xuICAgICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmd0KGFjdHVhbEtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkuZW5kc1dpdGgoJ19sdCcpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFjdHVhbEtleSA9IGtleS5yZXBsYWNlKCdfbHQnLCAnJyk7XG4gICAgICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkubHQoYWN0dWFsS2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleS5lbmRzV2l0aCgnX2lsaWtlJykpIHtcbiAgICAgICAgICAgICAgY29uc3QgYWN0dWFsS2V5ID0ga2V5LnJlcGxhY2UoJ19pbGlrZScsICcnKTtcbiAgICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5pbGlrZShhY3R1YWxLZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gZXF1YWxpdHkgbWF0Y2hpbmdcbiAgICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5lcShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiB3ZSBuZWVkIGNvbXBsZXRlIHByb3BlcnRpZXMgd2l0aCBjb29yZGluYXRlcyBmb3IgdGhlIG1hcFxuICAgICAgaWYgKCFvcHRpb25zLmluY2x1ZGVJbmNvbXBsZXRlKSB7XG4gICAgICAgIC8vIENoZWNrIGZvciB2YWxpZCBjb29yZGluYXRlcyBpbiBlaXRoZXIgdGhlIHByb3BlcnRpZXMgdGFibGUgb3IgdGhlIG1vZHVsZXMgaW4gcHJvcGVydHlfcmVzZWFyY2hcbiAgICAgICAgLy8gVGhpcyBpcyBhIGJpdCBjb21wbGV4IGR1ZSB0byB0aGUgam9pbiAtIHdlIG5lZWQgdG8gdXNlIGFuIE9SIGNvbmRpdGlvblxuICAgICAgICBjb25zdCBjb29yZEZpbHRlciA9ICdub3Qub3I9KGxhdGl0dWRlLmlzLm51bGwsbG9uZ2l0dWRlLmlzLm51bGwsbGF0aXR1ZGUuZXEuMCxsb25naXR1ZGUuZXEuMCknO1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGNvb3JkRmlsdGVyKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQXBwbHkgcGFnaW5hdGlvblxuICAgICAgaWYgKG9wdGlvbnMucGFnZSAmJiBvcHRpb25zLnBhZ2VTaXplKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gKG9wdGlvbnMucGFnZSAtIDEpICogb3B0aW9ucy5wYWdlU2l6ZTtcbiAgICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyBvcHRpb25zLnBhZ2VTaXplIC0gMTtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5yYW5nZShzdGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQXBwbHkgc29ydGluZ1xuICAgICAgaWYgKG9wdGlvbnMuc29ydEJ5KSB7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIob3B0aW9ucy5zb3J0QnksIHsgYXNjZW5kaW5nOiBvcHRpb25zLnNvcnRBc2MgIT09IGZhbHNlIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBFeGVjdXRlIHF1ZXJ5XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIC8vIElmIHRoaXMgZmFpbHMsIHdlJ2xsIGZhbGwgYmFjayB0byB0aGUgbm9uLWpvaW4gcXVlcnlcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciBmZXRjaGluZyBwcm9wZXJ0aWVzIHdpdGggcmVzZWFyY2ggam9pbjonLCBlcnJvcik7XG4gICAgICAgIC8vIENvbnRpbnVlIHRvIGZhbGxiYWNrIHF1ZXJ5IGJlbG93XG4gICAgICB9IGVsc2UgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2RhdGEubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggcmVzZWFyY2ggZGF0YWApO1xuICAgICAgICBcbiAgICAgICAgLy8gTWVyZ2UgcmVzZWFyY2ggZGF0YSB3aXRoIHByb3BlcnR5IGRhdGFcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFByb3BlcnRpZXMgPSBkYXRhLm1hcChwcm9wZXJ0eSA9PiB7XG4gICAgICAgICAgLy8gRXh0cmFjdCByZXNlYXJjaCBkYXRhIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnN0IHJlc2VhcmNoRGF0YSA9IHByb3BlcnR5LnByb3BlcnR5X3Jlc2VhcmNoICYmIHByb3BlcnR5LnByb3BlcnR5X3Jlc2VhcmNoLmxlbmd0aCA+IDAgXG4gICAgICAgICAgICA/IHByb3BlcnR5LnByb3BlcnR5X3Jlc2VhcmNoWzBdIFxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIERlbGV0ZSB0aGUgbmVzdGVkIHByb3BlcnR5X3Jlc2VhcmNoIHRvIGF2b2lkIGNvbmZ1c2lvblxuICAgICAgICAgIGRlbGV0ZSBwcm9wZXJ0eS5wcm9wZXJ0eV9yZXNlYXJjaDtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBOb3JtYWxpemUgdGhlIHByb3BlcnR5XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFByb3BlcnR5ID0gbm9ybWFsaXplUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgcmVzZWFyY2ggZGF0YSB3aXRoIHZhbGlkIGNvb3JkaW5hdGVzLCB1c2UgdGhlbVxuICAgICAgICAgIGlmIChyZXNlYXJjaERhdGEgJiYgcmVzZWFyY2hEYXRhLm1vZHVsZXMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciB2YWxpZCBjb29yZGluYXRlcyBpbiBwcm9wZXJ0eV9kZXRhaWxzIG1vZHVsZVxuICAgICAgICAgICAgICBjb25zdCBwcm9wZXJ0eURldGFpbHMgPSByZXNlYXJjaERhdGEubW9kdWxlcy5wcm9wZXJ0eV9kZXRhaWxzIHx8IHt9O1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gT25seSB1c2UgcmVzZWFyY2ggY29vcmRpbmF0ZXMgaWYgdGhleSdyZSB2YWxpZCBhbmQgcHJvcGVydHkgZG9lc24ndCBoYXZlIHRoZW1cbiAgICAgICAgICAgICAgaWYgKHByb3BlcnR5RGV0YWlscy5sYXRpdHVkZSAmJiBwcm9wZXJ0eURldGFpbHMubG9uZ2l0dWRlICYmXG4gICAgICAgICAgICAgICAgICB0eXBlb2YgcHJvcGVydHlEZXRhaWxzLmxhdGl0dWRlID09PSAnbnVtYmVyJyAmJiBcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBwcm9wZXJ0eURldGFpbHMubG9uZ2l0dWRlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgIW5vcm1hbGl6ZWRQcm9wZXJ0eS5faXNfZ3JpZF9wYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFByb3BlcnR5LmxhdGl0dWRlID0gcHJvcGVydHlEZXRhaWxzLmxhdGl0dWRlO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wZXJ0eS5sb25naXR1ZGUgPSBwcm9wZXJ0eURldGFpbHMubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wZXJ0eS5fY29vcmRpbmF0ZXNfZnJvbV9yZXNlYXJjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFByb3BlcnR5Ll9jb29yZGluYXRlc19taXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFByb3BlcnR5Ll9uZWVkc19nZW9jb2RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgcmVzZWFyY2ggY29vcmRpbmF0ZXMgZm9yIHByb3BlcnR5ICR7cHJvcGVydHkuaWR9OiBbJHtwcm9wZXJ0eURldGFpbHMubGF0aXR1ZGV9LCAke3Byb3BlcnR5RGV0YWlscy5sb25naXR1ZGV9XWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBBZGQgcmVzZWFyY2ggZGF0YSB0byBwcm9wZXJ0eVxuICAgICAgICAgICAgICBub3JtYWxpemVkUHJvcGVydHkuX3Jlc2VhcmNoID0ge1xuICAgICAgICAgICAgICAgIGRlcHRoOiByZXNlYXJjaERhdGEucmVzZWFyY2hfZGVwdGgsXG4gICAgICAgICAgICAgICAgZGF0ZTogcmVzZWFyY2hEYXRhLnJlc2VhcmNoX2RhdGUsXG4gICAgICAgICAgICAgICAgc3VtbWFyeTogcmVzZWFyY2hEYXRhLmV4ZWN1dGl2ZV9zdW1tYXJ5XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgcmVzZWFyY2ggZGF0YTonLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRQcm9wZXJ0eTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZFByb3BlcnRpZXM7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoam9pbkVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3aXRoIHJlc2VhcmNoIGpvaW4gcXVlcnk6Jywgam9pbkVycm9yKTtcbiAgICAgIC8vIEZhbGwgYmFjayB0byBzdGFuZGFyZCBxdWVyeVxuICAgIH1cbiAgfVxuICBcbiAgLy8gRmFsbGJhY2sgLSBzdGFuZGFyZCBxdWVyeSB3aXRob3V0IHJlc2VhcmNoIGRhdGFcbiAgY29uc29sZS5sb2coJ1VzaW5nIHN0YW5kYXJkIHByb3BlcnR5IHF1ZXJ5IHdpdGhvdXQgcmVzZWFyY2ggZGF0YScpO1xuICBsZXQgcXVlcnkgPSBzdXBhYmFzZS5mcm9tKCdwcm9wZXJ0aWVzJykuc2VsZWN0KCcqJyk7XG4gIFxuICAvLyBBcHBseSBmaWx0ZXJzIGlmIHByb3ZpZGVkXG4gIGlmIChvcHRpb25zLmZpbHRlcnMpIHtcbiAgICBPYmplY3QuZW50cmllcyhvcHRpb25zLmZpbHRlcnMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09ICcnKSB7XG4gICAgICAgIC8vIEhhbmRsZSBzcGVjaWFsIGZpbHRlciBzeW50YXhcbiAgICAgICAgaWYgKGtleSA9PT0gJ29yJykge1xuICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkub3IodmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleS5lbmRzV2l0aCgnX2d0ZScpKSB7XG4gICAgICAgICAgY29uc3QgYWN0dWFsS2V5ID0ga2V5LnJlcGxhY2UoJ19ndGUnLCAnJyk7XG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5ndGUoYWN0dWFsS2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5LmVuZHNXaXRoKCdfbHRlJykpIHtcbiAgICAgICAgICBjb25zdCBhY3R1YWxLZXkgPSBrZXkucmVwbGFjZSgnX2x0ZScsICcnKTtcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmx0ZShhY3R1YWxLZXksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkuZW5kc1dpdGgoJ19ndCcpKSB7XG4gICAgICAgICAgY29uc3QgYWN0dWFsS2V5ID0ga2V5LnJlcGxhY2UoJ19ndCcsICcnKTtcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmd0KGFjdHVhbEtleSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleS5lbmRzV2l0aCgnX2x0JykpIHtcbiAgICAgICAgICBjb25zdCBhY3R1YWxLZXkgPSBrZXkucmVwbGFjZSgnX2x0JywgJycpO1xuICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkubHQoYWN0dWFsS2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5LmVuZHNXaXRoKCdfaWxpa2UnKSkge1xuICAgICAgICAgIGNvbnN0IGFjdHVhbEtleSA9IGtleS5yZXBsYWNlKCdfaWxpa2UnLCAnJyk7XG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5pbGlrZShhY3R1YWxLZXksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBEZWZhdWx0IHRvIGVxdWFsaXR5IG1hdGNoaW5nXG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5lcShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIFxuICAvLyBJZiB3ZSBuZWVkIGNvbXBsZXRlIHByb3BlcnRpZXMgd2l0aCBjb29yZGluYXRlcyBmb3IgdGhlIG1hcFxuICBpZiAoIW9wdGlvbnMuaW5jbHVkZUluY29tcGxldGUpIHtcbiAgICAvLyBUcnkgdG8gZGV0ZXJtaW5lIHdoYXQgY29vcmRpbmF0ZSBmaWVsZHMgZXhpc3QgaW4gdGhlIGRhdGFiYXNlXG4gICAgLy8gVGhpcyBoYW5kbGVzIGNhc2VzIHdoZXJlIHRoZSBkYXRhYmFzZSBzY2hlbWEgbWlnaHQgZGlmZmVyIGZyb20gZXhwZWN0YXRpb25zXG4gICAgdHJ5IHtcbiAgICAgIC8vIEV4Y2x1ZGUgbnVsbCBjb29yZGluYXRlcyBhbmQgXCIwXCIgY29vcmRpbmF0ZXMgd2hpY2ggYXJlIHVzdWFsbHkgcGxhY2Vob2xkZXJzXG4gICAgICAvLyBVc2UgYSBtb3JlIGZsZXhpYmxlIGFwcHJvYWNoIHRoYXQgdHJpZXMgZGlmZmVyZW50IGNvbmRpdGlvbnNcbiAgICAgIHF1ZXJ5ID0gcXVlcnlcbiAgICAgICAgLm5vdCgnbGF0aXR1ZGUnLCAnaXMnLCBudWxsKVxuICAgICAgICAubm90KCdsb25naXR1ZGUnLCAnaXMnLCBudWxsKTtcbiAgICAgICAgXG4gICAgICAvLyBBdm9pZCBhZGRpbmcgdGhlIC5lcSgwKSBmaWx0ZXJzIGlmIHRoZSBkYXRhYmFzZSBzY2hlbWEgbWlnaHQgbm90IGhhdmUgbnVtZXJpYyBjb29yZGluYXRlc1xuICAgICAgLy8gT25seSBhZGQgdGhlc2UgaWYgd2UncmUgY29uZmlkZW50IHRoZXkgd29uJ3QgY2F1c2UgZXJyb3JzXG4gICAgICB0cnkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5XG4gICAgICAgICAgLm5vdCgnbGF0aXR1ZGUnLCAnZXEnLCAwKVxuICAgICAgICAgIC5ub3QoJ2xvbmdpdHVkZScsICdlcScsIDApO1xuICAgICAgfSBjYXRjaCAoY29vcmRFcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBmaWx0ZXIgemVybyBjb29yZGluYXRlcywgdGhleSBtYXkgbm90IGJlIG51bWVyaWM6JywgY29vcmRFcnJvcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoc2NoZW1hRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRXJyb3IgYXBwbHlpbmcgY29vcmRpbmF0ZSBmaWx0ZXJzLCBzY2hlbWEgbWF5IGJlIGRpZmZlcmVudDonLCBzY2hlbWFFcnJvcik7XG4gICAgICAvLyBJZiBmaWx0ZXJpbmcgYnkgY29vcmRpbmF0ZXMgZmFpbHMsIHdlJ2xsIHJldHVybiBhbGwgcHJvcGVydGllc1xuICAgIH1cbiAgfVxuICBcbiAgLy8gQXBwbHkgcGFnaW5hdGlvblxuICBpZiAob3B0aW9ucy5wYWdlICYmIG9wdGlvbnMucGFnZVNpemUpIHtcbiAgICBjb25zdCBzdGFydCA9IChvcHRpb25zLnBhZ2UgLSAxKSAqIG9wdGlvbnMucGFnZVNpemU7XG4gICAgY29uc3QgZW5kID0gc3RhcnQgKyBvcHRpb25zLnBhZ2VTaXplIC0gMTtcbiAgICBxdWVyeSA9IHF1ZXJ5LnJhbmdlKHN0YXJ0LCBlbmQpO1xuICB9XG4gIFxuICAvLyBBcHBseSBzb3J0aW5nXG4gIGlmIChvcHRpb25zLnNvcnRCeSkge1xuICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIob3B0aW9ucy5zb3J0QnksIHsgYXNjZW5kaW5nOiBvcHRpb25zLnNvcnRBc2MgIT09IGZhbHNlIH0pO1xuICB9XG4gIFxuICAvLyBFeGVjdXRlIHF1ZXJ5XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5O1xuICBcbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvcGVydGllczonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbiAgXG4gIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnNvbGUud2FybignTm8gcHJvcGVydGllcyBmb3VuZCB3aXRoIHRoZSBnaXZlbiBjcml0ZXJpYScpO1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBcbiAgLy8gTm9ybWFsaXplIHByb3BlcnR5IGRhdGEgdG8gaGFuZGxlIGluY29uc2lzdGVuY2llc1xuICByZXR1cm4gZGF0YS5tYXAocHJvcGVydHkgPT4gbm9ybWFsaXplUHJvcGVydHkocHJvcGVydHkpKTtcbn07XG5cbi8qKlxuICogTm9ybWFsaXplcyBwcm9wZXJ0eSBkYXRhIHRvIGhhbmRsZSBpbmNvbnNpc3RlbnQgZmllbGQgbmFtZXNcbiAqIFxuICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnR5IC0gUmF3IHByb3BlcnR5IGRhdGEgZnJvbSBTdXBhYmFzZVxuICogQHJldHVybnMge09iamVjdH0gTm9ybWFsaXplZCBwcm9wZXJ0eSBkYXRhXG4gKi9cbmNvbnN0IG5vcm1hbGl6ZVByb3BlcnR5ID0gKHByb3BlcnR5KSA9PiB7XG4gIC8vIE1ha2UgY29weSB0byBhdm9pZCBtdXRhdGluZyB0aGUgb3JpZ2luYWxcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHsgLi4ucHJvcGVydHkgfTtcbiAgXG4gIC8vIEhhbmRsZSBpbmNvbnNpc3RlbnQgdW5pdCBmaWVsZCBuYW1lc1xuICBub3JtYWxpemVkLnVuaXRzID0gcHJvcGVydHkubnVtX3VuaXRzIHx8IHByb3BlcnR5LnVuaXRzIHx8IG51bGw7XG4gIFxuICAvLyBVc2UgcHJvcGVydHkgbmFtZSBvciBkZXJpdmUgZnJvbSBhZGRyZXNzIGlmIG1pc3NpbmdcbiAgaWYgKCFub3JtYWxpemVkLm5hbWUgfHwgbm9ybWFsaXplZC5uYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICBub3JtYWxpemVkLm5hbWUgPSBwcm9wZXJ0eS5hZGRyZXNzIFxuICAgICAgPyBgUHJvcGVydHkgYXQgJHtwcm9wZXJ0eS5hZGRyZXNzLnNwbGl0KCcsJylbMF19YFxuICAgICAgOiBgUHJvcGVydHkgJHtwcm9wZXJ0eS5pZC5zdWJzdHJpbmcoMCwgOCl9YDtcbiAgfVxuICBcbiAgLy8gTWFrZSBzdXJlIHdlIGhhdmUgc3RhdHVzXG4gIG5vcm1hbGl6ZWQuc3RhdHVzID0gcHJvcGVydHkuc3RhdHVzIHx8IHByb3BlcnR5LnByb3BlcnR5X3N0YXR1cyB8fCAnTGlzdGVkJztcbiAgXG4gIC8vIENoZWNrIGlmIHRoaXMgaXMgbGlrZWx5IGEgdGVzdCBwcm9wZXJ0eVxuICBub3JtYWxpemVkLl9pc190ZXN0X3Byb3BlcnR5ID0gaXNUZXN0UHJvcGVydHkocHJvcGVydHkpO1xuICBcbiAgLy8gQWRkIGNvb3JkaW5hdGUgcmVsYXRlZCBmbGFnc1xuICBpZiAocHJvcGVydHkubGF0aXR1ZGUgJiYgcHJvcGVydHkubG9uZ2l0dWRlICYmXG4gICAgICB0eXBlb2YgcHJvcGVydHkubGF0aXR1ZGUgPT09ICdudW1iZXInICYmIFxuICAgICAgdHlwZW9mIHByb3BlcnR5LmxvbmdpdHVkZSA9PT0gJ251bWJlcicgJiZcbiAgICAgICEocHJvcGVydHkubGF0aXR1ZGUgPT09IDAgJiYgcHJvcGVydHkubG9uZ2l0dWRlID09PSAwKSkge1xuICAgIFxuICAgIC8vIENoZWNrIGlmIGNvb3JkaW5hdGVzIGFyZSB2YWxpZCAoaW4gcHJvcGVyIGxhdC9sb25nIHJhbmdlcylcbiAgICBjb25zdCBpc1ZhbGlkTGF0aXR1ZGUgPSBwcm9wZXJ0eS5sYXRpdHVkZSA+PSAtOTAgJiYgcHJvcGVydHkubGF0aXR1ZGUgPD0gOTA7XG4gICAgY29uc3QgaXNWYWxpZExvbmdpdHVkZSA9IHByb3BlcnR5LmxvbmdpdHVkZSA+PSAtMTgwICYmIHByb3BlcnR5LmxvbmdpdHVkZSA8PSAxODA7XG4gICAgXG4gICAgLy8gQXVzdGluIGFyZWEgYm91bmRhcmllcyAoYXBwcm94aW1hdGUpIC0gaGVscHMgZGV0ZWN0IG9idmlvdXNseSB3cm9uZyBjb29yZGluYXRlc1xuICAgIGNvbnN0IGlzSW5BdXN0aW5BcmVhID0gKFxuICAgICAgcHJvcGVydHkubGF0aXR1ZGUgPj0gMjkuNSAmJiBwcm9wZXJ0eS5sYXRpdHVkZSA8PSAzMS4wICYmIFxuICAgICAgcHJvcGVydHkubG9uZ2l0dWRlID49IC05OC4wICYmIHByb3BlcnR5LmxvbmdpdHVkZSA8PSAtOTcuMFxuICAgICk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgY29vcmRpbmF0ZXMgYXJlIHBhcnQgb2YgYSBncmlkIHBhdHRlcm4gKGxvdyBwcmVjaXNpb24gb3Igc3VzcGljaW91cyBwYXR0ZXJucylcbiAgICBjb25zdCBsYXRTdHIgPSBTdHJpbmcocHJvcGVydHkubGF0aXR1ZGUpO1xuICAgIGNvbnN0IGxuZ1N0ciA9IFN0cmluZyhwcm9wZXJ0eS5sb25naXR1ZGUpO1xuICAgIFxuICAgIC8vIE9ubHkgZmxhZyB2ZXJ5IGxvdyBwcmVjaXNpb24gY29vcmRpbmF0ZXMgYXMgc3VzcGljaW91cyAoMSBkZWNpbWFsIHBsYWNlIG9yIGxlc3MpXG4gICAgY29uc3QgaGFzTG93UHJlY2lzaW9uID0gXG4gICAgICAobGF0U3RyLmluY2x1ZGVzKCcuJykgJiYgbGF0U3RyLnNwbGl0KCcuJylbMV0ubGVuZ3RoIDw9IDEpIHx8XG4gICAgICAobG5nU3RyLmluY2x1ZGVzKCcuJykgJiYgbG5nU3RyLnNwbGl0KCcuJylbMV0ubGVuZ3RoIDw9IDEpO1xuICAgICAgXG4gICAgLy8gUmVkdWNlZCBzZXQgb2Ygc3VzcGljaW91cyBwYXR0ZXJuc1xuICAgIGNvbnN0IGhhc1N1c3BpY2lvdXNQYXR0ZXJuID0gXG4gICAgICBsYXRTdHIgPT09IGxuZ1N0ciB8fCAvLyBTYW1lIGxhdC9sbmcgaXMgdmVyeSB1bmxpa2VseVxuICAgICAgbGF0U3RyLmVuZHNXaXRoKCcwMDAwMCcpIHx8IFxuICAgICAgbG5nU3RyLmVuZHNXaXRoKCcwMDAwMCcpO1xuICAgIFxuICAgIC8vIEtlZXAgdHJhY2sgb2Ygd2hldGhlciB0aGlzIGlzIGRldGVjdGVkIGFzIGEgZ3JpZCBwYXR0ZXJuXG4gICAgY29uc3QgaXNHcmlkUGF0dGVybiA9IGhhc0xvd1ByZWNpc2lvbiB8fCBoYXNTdXNwaWNpb3VzUGF0dGVybjtcbiAgICBcbiAgICAvLyBGbGFnIGNvb3JkaW5hdGVzIGFzIG1pc3NpbmcgaWYgdGhleSdyZSBpbnZhbGlkIG9yIHN1c3BpY2lvdXNcbiAgICBpZiAoIWlzVmFsaWRMYXRpdHVkZSB8fCAhaXNWYWxpZExvbmdpdHVkZSB8fCBpc0dyaWRQYXR0ZXJuKSB7XG4gICAgICBub3JtYWxpemVkLl9jb29yZGluYXRlc19taXNzaW5nID0gdHJ1ZTtcbiAgICAgIG5vcm1hbGl6ZWQuX25lZWRzX2dlb2NvZGluZyA9IHRydWU7XG4gICAgICBub3JtYWxpemVkLl9pc19ncmlkX3BhdHRlcm4gPSBpc0dyaWRQYXR0ZXJuO1xuICAgICAgbm9ybWFsaXplZC5faXNfaW52YWxpZF9yYW5nZSA9ICFpc1ZhbGlkTGF0aXR1ZGUgfHwgIWlzVmFsaWRMb25naXR1ZGU7XG4gICAgICBcbiAgICAgIC8vIERlYnVnIGluZm8gZm9yIGludmFsaWQgY29vcmRpbmF0ZXNcbiAgICAgIGlmICghaXNWYWxpZExhdGl0dWRlIHx8ICFpc1ZhbGlkTG9uZ2l0dWRlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBjb29yZGluYXRlIHJhbmdlIGZvciBwcm9wZXJ0eSAke3Byb3BlcnR5LmlkfTogWyR7cHJvcGVydHkubGF0aXR1ZGV9LCAke3Byb3BlcnR5LmxvbmdpdHVkZX1dYCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNldCBhZGRpdGlvbmFsIGZsYWdzIGZvciBjb29yZGluYXRlcyBvdXRzaWRlIEF1c3RpbiAobWlnaHQgYmUgdmFsaWQgYnV0IHN1c3BpY2lvdXMpXG4gICAgICBub3JtYWxpemVkLl9vdXRzaWRlX2F1c3RpbiA9ICFpc0luQXVzdGluQXJlYTtcbiAgICAgIG5vcm1hbGl6ZWQuX2Nvb3JkaW5hdGVzX21pc3NpbmcgPSBmYWxzZTtcbiAgICAgIG5vcm1hbGl6ZWQuX25lZWRzX2dlb2NvZGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBObyBjb29yZGluYXRlcyBvciBpbnZhbGlkIGNvb3JkaW5hdGVzXG4gICAgbm9ybWFsaXplZC5fY29vcmRpbmF0ZXNfbWlzc2luZyA9IHRydWU7XG4gICAgbm9ybWFsaXplZC5fbmVlZHNfZ2VvY29kaW5nID0gdHJ1ZTtcbiAgfVxuICBcbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSBwcm9wZXJ0eSBpcyBsaWtlbHkgYSB0ZXN0L2V4YW1wbGUgcHJvcGVydHlcbiAqIFxuICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnR5IC0gUHJvcGVydHkgZGF0YSB0byBjaGVja1xuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgcHJvcGVydHkgaXMgbGlrZWx5IGEgdGVzdCBwcm9wZXJ0eVxuICovXG5jb25zdCBpc1Rlc3RQcm9wZXJ0eSA9IChwcm9wZXJ0eSkgPT4ge1xuICAvLyBDaGVjayBmb3IgY29tbW9uIHRlc3QgcHJvcGVydHkgaW5kaWNhdG9ycyBpbiBuYW1lXG4gIGNvbnN0IG5hbWUgPSAocHJvcGVydHkubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgdGVzdEluZGljYXRvcnMgPSBbJ3Rlc3QnLCAnZXhhbXBsZScsICdzYW1wbGUnLCAnZGVtbycsICdkdW1teScsICd0ZW1wbGF0ZSddO1xuICBcbiAgZm9yIChjb25zdCBpbmRpY2F0b3Igb2YgdGVzdEluZGljYXRvcnMpIHtcbiAgICBpZiAobmFtZS5pbmNsdWRlcyhpbmRpY2F0b3IpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIENoZWNrIGZvciB1bnJlYWxpc3RpYyB2YWx1ZXNcbiAgaWYgKHByb3BlcnR5LnByaWNlID09PSAwIHx8IHByb3BlcnR5LnByaWNlID09PSAxKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIGlmIChwcm9wZXJ0eS51bml0cyA9PT0gMCB8fCBwcm9wZXJ0eS51bml0cyA9PT0gOTk5IHx8IHByb3BlcnR5Lm51bV91bml0cyA9PT0gMCB8fCBwcm9wZXJ0eS5udW1fdW5pdHMgPT09IDk5OSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICAvLyBDaGVjayBmb3IgcGxhY2Vob2xkZXIgYWRkcmVzc2VzXG4gIGNvbnN0IGFkZHJlc3MgPSAocHJvcGVydHkuYWRkcmVzcyB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgcGxhY2Vob2xkZXJJbmRpY2F0b3JzID0gWycxMjMgbWFpbicsICd0ZXN0IGFkZHJlc3MnLCAnZXhhbXBsZScsICdwbGFjZWhvbGRlciddO1xuICBcbiAgZm9yIChjb25zdCBpbmRpY2F0b3Igb2YgcGxhY2Vob2xkZXJJbmRpY2F0b3JzKSB7XG4gICAgaWYgKGFkZHJlc3MuaW5jbHVkZXMoaW5kaWNhdG9yKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0ZXN0IHByb3BlcnR5IGluIHRoZSBkYXRhYmFzZSBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuICogVXNlIHRoaXMgdG8gdmVyaWZ5IHRoZSBkYXRhYmFzZSBjb25uZWN0aW9uIGlzIHdvcmtpbmdcbiAqIFxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gVGhlIGNyZWF0ZWQgdGVzdCBwcm9wZXJ0eVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlVGVzdFByb3BlcnR5ID0gYXN5bmMgKCkgPT4ge1xuICAvLyBGaXJzdCwgY2hlY2sgaWYgd2UgY2FuIGdldCB0aGUgdGFibGUgc3RydWN0dXJlXG4gIHRyeSB7XG4gICAgLy8gVHJ5IHRvIGdldCBvbmUgcmVjb3JkIHRvIHNlZSB0aGUgc2NoZW1hXG4gICAgY29uc3QgeyBkYXRhOiBzYW1wbGVQcm9wZXJ0eSwgZXJyb3I6IHNhbXBsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb3BlcnRpZXMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAubGltaXQoMSk7XG4gICAgXG4gICAgLy8gQmFzaWMgdGVzdCBwcm9wZXJ0eSB0aGF0IG1hdGNoZXMgdGhlIHNjaGVtYSBmcm9tIHN1cGFiYXNlLXNldHVwLm1kXG4gICAgY29uc3QgYmFzZVRlc3RQcm9wZXJ0eSA9IHtcbiAgICAgIG5hbWU6IGBUZXN0IFByb3BlcnR5ICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gLFxuICAgICAgYWRkcmVzczogJzEyMyBUZXN0IFN0cmVldCcsXG4gICAgICBjaXR5OiAnQXVzdGluJyxcbiAgICAgIHN0YXRlOiAnVFgnLFxuICAgICAgemlwX2NvZGU6ICc3ODcwMScsXG4gICAgICBsYXRpdHVkZTogMzAuMjY3MixcbiAgICAgIGxvbmdpdHVkZTogLTk3Ljc0MzEsXG4gICAgICBwcmljZTogNTAwMDAwMCxcbiAgICAgIHVuaXRzOiA1MCxcbiAgICAgIHllYXJfYnVpbHQ6IDIwMTAsXG4gICAgICBwcm9wZXJ0eV90eXBlOiAnTVVMVElGQU1JTFknLFxuICAgICAgc3RhdHVzOiAnYXZhaWxhYmxlJywgLy8gVXNlIHN0YXR1cyByYXRoZXIgdGhhbiBwcm9wZXJ0eV9zdGF0dXMgZnJvbSB0aGUgZG9jc1xuICAgICAgZGVzY3JpcHRpb246ICdUaGlzIGlzIGEgdGVzdCBwcm9wZXJ0eSBjcmVhdGVkIHRvIHZlcmlmeSBkYXRhYmFzZSBjb25uZWN0aXZpdHkuJyxcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gICAgXG4gICAgLy8gSWYgd2UgaGF2ZSBhIHNhbXBsZSwgYWRhcHQgdG8gaXRzIHNjaGVtYVxuICAgIGxldCB0ZXN0UHJvcGVydHkgPSBiYXNlVGVzdFByb3BlcnR5O1xuICAgIGlmICghc2FtcGxlRXJyb3IgJiYgc2FtcGxlUHJvcGVydHkgJiYgc2FtcGxlUHJvcGVydHkubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIGV4aXN0aW5nIHByb3BlcnR5IGZvciBzY2hlbWEgcmVmZXJlbmNlOicsIHNhbXBsZVByb3BlcnR5WzBdKTtcbiAgICAgIFxuICAgICAgLy8gQWRhcHQgb3VyIHRlc3QgcHJvcGVydHkgdG8gbWF0Y2ggdGhlIGV4aXN0aW5nIHNjaGVtYVxuICAgICAgY29uc3Qgc2FtcGxlID0gc2FtcGxlUHJvcGVydHlbMF07XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBvYmplY3Qgd2l0aCBvbmx5IHRoZSBmaWVsZHMgdGhhdCBleGlzdCBpbiB0aGUgc2FtcGxlXG4gICAgICBjb25zdCBhZGFwdGVkUHJvcGVydHkgPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKGJhc2VUZXN0UHJvcGVydHkpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgLy8gSWYgdGhlIGZpZWxkIGV4aXN0cyBpbiB0aGUgc2FtcGxlLCB1c2Ugb3VyIHRlc3QgdmFsdWVcbiAgICAgICAgaWYgKGtleSBpbiBzYW1wbGUpIHtcbiAgICAgICAgICBhZGFwdGVkUHJvcGVydHlba2V5XSA9IGJhc2VUZXN0UHJvcGVydHlba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGtleSBmaWVsZHMgdGhhdCBtaWdodCBoYXZlIGRpZmZlcmVudCBuYW1lc1xuICAgICAgaWYgKCdwcm9wZXJ0eV9zdGF0dXMnIGluIHNhbXBsZSAmJiAhKCdzdGF0dXMnIGluIHNhbXBsZSkpIHtcbiAgICAgICAgYWRhcHRlZFByb3BlcnR5LnByb3BlcnR5X3N0YXR1cyA9IGJhc2VUZXN0UHJvcGVydHkuc3RhdHVzO1xuICAgICAgICBkZWxldGUgYWRhcHRlZFByb3BlcnR5LnN0YXR1cztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCdudW1fdW5pdHMnIGluIHNhbXBsZSAmJiAhKCd1bml0cycgaW4gc2FtcGxlKSkge1xuICAgICAgICBhZGFwdGVkUHJvcGVydHkubnVtX3VuaXRzID0gYmFzZVRlc3RQcm9wZXJ0eS51bml0cztcbiAgICAgICAgZGVsZXRlIGFkYXB0ZWRQcm9wZXJ0eS51bml0cztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXNlIHRoZSBhZGFwdGVkIHByb3BlcnR5XG4gICAgICB0ZXN0UHJvcGVydHkgPSBhZGFwdGVkUHJvcGVydHk7XG4gICAgICBjb25zb2xlLmxvZygnQWRhcHRlZCB0ZXN0IHByb3BlcnR5IHRvIG1hdGNoIHNjaGVtYTonLCB0ZXN0UHJvcGVydHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnTm8gc2FtcGxlIHByb3BlcnR5IGZvdW5kLCB1c2luZyBkZWZhdWx0IHNjaGVtYScpO1xuICAgIH1cbiAgICBcbiAgICAvLyBUcnkgdG8gaW5zZXJ0IHRoZSB0ZXN0IHByb3BlcnR5XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9wZXJ0aWVzJylcbiAgICAgIC5pbnNlcnQodGVzdFByb3BlcnR5KVxuICAgICAgLnNlbGVjdCgpO1xuICAgICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyB0ZXN0IHByb3BlcnR5OicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IGFnYWluIHdpdGggbWluaW1hbCBmaWVsZHMgaWYgdGhpcyBmYWlsZWRcbiAgICAgIGlmIChlcnJvci5tZXNzYWdlICYmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCd2aW9sYXRlcyBub3QtbnVsbCBjb25zdHJhaW50JykgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdtaXNzaW5nJykpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUcnlpbmcgYWdhaW4gd2l0aCBtaW5pbWFsIHJlcXVpcmVkIGZpZWxkcycpO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IHdpdGgganVzdCB0aGUgYmFyZSBtaW5pbXVtIGZpZWxkc1xuICAgICAgICBjb25zdCBtaW5pbWFsUHJvcGVydHkgPSB7XG4gICAgICAgICAgbmFtZTogYFRlc3QgUHJvcGVydHkgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTYpfWAsXG4gICAgICAgICAgYWRkcmVzczogJzEyMyBUZXN0IFN0cmVldCcsXG4gICAgICAgICAgY2l0eTogJ0F1c3RpbicsXG4gICAgICAgICAgc3RhdGU6ICdUWCdcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgZGF0YTogbWluRGF0YSwgZXJyb3I6IG1pbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdwcm9wZXJ0aWVzJylcbiAgICAgICAgICAuaW5zZXJ0KG1pbmltYWxQcm9wZXJ0eSlcbiAgICAgICAgICAuc2VsZWN0KCk7XG4gICAgICAgICAgXG4gICAgICAgIGlmIChtaW5FcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIG1pbmltYWwgcHJvcGVydHk6JywgbWluRXJyb3IpO1xuICAgICAgICAgIHRocm93IG1pbkVycm9yO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgbWluaW1hbCB0ZXN0IHByb3BlcnR5OicsIG1pbkRhdGEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGE6IG1pbkRhdGEsXG4gICAgICAgICAgaW5mbzogJ0NyZWF0ZWQgd2l0aCBtaW5pbWFsIGZpZWxkcyBvbmx5J1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1Rlc3QgcHJvcGVydHkgY3JlYXRlZDonLCBkYXRhKTtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0YSxcbiAgICAgIGluZm86ICdDcmVhdGVkIHdpdGggZnVsbCBmaWVsZHMnXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gY3JlYXRlVGVzdFByb3BlcnR5OicsIGVycik7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBzdXBhYmFzZTsgIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiY29uc29sZSIsImVycm9yIiwic3VwYWJhc2UiLCJnZXRDdXJyZW50VXNlciIsImRhdGEiLCJ1c2VyIiwiYXV0aCIsImdldFVzZXIiLCJzaWduVXAiLCJlbWFpbCIsInBhc3N3b3JkIiwic2lnbkluIiwic2lnbkluV2l0aFBhc3N3b3JkIiwic2lnbk91dCIsImZldGNoUHJvcGVydGllcyIsIm9wdGlvbnMiLCJzZWxlY3RGaWVsZHMiLCJpbmNsdWRlUmVzZWFyY2giLCJxdWVyeSIsImZyb20iLCJzZWxlY3QiLCJmaWx0ZXJzIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsIm9yIiwiZW5kc1dpdGgiLCJhY3R1YWxLZXkiLCJyZXBsYWNlIiwiZ3RlIiwibHRlIiwiZ3QiLCJsdCIsImlsaWtlIiwiZXEiLCJpbmNsdWRlSW5jb21wbGV0ZSIsImNvb3JkRmlsdGVyIiwicGFnZSIsInBhZ2VTaXplIiwic3RhcnQiLCJlbmQiLCJyYW5nZSIsInNvcnRCeSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwic29ydEFzYyIsIndhcm4iLCJsZW5ndGgiLCJsb2ciLCJub3JtYWxpemVkUHJvcGVydGllcyIsIm1hcCIsInByb3BlcnR5IiwicmVzZWFyY2hEYXRhIiwicHJvcGVydHlfcmVzZWFyY2giLCJub3JtYWxpemVkUHJvcGVydHkiLCJub3JtYWxpemVQcm9wZXJ0eSIsIm1vZHVsZXMiLCJwcm9wZXJ0eURldGFpbHMiLCJwcm9wZXJ0eV9kZXRhaWxzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJfaXNfZ3JpZF9wYXR0ZXJuIiwiX2Nvb3JkaW5hdGVzX2Zyb21fcmVzZWFyY2giLCJfY29vcmRpbmF0ZXNfbWlzc2luZyIsIl9uZWVkc19nZW9jb2RpbmciLCJpZCIsIl9yZXNlYXJjaCIsImRlcHRoIiwicmVzZWFyY2hfZGVwdGgiLCJkYXRlIiwicmVzZWFyY2hfZGF0ZSIsInN1bW1hcnkiLCJleGVjdXRpdmVfc3VtbWFyeSIsImUiLCJqb2luRXJyb3IiLCJub3QiLCJjb29yZEVycm9yIiwic2NoZW1hRXJyb3IiLCJub3JtYWxpemVkIiwidW5pdHMiLCJudW1fdW5pdHMiLCJuYW1lIiwidHJpbSIsImFkZHJlc3MiLCJzcGxpdCIsInN1YnN0cmluZyIsInN0YXR1cyIsInByb3BlcnR5X3N0YXR1cyIsIl9pc190ZXN0X3Byb3BlcnR5IiwiaXNUZXN0UHJvcGVydHkiLCJpc1ZhbGlkTGF0aXR1ZGUiLCJpc1ZhbGlkTG9uZ2l0dWRlIiwiaXNJbkF1c3RpbkFyZWEiLCJsYXRTdHIiLCJTdHJpbmciLCJsbmdTdHIiLCJoYXNMb3dQcmVjaXNpb24iLCJpbmNsdWRlcyIsImhhc1N1c3BpY2lvdXNQYXR0ZXJuIiwiaXNHcmlkUGF0dGVybiIsIl9pc19pbnZhbGlkX3JhbmdlIiwiX291dHNpZGVfYXVzdGluIiwidG9Mb3dlckNhc2UiLCJ0ZXN0SW5kaWNhdG9ycyIsImluZGljYXRvciIsInByaWNlIiwicGxhY2Vob2xkZXJJbmRpY2F0b3JzIiwiY3JlYXRlVGVzdFByb3BlcnR5Iiwic2FtcGxlUHJvcGVydHkiLCJzYW1wbGVFcnJvciIsImxpbWl0IiwiYmFzZVRlc3RQcm9wZXJ0eSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNsaWNlIiwiY2l0eSIsInN0YXRlIiwiemlwX2NvZGUiLCJ5ZWFyX2J1aWx0IiwicHJvcGVydHlfdHlwZSIsImRlc2NyaXB0aW9uIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJ0ZXN0UHJvcGVydHkiLCJzYW1wbGUiLCJhZGFwdGVkUHJvcGVydHkiLCJrZXlzIiwiaW5zZXJ0IiwibWVzc2FnZSIsIm1pbmltYWxQcm9wZXJ0eSIsIm1pbkRhdGEiLCJtaW5FcnJvciIsImluZm8iLCJlcnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/supabase.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _src_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/contexts/ThemeContext */ \"./src/contexts/ThemeContext.tsx\");\n/* harmony import */ var _src_styles_globals_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/styles/globals.css */ \"./src/styles/globals.css\");\n/* harmony import */ var _src_styles_globals_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_src_styles_globals_css__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__.AuthProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/_app.js\",\n                lineNumber: 9,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/_app.js\",\n            lineNumber: 8,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/_app.js\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ0U7QUFDMUI7QUFFbkMsU0FBU0UsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRTtJQUNyQyxxQkFDRSw4REFBQ0gscUVBQWFBO2tCQUNaLDRFQUFDRCxtRUFBWUE7c0JBQ1gsNEVBQUNHO2dCQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJaEM7QUFFQSxpRUFBZUYsS0FBS0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1c3Rpbi1tdWx0aWZhbWlseS1tYXAvLi9wYWdlcy9fYXBwLmpzP2UwYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tICcuLi9zcmMvY29udGV4dHMvVGhlbWVDb250ZXh0JztcbmltcG9ydCAnLi4vc3JjL3N0eWxlcy9nbG9iYWxzLmNzcyc7XG5cbmZ1bmN0aW9uIE15QXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfSkge1xuICByZXR1cm4gKFxuICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgPEF1dGhQcm92aWRlcj5cbiAgICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxuICAgICAgPC9BdXRoUHJvdmlkZXI+XG4gICAgPC9UaGVtZVByb3ZpZGVyPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBNeUFwcDsgIl0sIm5hbWVzIjpbIkF1dGhQcm92aWRlciIsIlRoZW1lUHJvdmlkZXIiLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./src/contexts/AuthContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/AuthContext.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/supabase */ \"./lib/supabase.js\");\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst AuthProvider = ({ children })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check for current user when the provider loads\n        const loadUser = async ()=>{\n            try {\n                const currentUser = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.getCurrentUser)();\n                setUser(currentUser);\n            } catch (err) {\n                console.error(\"Error loading user:\", err);\n            } finally{\n                setLoading(false);\n            }\n        };\n        // Set up auth state listener\n        const { data: authListener } = _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.onAuthStateChange(async (event, session)=>{\n            if (session?.user) {\n                // Convert Supabase User to our User type\n                const userObj = {\n                    id: session.user.id,\n                    email: session.user.email,\n                    ...session.user\n                };\n                setUser(userObj);\n            } else {\n                setUser(null);\n            }\n            setLoading(false);\n        });\n        loadUser();\n        // Clean up auth listener on unmount\n        return ()=>{\n            authListener?.subscription.unsubscribe();\n        };\n    }, []);\n    const handleSignIn = async (email, password)=>{\n        try {\n            setLoading(true);\n            setError(null);\n            const { data, error } = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.signIn)(email, password);\n            if (error) {\n                throw error;\n            }\n            setUser(data.user);\n        } catch (err) {\n            setError(err.message || \"Failed to sign in\");\n            console.error(\"Error signing in:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleSignUp = async (email, password)=>{\n        try {\n            setLoading(true);\n            setError(null);\n            const { data, error } = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.signUp)(email, password);\n            if (error) {\n                throw error;\n            }\n            // Show confirmation message for email verification if needed\n            if (data.user && !data.session) {\n                setError(\"Please check your email for a confirmation link\");\n            }\n        } catch (err) {\n            setError(err.message || \"Failed to sign up\");\n            console.error(\"Error signing up:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleSignOut = async ()=>{\n        try {\n            setLoading(true);\n            await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.signOut)();\n            setUser(null);\n        } catch (err) {\n            setError(err.message || \"Failed to sign out\");\n            console.error(\"Error signing out:\", err);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const clearError = ()=>{\n        setError(null);\n    };\n    const value = {\n        user,\n        loading,\n        error,\n        signIn: handleSignIn,\n        signUp: handleSignUp,\n        signOut: handleSignOut,\n        clearError\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/contexts/AuthContext.tsx\",\n        lineNumber: 138,\n        columnNumber: 10\n    }, undefined);\n};\nconst useAuth = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuthContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVE0QjtRQUNSM0IsUUFBUThCO1FBQ1I3QixTQUFTOEI7UUFDVEM7SUFDRjtJQUVBLHFCQUFPLDhEQUFDOUIsWUFBWWdDLFFBQVE7UUFBQ0QsT0FBT0E7a0JBQVE1Qjs7Ozs7O0FBQzlDLEVBQUU7QUFFSyxNQUFNOEIsVUFBVTtJQUNyQixNQUFNQyxVQUFVMUMsaURBQVVBLENBQUNRO0lBQzNCLElBQUlrQyxZQUFZakMsV0FBVztRQUN6QixNQUFNLElBQUlrQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVCxFQUFFO0FBRUYsaUVBQWVsQyxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXVzdGluLW11bHRpZmFtaWx5LW1hcC8uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC50c3g/MWZhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc3VwYWJhc2UsIGdldEN1cnJlbnRVc2VyLCBzaWduSW4sIHNpZ25VcCwgc2lnbk91dCB9IGZyb20gJy4uLy4uL2xpYi9zdXBhYmFzZSc7XG5cbmludGVyZmFjZSBVc2VyIHtcbiAgaWQ6IHN0cmluZztcbiAgZW1haWw/OiBzdHJpbmc7ICAvLyBNYWtlIGVtYWlsIG9wdGlvbmFsIHRvIG1hdGNoIFN1cGFiYXNlJ3MgVXNlciB0eXBlXG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuaW50ZXJmYWNlIEF1dGhDb250ZXh0VHlwZSB7XG4gIHVzZXI6IFVzZXIgfCBudWxsO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgc2lnbkluOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2lnblVwOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2lnbk91dDogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgY2xlYXJFcnJvcjogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuaW50ZXJmYWNlIEF1dGhQcm92aWRlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGNvbnN0IEF1dGhQcm92aWRlcjogUmVhY3QuRkM8QXV0aFByb3ZpZGVyUHJvcHM+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ2hlY2sgZm9yIGN1cnJlbnQgdXNlciB3aGVuIHRoZSBwcm92aWRlciBsb2Fkc1xuICAgIGNvbnN0IGxvYWRVc2VyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuICAgICAgICBzZXRVc2VyKGN1cnJlbnRVc2VyKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHVzZXI6JywgZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBTZXQgdXAgYXV0aCBzdGF0ZSBsaXN0ZW5lclxuICAgIGNvbnN0IHsgZGF0YTogYXV0aExpc3RlbmVyIH0gPSBzdXBhYmFzZS5hdXRoLm9uQXV0aFN0YXRlQ2hhbmdlKFxuICAgICAgYXN5bmMgKGV2ZW50LCBzZXNzaW9uKSA9PiB7XG4gICAgICAgIGlmIChzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgICAgLy8gQ29udmVydCBTdXBhYmFzZSBVc2VyIHRvIG91ciBVc2VyIHR5cGVcbiAgICAgICAgICBjb25zdCB1c2VyT2JqOiBVc2VyID0ge1xuICAgICAgICAgICAgaWQ6IHNlc3Npb24udXNlci5pZCxcbiAgICAgICAgICAgIGVtYWlsOiBzZXNzaW9uLnVzZXIuZW1haWwsXG4gICAgICAgICAgICAuLi5zZXNzaW9uLnVzZXJcbiAgICAgICAgICB9O1xuICAgICAgICAgIHNldFVzZXIodXNlck9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgbG9hZFVzZXIoKTtcblxuICAgIC8vIENsZWFuIHVwIGF1dGggbGlzdGVuZXIgb24gdW5tb3VudFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhdXRoTGlzdGVuZXI/LnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVTaWduSW4gPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzaWduSW4oZW1haWwsIHBhc3N3b3JkKTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRVc2VyKGRhdGEudXNlcik7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2lnbiBpbicpO1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2lnbmluZyBpbjonLCBlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2lnblVwID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc2lnblVwKGVtYWlsLCBwYXNzd29yZCk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2hvdyBjb25maXJtYXRpb24gbWVzc2FnZSBmb3IgZW1haWwgdmVyaWZpY2F0aW9uIGlmIG5lZWRlZFxuICAgICAgaWYgKGRhdGEudXNlciAmJiAhZGF0YS5zZXNzaW9uKSB7XG4gICAgICAgIHNldEVycm9yKCdQbGVhc2UgY2hlY2sgeW91ciBlbWFpbCBmb3IgYSBjb25maXJtYXRpb24gbGluaycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNpZ24gdXAnKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNpZ25pbmcgdXA6JywgZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNpZ25PdXQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBhd2FpdCBzaWduT3V0KCk7XG4gICAgICBzZXRVc2VyKG51bGwpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNpZ24gb3V0Jyk7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzaWduaW5nIG91dDonLCBlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2xlYXJFcnJvciA9ICgpID0+IHtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgfTtcblxuICBjb25zdCB2YWx1ZSA9IHtcbiAgICB1c2VyLFxuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgc2lnbkluOiBoYW5kbGVTaWduSW4sXG4gICAgc2lnblVwOiBoYW5kbGVTaWduVXAsXG4gICAgc2lnbk91dDogaGFuZGxlU2lnbk91dCxcbiAgICBjbGVhckVycm9yLFxuICB9O1xuXG4gIHJldHVybiA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9BdXRoQ29udGV4dC5Qcm92aWRlcj47XG59O1xuXG5leHBvcnQgY29uc3QgdXNlQXV0aCA9ICgpOiBBdXRoQ29udGV4dFR5cGUgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF1dGhDb250ZXh0OyJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJzdXBhYmFzZSIsImdldEN1cnJlbnRVc2VyIiwic2lnbkluIiwic2lnblVwIiwic2lnbk91dCIsIkF1dGhDb250ZXh0IiwidW5kZWZpbmVkIiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJ1c2VyIiwic2V0VXNlciIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImxvYWRVc2VyIiwiY3VycmVudFVzZXIiLCJlcnIiLCJjb25zb2xlIiwiZGF0YSIsImF1dGhMaXN0ZW5lciIsImF1dGgiLCJvbkF1dGhTdGF0ZUNoYW5nZSIsImV2ZW50Iiwic2Vzc2lvbiIsInVzZXJPYmoiLCJpZCIsImVtYWlsIiwic3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJoYW5kbGVTaWduSW4iLCJwYXNzd29yZCIsIm1lc3NhZ2UiLCJoYW5kbGVTaWduVXAiLCJoYW5kbGVTaWduT3V0IiwiY2xlYXJFcnJvciIsInZhbHVlIiwiUHJvdmlkZXIiLCJ1c2VBdXRoIiwiY29udGV4dCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/contexts/AuthContext.tsx\n");

/***/ }),

/***/ "./src/contexts/ThemeContext.tsx":
/*!***************************************!*\
  !*** ./src/contexts/ThemeContext.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useTheme: () => (/* binding */ useTheme)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/**\n * ThemeContext.tsx\n * Context for managing light/dark mode across the application\n * \n * This context provides:\n * - Current theme state (light/dark)\n * - Toggle function to switch between themes\n * - Automatic detection of system preference\n * - Theme persistence with localStorage\n * \n * Usage:\n * 1. Wrap your app with ThemeProvider in _app.tsx\n * 2. Use useTheme() hook in components to access theme state and toggle function\n * 3. Apply conditional classes using the isDarkMode boolean\n */ \n\nconst ThemeContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst ThemeProvider = ({ children, defaultTheme = \"light\" })=>{\n    // Initialize theme from localStorage or defaultTheme\n    const [theme, setThemeState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        // Check for saved theme in localStorage\n        if (false) {}\n        return defaultTheme;\n    });\n    // Effect to apply theme to document\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, [\n        theme\n    ]);\n    // Listen for system preference changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, []);\n    const toggleTheme = ()=>{\n        setThemeState((prevTheme)=>prevTheme === \"light\" ? \"dark\" : \"light\");\n    };\n    const setTheme = (newTheme)=>{\n        setThemeState(newTheme);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ThemeContext.Provider, {\n        value: {\n            theme,\n            isDarkMode: theme === \"dark\",\n            toggleTheme,\n            setTheme\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/contexts/ThemeContext.tsx\",\n        lineNumber: 104,\n        columnNumber: 5\n    }, undefined);\n};\nconst useTheme = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ThemeContext);\n    if (context === undefined) {\n        throw new Error(\"useTheme must be used within a ThemeProvider\");\n    }\n    return context;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThemeContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29udGV4dHMvVGhlbWVDb250ZXh0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7O0NBY0M7QUFFd0Y7QUFXekYsTUFBTUssNkJBQWVKLG9EQUFhQSxDQUErQks7QUFPMUQsTUFBTUMsZ0JBQThDLENBQUMsRUFDMURDLFFBQVEsRUFDUkMsZUFBZSxPQUFPLEVBQ3ZCO0lBQ0MscURBQXFEO0lBQ3JELE1BQU0sQ0FBQ0MsT0FBT0MsY0FBYyxHQUFHVCwrQ0FBUUEsQ0FBUTtRQUM3Qyx3Q0FBd0M7UUFDeEMsSUFBSSxLQUFrQixFQUFhLEVBV2xDO1FBRUQsT0FBT087SUFDVDtJQUVBLG9DQUFvQztJQUNwQ04sZ0RBQVNBLENBQUM7UUFDUixJQUFJLEtBQWtCLEVBQWEsRUFZbEM7SUFDSCxHQUFHO1FBQUNPO0tBQU07SUFFVix1Q0FBdUM7SUFDdkNQLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxLQUFrRCxFQUFFLEVBZXZEO0lBQ0gsR0FBRyxFQUFFO0lBRUwsTUFBTTJCLGNBQWM7UUFDbEJuQixjQUFjb0IsQ0FBQUEsWUFBY0EsY0FBYyxVQUFVLFNBQVM7SUFDL0Q7SUFFQSxNQUFNQyxXQUFXLENBQUNDO1FBQ2hCdEIsY0FBY3NCO0lBQ2hCO0lBRUEscUJBQ0UsOERBQUM1QixhQUFhNkIsUUFBUTtRQUNwQkMsT0FBTztZQUNMekI7WUFDQTBCLFlBQVkxQixVQUFVO1lBQ3RCb0I7WUFDQUU7UUFDRjtrQkFFQ3hCOzs7Ozs7QUFHUCxFQUFFO0FBRUssTUFBTTZCLFdBQVc7SUFDdEIsTUFBTUMsVUFBVWxDLGlEQUFVQSxDQUFDQztJQUUzQixJQUFJaUMsWUFBWWhDLFdBQVc7UUFDekIsTUFBTSxJQUFJaUMsTUFBTTtJQUNsQjtJQUVBLE9BQU9EO0FBQ1QsRUFBRTtBQUVGLGlFQUFlakMsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1c3Rpbi1tdWx0aWZhbWlseS1tYXAvLi9zcmMvY29udGV4dHMvVGhlbWVDb250ZXh0LnRzeD83ZTIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlbWVDb250ZXh0LnRzeFxuICogQ29udGV4dCBmb3IgbWFuYWdpbmcgbGlnaHQvZGFyayBtb2RlIGFjcm9zcyB0aGUgYXBwbGljYXRpb25cbiAqIFxuICogVGhpcyBjb250ZXh0IHByb3ZpZGVzOlxuICogLSBDdXJyZW50IHRoZW1lIHN0YXRlIChsaWdodC9kYXJrKVxuICogLSBUb2dnbGUgZnVuY3Rpb24gdG8gc3dpdGNoIGJldHdlZW4gdGhlbWVzXG4gKiAtIEF1dG9tYXRpYyBkZXRlY3Rpb24gb2Ygc3lzdGVtIHByZWZlcmVuY2VcbiAqIC0gVGhlbWUgcGVyc2lzdGVuY2Ugd2l0aCBsb2NhbFN0b3JhZ2VcbiAqIFxuICogVXNhZ2U6XG4gKiAxLiBXcmFwIHlvdXIgYXBwIHdpdGggVGhlbWVQcm92aWRlciBpbiBfYXBwLnRzeFxuICogMi4gVXNlIHVzZVRoZW1lKCkgaG9vayBpbiBjb21wb25lbnRzIHRvIGFjY2VzcyB0aGVtZSBzdGF0ZSBhbmQgdG9nZ2xlIGZ1bmN0aW9uXG4gKiAzLiBBcHBseSBjb25kaXRpb25hbCBjbGFzc2VzIHVzaW5nIHRoZSBpc0RhcmtNb2RlIGJvb2xlYW5cbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuXG50eXBlIFRoZW1lID0gJ2xpZ2h0JyB8ICdkYXJrJztcblxuaW50ZXJmYWNlIFRoZW1lQ29udGV4dFR5cGUge1xuICB0aGVtZTogVGhlbWU7XG4gIGlzRGFya01vZGU6IGJvb2xlYW47XG4gIHRvZ2dsZVRoZW1lOiAoKSA9PiB2b2lkO1xuICBzZXRUaGVtZTogKHRoZW1lOiBUaGVtZSkgPT4gdm9pZDtcbn1cblxuY29uc3QgVGhlbWVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxUaGVtZUNvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG5pbnRlcmZhY2UgVGhlbWVQcm92aWRlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbiAgZGVmYXVsdFRoZW1lPzogVGhlbWU7XG59XG5cbmV4cG9ydCBjb25zdCBUaGVtZVByb3ZpZGVyOiBSZWFjdC5GQzxUaGVtZVByb3ZpZGVyUHJvcHM+ID0gKHsgXG4gIGNoaWxkcmVuLCBcbiAgZGVmYXVsdFRoZW1lID0gJ2xpZ2h0JyBcbn0pID0+IHtcbiAgLy8gSW5pdGlhbGl6ZSB0aGVtZSBmcm9tIGxvY2FsU3RvcmFnZSBvciBkZWZhdWx0VGhlbWVcbiAgY29uc3QgW3RoZW1lLCBzZXRUaGVtZVN0YXRlXSA9IHVzZVN0YXRlPFRoZW1lPigoKSA9PiB7XG4gICAgLy8gQ2hlY2sgZm9yIHNhdmVkIHRoZW1lIGluIGxvY2FsU3RvcmFnZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qgc2F2ZWRUaGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpIGFzIFRoZW1lO1xuICAgICAgXG4gICAgICBpZiAoc2F2ZWRUaGVtZSkge1xuICAgICAgICByZXR1cm4gc2F2ZWRUaGVtZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIHN5c3RlbSBwcmVmZXJlbmNlXG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiAnZGFyayc7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBkZWZhdWx0VGhlbWU7XG4gIH0pO1xuXG4gIC8vIEVmZmVjdCB0byBhcHBseSB0aGVtZSB0byBkb2N1bWVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gU2F2ZSB0aGVtZSB0byBsb2NhbFN0b3JhZ2VcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsIHRoZW1lKTtcbiAgICAgIFxuICAgICAgLy8gQXBwbHkgdGhlbWUgdG8gZG9jdW1lbnQgYnkgdG9nZ2xpbmcgZGFyayBjbGFzcyBvbiBodG1sIGVsZW1lbnRcbiAgICAgIGNvbnN0IGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICBcbiAgICAgIGlmICh0aGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgIGh0bWwuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaHRtbC5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbdGhlbWVdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHN5c3RlbSBwcmVmZXJlbmNlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm1hdGNoTWVkaWEpIHtcbiAgICAgIGNvbnN0IG1lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpO1xuICAgICAgXG4gICAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoZTogTWVkaWFRdWVyeUxpc3RFdmVudCkgPT4ge1xuICAgICAgICAvLyBPbmx5IGF1dG8tc3dpdGNoIGlmIHVzZXIgaGFzbid0IGV4cGxpY2l0bHkgY2hvc2VuIGEgdGhlbWVcbiAgICAgICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKSkge1xuICAgICAgICAgIHNldFRoZW1lU3RhdGUoZS5tYXRjaGVzID8gJ2RhcmsnIDogJ2xpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIG1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgaGFuZGxlQ2hhbmdlKTtcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgbWVkaWFRdWVyeS5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYW5kbGVDaGFuZ2UpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCB0b2dnbGVUaGVtZSA9ICgpID0+IHtcbiAgICBzZXRUaGVtZVN0YXRlKHByZXZUaGVtZSA9PiAocHJldlRoZW1lID09PSAnbGlnaHQnID8gJ2RhcmsnIDogJ2xpZ2h0JykpO1xuICB9O1xuXG4gIGNvbnN0IHNldFRoZW1lID0gKG5ld1RoZW1lOiBUaGVtZSkgPT4ge1xuICAgIHNldFRoZW1lU3RhdGUobmV3VGhlbWUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFRoZW1lQ29udGV4dC5Qcm92aWRlciBcbiAgICAgIHZhbHVlPXt7IFxuICAgICAgICB0aGVtZSwgXG4gICAgICAgIGlzRGFya01vZGU6IHRoZW1lID09PSAnZGFyaycsXG4gICAgICAgIHRvZ2dsZVRoZW1lLCBcbiAgICAgICAgc2V0VGhlbWUgXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1RoZW1lQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VUaGVtZSA9ICgpOiBUaGVtZUNvbnRleHRUeXBlID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcbiAgXG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZVRoZW1lIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBUaGVtZVByb3ZpZGVyJyk7XG4gIH1cbiAgXG4gIHJldHVybiBjb250ZXh0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVGhlbWVDb250ZXh0OyJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNvbnRleHQiLCJUaGVtZUNvbnRleHQiLCJ1bmRlZmluZWQiLCJUaGVtZVByb3ZpZGVyIiwiY2hpbGRyZW4iLCJkZWZhdWx0VGhlbWUiLCJ0aGVtZSIsInNldFRoZW1lU3RhdGUiLCJzYXZlZFRoZW1lIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwic2V0SXRlbSIsImh0bWwiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm1lZGlhUXVlcnkiLCJoYW5kbGVDaGFuZ2UiLCJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVUaGVtZSIsInByZXZUaGVtZSIsInNldFRoZW1lIiwibmV3VGhlbWUiLCJQcm92aWRlciIsInZhbHVlIiwiaXNEYXJrTW9kZSIsInVzZVRoZW1lIiwiY29udGV4dCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/contexts/ThemeContext.tsx\n");

/***/ }),

/***/ "./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=private-next-pages%2F_error&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();
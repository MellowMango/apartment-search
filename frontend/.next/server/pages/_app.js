/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_app";
exports.ids = ["pages/_app"];
exports.modules = {

/***/ "./lib/supabase.js":
/*!*************************!*\
  !*** ./lib/supabase.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTestProperty: () => (/* binding */ createTestProperty),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   fetchProperties: () => (/* binding */ fetchProperties),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   signOut: () => (/* binding */ signOut),\n/* harmony export */   signUp: () => (/* binding */ signUp),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * Supabase client for frontend operations\n */ \n// Get Supabase credentials from environment variables\nconst supabaseUrl = \"https://vdrtfnphuixbguedqhox.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZkcnRmbnBodWl4Ymd1ZWRxaG94Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3Mjk4MDEsImV4cCI6MjA1NzMwNTgwMX0.HyefAulcyuFeTELrskYNJEhSAW1KqBNoyJ1ODfrY5UA\";\nif (!supabaseUrl || !supabaseAnonKey) {\n    console.error(\"Supabase credentials not found. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables.\");\n}\n// Create Supabase client\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey, {\n    auth: {\n        autoRefreshToken: true,\n        persistSession: true,\n        detectSessionInUrl: true\n    }\n});\n/**\n * Get the current authenticated user\n * @returns {Promise<Object|null>} The user object or null if not authenticated\n */ const getCurrentUser = async ()=>{\n    const { data: { user } } = await supabase.auth.getUser();\n    return user;\n};\n/**\n * Sign up a new user\n * @param {string} email - User's email\n * @param {string} password - User's password\n * @returns {Promise<Object>} The result of the sign up operation\n */ const signUp = async (email, password)=>{\n    return await supabase.auth.signUp({\n        email,\n        password\n    });\n};\n/**\n * Sign in a user\n * @param {string} email - User's email\n * @param {string} password - User's password\n * @returns {Promise<Object>} The result of the sign in operation\n */ const signIn = async (email, password)=>{\n    return await supabase.auth.signInWithPassword({\n        email,\n        password\n    });\n};\n/**\n * Sign out the current user\n * @returns {Promise<Object>} The result of the sign out operation\n */ const signOut = async ()=>{\n    return await supabase.auth.signOut();\n};\n/**\n * Fetch properties from Supabase with enhanced error handling and data normalization\n * \n * @param {Object} options - Query options\n * @param {Object} options.filters - Key-value pairs for filtering (e.g. {status: 'For Sale'})\n * @param {number} options.page - Page number for pagination\n * @param {number} options.pageSize - Number of items per page\n * @param {string} options.sortBy - Field to sort by\n * @param {boolean} options.sortAsc - Sort in ascending order if true\n * @param {boolean} options.includeIncomplete - Whether to include properties with missing coordinates\n * @param {boolean} options.includeResearch - Whether to include enriched research data\n * @returns {Promise<Array>} Array of normalized properties\n */ const fetchProperties = async (options = {})=>{\n    // Check if we should join with research data\n    if (options.includeResearch !== false) {\n        // Include research data in our query - we'll join with property_research table\n        try {\n            // Start with a query that joins properties with research data\n            let query = supabase.from(\"properties\").select(`\n          *,\n          property_research:property_research(*)\n        `);\n            // Apply filters if provided\n            if (options.filters) {\n                Object.entries(options.filters).forEach(([key, value])=>{\n                    if (value !== undefined && value !== null && value !== \"\") {\n                        // Handle special filter syntax\n                        if (key === \"or\") {\n                            query = query.or(value);\n                        } else if (key.endsWith(\"_gte\")) {\n                            const actualKey = key.replace(\"_gte\", \"\");\n                            query = query.gte(actualKey, value);\n                        } else if (key.endsWith(\"_lte\")) {\n                            const actualKey = key.replace(\"_lte\", \"\");\n                            query = query.lte(actualKey, value);\n                        } else if (key.endsWith(\"_gt\")) {\n                            const actualKey = key.replace(\"_gt\", \"\");\n                            query = query.gt(actualKey, value);\n                        } else if (key.endsWith(\"_lt\")) {\n                            const actualKey = key.replace(\"_lt\", \"\");\n                            query = query.lt(actualKey, value);\n                        } else if (key.endsWith(\"_ilike\")) {\n                            const actualKey = key.replace(\"_ilike\", \"\");\n                            query = query.ilike(actualKey, value);\n                        } else {\n                            // Default to equality matching\n                            query = query.eq(key, value);\n                        }\n                    }\n                });\n            }\n            // If we need complete properties with coordinates for the map\n            if (!options.includeIncomplete) {\n                // Use a more precise filter to avoid empty/zero coordinates\n                // First prioritize properties with valid coordinates (either direct or from research)\n                query = query.not(\"latitude\", \"is\", null).not(\"longitude\", \"is\", null).not(\"latitude\", \"eq\", 0).not(\"longitude\", \"eq\", 0).order(\"created_at\", {\n                    ascending: false\n                });\n                console.log(\"Querying for properties with valid coordinates only\");\n            } else {\n                console.log(\"Including all properties regardless of coordinates\");\n            }\n            // Apply pagination\n            if (options.page && options.pageSize) {\n                const start = (options.page - 1) * options.pageSize;\n                const end = start + options.pageSize - 1;\n                query = query.range(start, end);\n            }\n            // Apply sorting\n            if (options.sortBy) {\n                query = query.order(options.sortBy, {\n                    ascending: options.sortAsc !== false\n                });\n            }\n            // Execute query\n            const { data, error } = await query;\n            if (error) {\n                // If this fails, we'll fall back to the non-join query\n                console.warn(\"Error fetching properties with research join:\", error);\n            // Continue to fallback query below\n            } else if (data && data.length > 0) {\n                console.log(`Found ${data.length} properties with research data`);\n                // Merge research data with property data\n                const normalizedProperties = data.map((property)=>{\n                    // Extract research data if available\n                    const researchData = property.property_research && property.property_research.length > 0 ? property.property_research[0] : null;\n                    // Delete the nested property_research to avoid confusion\n                    delete property.property_research;\n                    // Normalize the property\n                    const normalizedProperty = normalizeProperty(property);\n                    // If we have research data with valid coordinates, use them\n                    if (researchData && researchData.modules) {\n                        try {\n                            // Check for valid coordinates in property_details module\n                            const propertyDetails = researchData.modules.property_details || {};\n                            // Only use research coordinates if they're valid and property doesn't have them\n                            if (propertyDetails.latitude && propertyDetails.longitude && typeof propertyDetails.latitude === \"number\" && typeof propertyDetails.longitude === \"number\" && !normalizedProperty._is_grid_pattern) {\n                                normalizedProperty.latitude = propertyDetails.latitude;\n                                normalizedProperty.longitude = propertyDetails.longitude;\n                                normalizedProperty._coordinates_from_research = true;\n                                normalizedProperty._coordinates_missing = false;\n                                normalizedProperty._needs_geocoding = false;\n                                console.log(`Using research coordinates for property ${property.id}: [${propertyDetails.latitude}, ${propertyDetails.longitude}]`);\n                            }\n                            // Add research data to property\n                            normalizedProperty._research = {\n                                depth: researchData.research_depth,\n                                date: researchData.research_date,\n                                summary: researchData.executive_summary\n                            };\n                        } catch (e) {\n                            console.error(\"Error processing research data:\", e);\n                        }\n                    }\n                    return normalizedProperty;\n                });\n                // For map view, filter out properties without valid coordinates\n                if (!options.includeIncomplete) {\n                    const propertiesWithCoordinates = normalizedProperties.filter((p)=>p.latitude && p.longitude && (p._coordinates_from_research || !p._coordinates_missing && !p._is_grid_pattern));\n                    console.log(`Filtered to ${propertiesWithCoordinates.length} properties with valid coordinates`);\n                    if (propertiesWithCoordinates.length > 0) {\n                        return propertiesWithCoordinates;\n                    }\n                    // If all properties were filtered out, return them anyway to avoid empty map\n                    console.warn(\"All properties were filtered out for having invalid coordinates\");\n                }\n                return normalizedProperties;\n            }\n        } catch (joinError) {\n            console.error(\"Error with research join query:\", joinError);\n        // Fall back to standard query\n        }\n    }\n    // Fallback - standard query without research data\n    console.log(\"Using standard property query without research data\");\n    let query = supabase.from(\"properties\").select(\"*\");\n    // Apply filters if provided\n    if (options.filters) {\n        Object.entries(options.filters).forEach(([key, value])=>{\n            if (value !== undefined && value !== null && value !== \"\") {\n                // Handle special filter syntax\n                if (key === \"or\") {\n                    query = query.or(value);\n                } else if (key.endsWith(\"_gte\")) {\n                    const actualKey = key.replace(\"_gte\", \"\");\n                    query = query.gte(actualKey, value);\n                } else if (key.endsWith(\"_lte\")) {\n                    const actualKey = key.replace(\"_lte\", \"\");\n                    query = query.lte(actualKey, value);\n                } else if (key.endsWith(\"_gt\")) {\n                    const actualKey = key.replace(\"_gt\", \"\");\n                    query = query.gt(actualKey, value);\n                } else if (key.endsWith(\"_lt\")) {\n                    const actualKey = key.replace(\"_lt\", \"\");\n                    query = query.lt(actualKey, value);\n                } else if (key.endsWith(\"_ilike\")) {\n                    const actualKey = key.replace(\"_ilike\", \"\");\n                    query = query.ilike(actualKey, value);\n                } else {\n                    // Default to equality matching\n                    query = query.eq(key, value);\n                }\n            }\n        });\n    }\n    // If we need complete properties with coordinates for the map\n    if (!options.includeIncomplete) {\n        // Use a more precise filter to avoid empty/zero coordinates\n        // First prioritize properties with valid coordinates (either direct or from research)\n        query = query.not(\"latitude\", \"is\", null).not(\"longitude\", \"is\", null).not(\"latitude\", \"eq\", 0).not(\"longitude\", \"eq\", 0).order(\"created_at\", {\n            ascending: false\n        });\n        console.log(\"Querying for properties with valid coordinates only\");\n    } else {\n        console.log(\"Including all properties regardless of coordinates\");\n    }\n    // Apply pagination\n    if (options.page && options.pageSize) {\n        const start = (options.page - 1) * options.pageSize;\n        const end = start + options.pageSize - 1;\n        query = query.range(start, end);\n    }\n    // Apply sorting\n    if (options.sortBy) {\n        query = query.order(options.sortBy, {\n            ascending: options.sortAsc !== false\n        });\n    }\n    // Execute query\n    const { data, error } = await query;\n    if (error) {\n        console.error(\"Error fetching properties:\", error);\n        throw error;\n    }\n    if (!data || data.length === 0) {\n        console.warn(\"No properties found with the given criteria\");\n        return [];\n    }\n    // Normalize property data to handle inconsistencies\n    return data.map((property)=>normalizeProperty(property));\n};\n/**\n * Normalizes property data to handle inconsistent field names\n * \n * @param {Object} property - Raw property data from Supabase\n * @returns {Object} Normalized property data\n */ const normalizeProperty = (property)=>{\n    // Make copy to avoid mutating the original\n    const normalized = {\n        ...property\n    };\n    // Handle inconsistent unit field names\n    normalized.units = property.num_units || property.units || null;\n    // Use property name or derive from address if missing\n    if (!normalized.name || normalized.name.trim() === \"\") {\n        normalized.name = property.address ? `Property at ${property.address.split(\",\")[0]}` : `Property ${property.id.substring(0, 8)}`;\n    }\n    // Make sure we have status\n    normalized.status = property.status || property.property_status || \"Listed\";\n    // Check if this is likely a test property\n    normalized._is_test_property = isTestProperty(property);\n    // Add coordinate related flags\n    if (property.latitude && property.longitude && typeof property.latitude === \"number\" && typeof property.longitude === \"number\" && !(property.latitude === 0 && property.longitude === 0)) {\n        // Check if coordinates are valid (in proper lat/long ranges)\n        const isValidLatitude = property.latitude >= -90 && property.latitude <= 90;\n        const isValidLongitude = property.longitude >= -180 && property.longitude <= 180;\n        // Austin area boundaries (approximate) - helps detect obviously wrong coordinates\n        const isInAustinArea = property.latitude >= 29.5 && property.latitude <= 31.0 && property.longitude >= -98.0 && property.longitude <= -97.0;\n        // Check if coordinates are part of a grid pattern (low precision or suspicious patterns)\n        const latStr = String(property.latitude);\n        const lngStr = String(property.longitude);\n        // Only flag very low precision coordinates as suspicious (1 decimal place or less)\n        const hasLowPrecision = latStr.includes(\".\") && latStr.split(\".\")[1].length <= 1 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 1;\n        // Reduced set of suspicious patterns\n        const hasSuspiciousPattern = latStr === lngStr || // Same lat/lng is very unlikely\n        latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\");\n        // Keep track of whether this is detected as a grid pattern\n        const isGridPattern = hasLowPrecision || hasSuspiciousPattern;\n        // Flag coordinates as missing if they're invalid or suspicious\n        if (!isValidLatitude || !isValidLongitude || isGridPattern) {\n            normalized._coordinates_missing = true;\n            normalized._needs_geocoding = true;\n            normalized._is_grid_pattern = isGridPattern;\n            normalized._is_invalid_range = !isValidLatitude || !isValidLongitude;\n            // Debug info for invalid coordinates\n            if (!isValidLatitude || !isValidLongitude) {\n                console.warn(`Invalid coordinate range for property ${property.id}: [${property.latitude}, ${property.longitude}]`);\n            }\n        } else {\n            // Set additional flags for coordinates outside Austin (might be valid but suspicious)\n            normalized._outside_austin = !isInAustinArea;\n            normalized._coordinates_missing = false;\n            normalized._needs_geocoding = false;\n        }\n    } else {\n        // No coordinates or invalid coordinates\n        normalized._coordinates_missing = true;\n        normalized._needs_geocoding = true;\n    }\n    return normalized;\n};\n/**\n * Determines if a property is likely a test/example property\n * \n * @param {Object} property - Property data to check\n * @returns {boolean} True if property is likely a test property\n */ const isTestProperty = (property)=>{\n    // Check for common test property indicators in name\n    const name = (property.name || \"\").toLowerCase();\n    const testIndicators = [\n        \"test\",\n        \"example\",\n        \"sample\",\n        \"demo\",\n        \"dummy\",\n        \"template\"\n    ];\n    for (const indicator of testIndicators){\n        if (name.includes(indicator)) {\n            return true;\n        }\n    }\n    // Check for unrealistic values\n    if (property.price === 0 || property.price === 1) {\n        return true;\n    }\n    if (property.units === 0 || property.units === 999 || property.num_units === 0 || property.num_units === 999) {\n        return true;\n    }\n    // Check for placeholder addresses\n    const address = (property.address || \"\").toLowerCase();\n    const placeholderIndicators = [\n        \"123 main\",\n        \"test address\",\n        \"example\",\n        \"placeholder\"\n    ];\n    for (const indicator of placeholderIndicators){\n        if (address.includes(indicator)) {\n            return true;\n        }\n    }\n    return false;\n};\n/**\n * Creates a test property in the database for testing purposes\n * Use this to verify the database connection is working\n * \n * @returns {Promise<Object>} The created test property\n */ const createTestProperty = async ()=>{\n    // First, check if we can get the table structure\n    try {\n        // Try to get one record to see the schema\n        const { data: sampleProperty, error: sampleError } = await supabase.from(\"properties\").select(\"*\").limit(1);\n        // Basic test property that matches the schema from supabase-setup.md\n        const baseTestProperty = {\n            name: `Test Property ${new Date().toISOString().slice(0, 16)}`,\n            address: \"123 Test Street\",\n            city: \"Austin\",\n            state: \"TX\",\n            zip_code: \"78701\",\n            latitude: 30.2672,\n            longitude: -97.7431,\n            price: 5000000,\n            units: 50,\n            year_built: 2010,\n            property_type: \"MULTIFAMILY\",\n            status: \"available\",\n            description: \"This is a test property created to verify database connectivity.\",\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        };\n        // If we have a sample, adapt to its schema\n        let testProperty = baseTestProperty;\n        if (!sampleError && sampleProperty && sampleProperty.length > 0) {\n            console.log(\"Found existing property for schema reference:\", sampleProperty[0]);\n            // Adapt our test property to match the existing schema\n            const sample = sampleProperty[0];\n            // Create a new object with only the fields that exist in the sample\n            const adaptedProperty = {};\n            Object.keys(baseTestProperty).forEach((key)=>{\n                // If the field exists in the sample, use our test value\n                if (key in sample) {\n                    adaptedProperty[key] = baseTestProperty[key];\n                }\n            });\n            // Check key fields that might have different names\n            if (\"property_status\" in sample && !(\"status\" in sample)) {\n                adaptedProperty.property_status = baseTestProperty.status;\n                delete adaptedProperty.status;\n            }\n            if (\"num_units\" in sample && !(\"units\" in sample)) {\n                adaptedProperty.num_units = baseTestProperty.units;\n                delete adaptedProperty.units;\n            }\n            // Use the adapted property\n            testProperty = adaptedProperty;\n            console.log(\"Adapted test property to match schema:\", testProperty);\n        } else {\n            console.log(\"No sample property found, using default schema\");\n        }\n        // Try to insert the test property\n        const { data, error } = await supabase.from(\"properties\").insert(testProperty).select();\n        if (error) {\n            console.error(\"Error creating test property:\", error);\n            // Try again with minimal fields if this failed\n            if (error.message && (error.message.includes(\"violates not-null constraint\") || error.message.includes(\"missing\"))) {\n                console.log(\"Trying again with minimal required fields\");\n                // Try with just the bare minimum fields\n                const minimalProperty = {\n                    name: `Test Property ${new Date().toISOString().slice(0, 16)}`,\n                    address: \"123 Test Street\",\n                    city: \"Austin\",\n                    state: \"TX\"\n                };\n                const { data: minData, error: minError } = await supabase.from(\"properties\").insert(minimalProperty).select();\n                if (minError) {\n                    console.error(\"Error creating minimal property:\", minError);\n                    throw minError;\n                }\n                console.log(\"Successfully created minimal test property:\", minData);\n                return {\n                    data: minData,\n                    info: \"Created with minimal fields only\"\n                };\n            }\n            throw error;\n        }\n        console.log(\"Test property created:\", data);\n        return {\n            data,\n            info: \"Created with full fields\"\n        };\n    } catch (err) {\n        console.error(\"Error in createTestProperty:\", err);\n        throw err;\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzNELE9BQU87b0JBQ0wvSCxNQUFNK0g7b0JBQ05FLE1BQU07Z0JBQ1I7WUFDRjtZQUVBLE1BQU14STtRQUNSO1FBRUFELFFBQVE0QyxHQUFHLENBQUMsMEJBQTBCcEM7UUFDdEMsT0FBTztZQUNMQTtZQUNBaUksTUFBTTtRQUNSO0lBQ0YsRUFBRSxPQUFPQyxLQUFLO1FBQ1oxSSxRQUFRQyxLQUFLLENBQUMsZ0NBQWdDeUk7UUFDOUMsTUFBTUE7SUFDUjtBQUNGLEVBQUU7QUFFRixpRUFBZXhJLFFBQVFBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXN0aW4tbXVsdGlmYW1pbHktbWFwLy4vbGliL3N1cGFiYXNlLmpzPzE1OTgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTdXBhYmFzZSBjbGllbnQgZm9yIGZyb250ZW5kIG9wZXJhdGlvbnNcbiAqL1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuLy8gR2V0IFN1cGFiYXNlIGNyZWRlbnRpYWxzIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xuXG5pZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUFub25LZXkpIHtcbiAgY29uc29sZS5lcnJvcihcbiAgICAnU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IGZvdW5kLiBQbGVhc2Ugc2V0IE5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCBhbmQgTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGVzLidcbiAgKTtcbn1cblxuLy8gQ3JlYXRlIFN1cGFiYXNlIGNsaWVudFxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXksIHtcbiAgYXV0aDoge1xuICAgIGF1dG9SZWZyZXNoVG9rZW46IHRydWUsXG4gICAgcGVyc2lzdFNlc3Npb246IHRydWUsXG4gICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiB0cnVlXG4gIH1cbn0pO1xuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBhdXRoZW50aWNhdGVkIHVzZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVGhlIHVzZXIgb2JqZWN0IG9yIG51bGwgaWYgbm90IGF1dGhlbnRpY2F0ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRVc2VyID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcbiAgcmV0dXJuIHVzZXI7XG59O1xuXG4vKipcbiAqIFNpZ24gdXAgYSBuZXcgdXNlclxuICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVXNlcidzIGVtYWlsXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBVc2VyJ3MgcGFzc3dvcmRcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFRoZSByZXN1bHQgb2YgdGhlIHNpZ24gdXAgb3BlcmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzaWduVXAgPSBhc3luYyAoZW1haWwsIHBhc3N3b3JkKSA9PiB7XG4gIHJldHVybiBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25VcCh7XG4gICAgZW1haWwsXG4gICAgcGFzc3dvcmQsXG4gIH0pO1xufTtcblxuLyoqXG4gKiBTaWduIGluIGEgdXNlclxuICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gVXNlcidzIGVtYWlsXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBVc2VyJ3MgcGFzc3dvcmRcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFRoZSByZXN1bHQgb2YgdGhlIHNpZ24gaW4gb3BlcmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBzaWduSW4gPSBhc3luYyAoZW1haWwsIHBhc3N3b3JkKSA9PiB7XG4gIHJldHVybiBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7XG4gICAgZW1haWwsXG4gICAgcGFzc3dvcmQsXG4gIH0pO1xufTtcblxuLyoqXG4gKiBTaWduIG91dCB0aGUgY3VycmVudCB1c2VyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUgcmVzdWx0IG9mIHRoZSBzaWduIG91dCBvcGVyYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IHNpZ25PdXQgPSBhc3luYyAoKSA9PiB7XG4gIHJldHVybiBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKTtcbn07XG5cbi8qKlxuICogRmV0Y2ggcHJvcGVydGllcyBmcm9tIFN1cGFiYXNlIHdpdGggZW5oYW5jZWQgZXJyb3IgaGFuZGxpbmcgYW5kIGRhdGEgbm9ybWFsaXphdGlvblxuICogXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFF1ZXJ5IG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmZpbHRlcnMgLSBLZXktdmFsdWUgcGFpcnMgZm9yIGZpbHRlcmluZyAoZS5nLiB7c3RhdHVzOiAnRm9yIFNhbGUnfSlcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnBhZ2UgLSBQYWdlIG51bWJlciBmb3IgcGFnaW5hdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMucGFnZVNpemUgLSBOdW1iZXIgb2YgaXRlbXMgcGVyIHBhZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnNvcnRCeSAtIEZpZWxkIHRvIHNvcnQgYnlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5zb3J0QXNjIC0gU29ydCBpbiBhc2NlbmRpbmcgb3JkZXIgaWYgdHJ1ZVxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmluY2x1ZGVJbmNvbXBsZXRlIC0gV2hldGhlciB0byBpbmNsdWRlIHByb3BlcnRpZXMgd2l0aCBtaXNzaW5nIGNvb3JkaW5hdGVzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuaW5jbHVkZVJlc2VhcmNoIC0gV2hldGhlciB0byBpbmNsdWRlIGVucmljaGVkIHJlc2VhcmNoIGRhdGFcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gQXJyYXkgb2Ygbm9ybWFsaXplZCBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBjb25zdCBmZXRjaFByb3BlcnRpZXMgPSBhc3luYyAob3B0aW9ucyA9IHt9KSA9PiB7XG4gIC8vIENoZWNrIGlmIHdlIHNob3VsZCBqb2luIHdpdGggcmVzZWFyY2ggZGF0YVxuICBpZiAob3B0aW9ucy5pbmNsdWRlUmVzZWFyY2ggIT09IGZhbHNlKSB7XG4gICAgLy8gSW5jbHVkZSByZXNlYXJjaCBkYXRhIGluIG91ciBxdWVyeSAtIHdlJ2xsIGpvaW4gd2l0aCBwcm9wZXJ0eV9yZXNlYXJjaCB0YWJsZVxuICAgIHRyeSB7XG4gICAgICAvLyBTdGFydCB3aXRoIGEgcXVlcnkgdGhhdCBqb2lucyBwcm9wZXJ0aWVzIHdpdGggcmVzZWFyY2ggZGF0YVxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2UuZnJvbSgncHJvcGVydGllcycpXG4gICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgICosXG4gICAgICAgICAgcHJvcGVydHlfcmVzZWFyY2g6cHJvcGVydHlfcmVzZWFyY2goKilcbiAgICAgICAgYCk7XG4gICAgICBcbiAgICAgIC8vIEFwcGx5IGZpbHRlcnMgaWYgcHJvdmlkZWRcbiAgICAgIGlmIChvcHRpb25zLmZpbHRlcnMpIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMob3B0aW9ucy5maWx0ZXJzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBzcGVjaWFsIGZpbHRlciBzeW50YXhcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdvcicpIHtcbiAgICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5vcih2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleS5lbmRzV2l0aCgnX2d0ZScpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFjdHVhbEtleSA9IGtleS5yZXBsYWNlKCdfZ3RlJywgJycpO1xuICAgICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZShhY3R1YWxLZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5LmVuZHNXaXRoKCdfbHRlJykpIHtcbiAgICAgICAgICAgICAgY29uc3QgYWN0dWFsS2V5ID0ga2V5LnJlcGxhY2UoJ19sdGUnLCAnJyk7XG4gICAgICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkubHRlKGFjdHVhbEtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkuZW5kc1dpdGgoJ19ndCcpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFjdHVhbEtleSA9IGtleS5yZXBsYWNlKCdfZ3QnLCAnJyk7XG4gICAgICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkuZ3QoYWN0dWFsS2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleS5lbmRzV2l0aCgnX2x0JykpIHtcbiAgICAgICAgICAgICAgY29uc3QgYWN0dWFsS2V5ID0ga2V5LnJlcGxhY2UoJ19sdCcsICcnKTtcbiAgICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5sdChhY3R1YWxLZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5LmVuZHNXaXRoKCdfaWxpa2UnKSkge1xuICAgICAgICAgICAgICBjb25zdCBhY3R1YWxLZXkgPSBrZXkucmVwbGFjZSgnX2lsaWtlJywgJycpO1xuICAgICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LmlsaWtlKGFjdHVhbEtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBlcXVhbGl0eSBtYXRjaGluZ1xuICAgICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIElmIHdlIG5lZWQgY29tcGxldGUgcHJvcGVydGllcyB3aXRoIGNvb3JkaW5hdGVzIGZvciB0aGUgbWFwXG4gICAgICBpZiAoIW9wdGlvbnMuaW5jbHVkZUluY29tcGxldGUpIHtcbiAgICAgICAgLy8gVXNlIGEgbW9yZSBwcmVjaXNlIGZpbHRlciB0byBhdm9pZCBlbXB0eS96ZXJvIGNvb3JkaW5hdGVzXG4gICAgICAgIC8vIEZpcnN0IHByaW9yaXRpemUgcHJvcGVydGllcyB3aXRoIHZhbGlkIGNvb3JkaW5hdGVzIChlaXRoZXIgZGlyZWN0IG9yIGZyb20gcmVzZWFyY2gpXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnlcbiAgICAgICAgICAubm90KCdsYXRpdHVkZScsICdpcycsIG51bGwpXG4gICAgICAgICAgLm5vdCgnbG9uZ2l0dWRlJywgJ2lzJywgbnVsbClcbiAgICAgICAgICAubm90KCdsYXRpdHVkZScsICdlcScsIDApXG4gICAgICAgICAgLm5vdCgnbG9uZ2l0dWRlJywgJ2VxJywgMClcbiAgICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnUXVlcnlpbmcgZm9yIHByb3BlcnRpZXMgd2l0aCB2YWxpZCBjb29yZGluYXRlcyBvbmx5Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnSW5jbHVkaW5nIGFsbCBwcm9wZXJ0aWVzIHJlZ2FyZGxlc3Mgb2YgY29vcmRpbmF0ZXMnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQXBwbHkgcGFnaW5hdGlvblxuICAgICAgaWYgKG9wdGlvbnMucGFnZSAmJiBvcHRpb25zLnBhZ2VTaXplKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gKG9wdGlvbnMucGFnZSAtIDEpICogb3B0aW9ucy5wYWdlU2l6ZTtcbiAgICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyBvcHRpb25zLnBhZ2VTaXplIC0gMTtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5yYW5nZShzdGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQXBwbHkgc29ydGluZ1xuICAgICAgaWYgKG9wdGlvbnMuc29ydEJ5KSB7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIob3B0aW9ucy5zb3J0QnksIHsgYXNjZW5kaW5nOiBvcHRpb25zLnNvcnRBc2MgIT09IGZhbHNlIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBFeGVjdXRlIHF1ZXJ5XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIC8vIElmIHRoaXMgZmFpbHMsIHdlJ2xsIGZhbGwgYmFjayB0byB0aGUgbm9uLWpvaW4gcXVlcnlcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciBmZXRjaGluZyBwcm9wZXJ0aWVzIHdpdGggcmVzZWFyY2ggam9pbjonLCBlcnJvcik7XG4gICAgICAgIC8vIENvbnRpbnVlIHRvIGZhbGxiYWNrIHF1ZXJ5IGJlbG93XG4gICAgICB9IGVsc2UgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2RhdGEubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggcmVzZWFyY2ggZGF0YWApO1xuICAgICAgICBcbiAgICAgICAgLy8gTWVyZ2UgcmVzZWFyY2ggZGF0YSB3aXRoIHByb3BlcnR5IGRhdGFcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFByb3BlcnRpZXMgPSBkYXRhLm1hcChwcm9wZXJ0eSA9PiB7XG4gICAgICAgICAgLy8gRXh0cmFjdCByZXNlYXJjaCBkYXRhIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnN0IHJlc2VhcmNoRGF0YSA9IHByb3BlcnR5LnByb3BlcnR5X3Jlc2VhcmNoICYmIHByb3BlcnR5LnByb3BlcnR5X3Jlc2VhcmNoLmxlbmd0aCA+IDAgXG4gICAgICAgICAgICA/IHByb3BlcnR5LnByb3BlcnR5X3Jlc2VhcmNoWzBdIFxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIERlbGV0ZSB0aGUgbmVzdGVkIHByb3BlcnR5X3Jlc2VhcmNoIHRvIGF2b2lkIGNvbmZ1c2lvblxuICAgICAgICAgIGRlbGV0ZSBwcm9wZXJ0eS5wcm9wZXJ0eV9yZXNlYXJjaDtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBOb3JtYWxpemUgdGhlIHByb3BlcnR5XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFByb3BlcnR5ID0gbm9ybWFsaXplUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgcmVzZWFyY2ggZGF0YSB3aXRoIHZhbGlkIGNvb3JkaW5hdGVzLCB1c2UgdGhlbVxuICAgICAgICAgIGlmIChyZXNlYXJjaERhdGEgJiYgcmVzZWFyY2hEYXRhLm1vZHVsZXMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciB2YWxpZCBjb29yZGluYXRlcyBpbiBwcm9wZXJ0eV9kZXRhaWxzIG1vZHVsZVxuICAgICAgICAgICAgICBjb25zdCBwcm9wZXJ0eURldGFpbHMgPSByZXNlYXJjaERhdGEubW9kdWxlcy5wcm9wZXJ0eV9kZXRhaWxzIHx8IHt9O1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gT25seSB1c2UgcmVzZWFyY2ggY29vcmRpbmF0ZXMgaWYgdGhleSdyZSB2YWxpZCBhbmQgcHJvcGVydHkgZG9lc24ndCBoYXZlIHRoZW1cbiAgICAgICAgICAgICAgaWYgKHByb3BlcnR5RGV0YWlscy5sYXRpdHVkZSAmJiBwcm9wZXJ0eURldGFpbHMubG9uZ2l0dWRlICYmXG4gICAgICAgICAgICAgICAgICB0eXBlb2YgcHJvcGVydHlEZXRhaWxzLmxhdGl0dWRlID09PSAnbnVtYmVyJyAmJiBcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBwcm9wZXJ0eURldGFpbHMubG9uZ2l0dWRlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgIW5vcm1hbGl6ZWRQcm9wZXJ0eS5faXNfZ3JpZF9wYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFByb3BlcnR5LmxhdGl0dWRlID0gcHJvcGVydHlEZXRhaWxzLmxhdGl0dWRlO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wZXJ0eS5sb25naXR1ZGUgPSBwcm9wZXJ0eURldGFpbHMubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wZXJ0eS5fY29vcmRpbmF0ZXNfZnJvbV9yZXNlYXJjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFByb3BlcnR5Ll9jb29yZGluYXRlc19taXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFByb3BlcnR5Ll9uZWVkc19nZW9jb2RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgcmVzZWFyY2ggY29vcmRpbmF0ZXMgZm9yIHByb3BlcnR5ICR7cHJvcGVydHkuaWR9OiBbJHtwcm9wZXJ0eURldGFpbHMubGF0aXR1ZGV9LCAke3Byb3BlcnR5RGV0YWlscy5sb25naXR1ZGV9XWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBBZGQgcmVzZWFyY2ggZGF0YSB0byBwcm9wZXJ0eVxuICAgICAgICAgICAgICBub3JtYWxpemVkUHJvcGVydHkuX3Jlc2VhcmNoID0ge1xuICAgICAgICAgICAgICAgIGRlcHRoOiByZXNlYXJjaERhdGEucmVzZWFyY2hfZGVwdGgsXG4gICAgICAgICAgICAgICAgZGF0ZTogcmVzZWFyY2hEYXRhLnJlc2VhcmNoX2RhdGUsXG4gICAgICAgICAgICAgICAgc3VtbWFyeTogcmVzZWFyY2hEYXRhLmV4ZWN1dGl2ZV9zdW1tYXJ5XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgcmVzZWFyY2ggZGF0YTonLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRQcm9wZXJ0eTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3IgbWFwIHZpZXcsIGZpbHRlciBvdXQgcHJvcGVydGllcyB3aXRob3V0IHZhbGlkIGNvb3JkaW5hdGVzXG4gICAgICAgIGlmICghb3B0aW9ucy5pbmNsdWRlSW5jb21wbGV0ZSkge1xuICAgICAgICAgIGNvbnN0IHByb3BlcnRpZXNXaXRoQ29vcmRpbmF0ZXMgPSBub3JtYWxpemVkUHJvcGVydGllcy5maWx0ZXIoXG4gICAgICAgICAgICBwID0+IHAubGF0aXR1ZGUgJiYgcC5sb25naXR1ZGUgJiYgXG4gICAgICAgICAgICAgICAgKHAuX2Nvb3JkaW5hdGVzX2Zyb21fcmVzZWFyY2ggfHwgXG4gICAgICAgICAgICAgICAgICAoIXAuX2Nvb3JkaW5hdGVzX21pc3NpbmcgJiYgIXAuX2lzX2dyaWRfcGF0dGVybikpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRmlsdGVyZWQgdG8gJHtwcm9wZXJ0aWVzV2l0aENvb3JkaW5hdGVzLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIHZhbGlkIGNvb3JkaW5hdGVzYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHByb3BlcnRpZXNXaXRoQ29vcmRpbmF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXNXaXRoQ29vcmRpbmF0ZXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIGFsbCBwcm9wZXJ0aWVzIHdlcmUgZmlsdGVyZWQgb3V0LCByZXR1cm4gdGhlbSBhbnl3YXkgdG8gYXZvaWQgZW1wdHkgbWFwXG4gICAgICAgICAgY29uc29sZS53YXJuKCdBbGwgcHJvcGVydGllcyB3ZXJlIGZpbHRlcmVkIG91dCBmb3IgaGF2aW5nIGludmFsaWQgY29vcmRpbmF0ZXMnKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRQcm9wZXJ0aWVzO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGpvaW5FcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2l0aCByZXNlYXJjaCBqb2luIHF1ZXJ5OicsIGpvaW5FcnJvcik7XG4gICAgICAvLyBGYWxsIGJhY2sgdG8gc3RhbmRhcmQgcXVlcnlcbiAgICB9XG4gIH1cbiAgXG4gIC8vIEZhbGxiYWNrIC0gc3RhbmRhcmQgcXVlcnkgd2l0aG91dCByZXNlYXJjaCBkYXRhXG4gIGNvbnNvbGUubG9nKCdVc2luZyBzdGFuZGFyZCBwcm9wZXJ0eSBxdWVyeSB3aXRob3V0IHJlc2VhcmNoIGRhdGEnKTtcbiAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2UuZnJvbSgncHJvcGVydGllcycpLnNlbGVjdCgnKicpO1xuICBcbiAgLy8gQXBwbHkgZmlsdGVycyBpZiBwcm92aWRlZFxuICBpZiAob3B0aW9ucy5maWx0ZXJzKSB7XG4gICAgT2JqZWN0LmVudHJpZXMob3B0aW9ucy5maWx0ZXJzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSAnJykge1xuICAgICAgICAvLyBIYW5kbGUgc3BlY2lhbCBmaWx0ZXIgc3ludGF4XG4gICAgICAgIGlmIChrZXkgPT09ICdvcicpIHtcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkuZW5kc1dpdGgoJ19ndGUnKSkge1xuICAgICAgICAgIGNvbnN0IGFjdHVhbEtleSA9IGtleS5yZXBsYWNlKCdfZ3RlJywgJycpO1xuICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkuZ3RlKGFjdHVhbEtleSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleS5lbmRzV2l0aCgnX2x0ZScpKSB7XG4gICAgICAgICAgY29uc3QgYWN0dWFsS2V5ID0ga2V5LnJlcGxhY2UoJ19sdGUnLCAnJyk7XG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5sdGUoYWN0dWFsS2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5LmVuZHNXaXRoKCdfZ3QnKSkge1xuICAgICAgICAgIGNvbnN0IGFjdHVhbEtleSA9IGtleS5yZXBsYWNlKCdfZ3QnLCAnJyk7XG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5ndChhY3R1YWxLZXksIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkuZW5kc1dpdGgoJ19sdCcpKSB7XG4gICAgICAgICAgY29uc3QgYWN0dWFsS2V5ID0ga2V5LnJlcGxhY2UoJ19sdCcsICcnKTtcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmx0KGFjdHVhbEtleSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleS5lbmRzV2l0aCgnX2lsaWtlJykpIHtcbiAgICAgICAgICBjb25zdCBhY3R1YWxLZXkgPSBrZXkucmVwbGFjZSgnX2lsaWtlJywgJycpO1xuICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkuaWxpa2UoYWN0dWFsS2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRGVmYXVsdCB0byBlcXVhbGl0eSBtYXRjaGluZ1xuICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgLy8gSWYgd2UgbmVlZCBjb21wbGV0ZSBwcm9wZXJ0aWVzIHdpdGggY29vcmRpbmF0ZXMgZm9yIHRoZSBtYXBcbiAgaWYgKCFvcHRpb25zLmluY2x1ZGVJbmNvbXBsZXRlKSB7XG4gICAgLy8gVXNlIGEgbW9yZSBwcmVjaXNlIGZpbHRlciB0byBhdm9pZCBlbXB0eS96ZXJvIGNvb3JkaW5hdGVzXG4gICAgLy8gRmlyc3QgcHJpb3JpdGl6ZSBwcm9wZXJ0aWVzIHdpdGggdmFsaWQgY29vcmRpbmF0ZXMgKGVpdGhlciBkaXJlY3Qgb3IgZnJvbSByZXNlYXJjaClcbiAgICBxdWVyeSA9IHF1ZXJ5XG4gICAgICAubm90KCdsYXRpdHVkZScsICdpcycsIG51bGwpXG4gICAgICAubm90KCdsb25naXR1ZGUnLCAnaXMnLCBudWxsKVxuICAgICAgLm5vdCgnbGF0aXR1ZGUnLCAnZXEnLCAwKVxuICAgICAgLm5vdCgnbG9uZ2l0dWRlJywgJ2VxJywgMClcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnUXVlcnlpbmcgZm9yIHByb3BlcnRpZXMgd2l0aCB2YWxpZCBjb29yZGluYXRlcyBvbmx5Jyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coJ0luY2x1ZGluZyBhbGwgcHJvcGVydGllcyByZWdhcmRsZXNzIG9mIGNvb3JkaW5hdGVzJyk7XG4gIH1cbiAgXG4gIC8vIEFwcGx5IHBhZ2luYXRpb25cbiAgaWYgKG9wdGlvbnMucGFnZSAmJiBvcHRpb25zLnBhZ2VTaXplKSB7XG4gICAgY29uc3Qgc3RhcnQgPSAob3B0aW9ucy5wYWdlIC0gMSkgKiBvcHRpb25zLnBhZ2VTaXplO1xuICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgb3B0aW9ucy5wYWdlU2l6ZSAtIDE7XG4gICAgcXVlcnkgPSBxdWVyeS5yYW5nZShzdGFydCwgZW5kKTtcbiAgfVxuICBcbiAgLy8gQXBwbHkgc29ydGluZ1xuICBpZiAob3B0aW9ucy5zb3J0QnkpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5Lm9yZGVyKG9wdGlvbnMuc29ydEJ5LCB7IGFzY2VuZGluZzogb3B0aW9ucy5zb3J0QXNjICE9PSBmYWxzZSB9KTtcbiAgfVxuICBcbiAgLy8gRXhlY3V0ZSBxdWVyeVxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcbiAgXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb3BlcnRpZXM6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG4gIFxuICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICBjb25zb2xlLndhcm4oJ05vIHByb3BlcnRpZXMgZm91bmQgd2l0aCB0aGUgZ2l2ZW4gY3JpdGVyaWEnKTtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgXG4gIC8vIE5vcm1hbGl6ZSBwcm9wZXJ0eSBkYXRhIHRvIGhhbmRsZSBpbmNvbnNpc3RlbmNpZXNcbiAgcmV0dXJuIGRhdGEubWFwKHByb3BlcnR5ID0+IG5vcm1hbGl6ZVByb3BlcnR5KHByb3BlcnR5KSk7XG59O1xuXG4vKipcbiAqIE5vcm1hbGl6ZXMgcHJvcGVydHkgZGF0YSB0byBoYW5kbGUgaW5jb25zaXN0ZW50IGZpZWxkIG5hbWVzXG4gKiBcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0eSAtIFJhdyBwcm9wZXJ0eSBkYXRhIGZyb20gU3VwYWJhc2VcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5vcm1hbGl6ZWQgcHJvcGVydHkgZGF0YVxuICovXG5jb25zdCBub3JtYWxpemVQcm9wZXJ0eSA9IChwcm9wZXJ0eSkgPT4ge1xuICAvLyBNYWtlIGNvcHkgdG8gYXZvaWQgbXV0YXRpbmcgdGhlIG9yaWdpbmFsXG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB7IC4uLnByb3BlcnR5IH07XG4gIFxuICAvLyBIYW5kbGUgaW5jb25zaXN0ZW50IHVuaXQgZmllbGQgbmFtZXNcbiAgbm9ybWFsaXplZC51bml0cyA9IHByb3BlcnR5Lm51bV91bml0cyB8fCBwcm9wZXJ0eS51bml0cyB8fCBudWxsO1xuICBcbiAgLy8gVXNlIHByb3BlcnR5IG5hbWUgb3IgZGVyaXZlIGZyb20gYWRkcmVzcyBpZiBtaXNzaW5nXG4gIGlmICghbm9ybWFsaXplZC5uYW1lIHx8IG5vcm1hbGl6ZWQubmFtZS50cmltKCkgPT09ICcnKSB7XG4gICAgbm9ybWFsaXplZC5uYW1lID0gcHJvcGVydHkuYWRkcmVzcyBcbiAgICAgID8gYFByb3BlcnR5IGF0ICR7cHJvcGVydHkuYWRkcmVzcy5zcGxpdCgnLCcpWzBdfWBcbiAgICAgIDogYFByb3BlcnR5ICR7cHJvcGVydHkuaWQuc3Vic3RyaW5nKDAsIDgpfWA7XG4gIH1cbiAgXG4gIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIHN0YXR1c1xuICBub3JtYWxpemVkLnN0YXR1cyA9IHByb3BlcnR5LnN0YXR1cyB8fCBwcm9wZXJ0eS5wcm9wZXJ0eV9zdGF0dXMgfHwgJ0xpc3RlZCc7XG4gIFxuICAvLyBDaGVjayBpZiB0aGlzIGlzIGxpa2VseSBhIHRlc3QgcHJvcGVydHlcbiAgbm9ybWFsaXplZC5faXNfdGVzdF9wcm9wZXJ0eSA9IGlzVGVzdFByb3BlcnR5KHByb3BlcnR5KTtcbiAgXG4gIC8vIEFkZCBjb29yZGluYXRlIHJlbGF0ZWQgZmxhZ3NcbiAgaWYgKHByb3BlcnR5LmxhdGl0dWRlICYmIHByb3BlcnR5LmxvbmdpdHVkZSAmJlxuICAgICAgdHlwZW9mIHByb3BlcnR5LmxhdGl0dWRlID09PSAnbnVtYmVyJyAmJiBcbiAgICAgIHR5cGVvZiBwcm9wZXJ0eS5sb25naXR1ZGUgPT09ICdudW1iZXInICYmXG4gICAgICAhKHByb3BlcnR5LmxhdGl0dWRlID09PSAwICYmIHByb3BlcnR5LmxvbmdpdHVkZSA9PT0gMCkpIHtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBjb29yZGluYXRlcyBhcmUgdmFsaWQgKGluIHByb3BlciBsYXQvbG9uZyByYW5nZXMpXG4gICAgY29uc3QgaXNWYWxpZExhdGl0dWRlID0gcHJvcGVydHkubGF0aXR1ZGUgPj0gLTkwICYmIHByb3BlcnR5LmxhdGl0dWRlIDw9IDkwO1xuICAgIGNvbnN0IGlzVmFsaWRMb25naXR1ZGUgPSBwcm9wZXJ0eS5sb25naXR1ZGUgPj0gLTE4MCAmJiBwcm9wZXJ0eS5sb25naXR1ZGUgPD0gMTgwO1xuICAgIFxuICAgIC8vIEF1c3RpbiBhcmVhIGJvdW5kYXJpZXMgKGFwcHJveGltYXRlKSAtIGhlbHBzIGRldGVjdCBvYnZpb3VzbHkgd3JvbmcgY29vcmRpbmF0ZXNcbiAgICBjb25zdCBpc0luQXVzdGluQXJlYSA9IChcbiAgICAgIHByb3BlcnR5LmxhdGl0dWRlID49IDI5LjUgJiYgcHJvcGVydHkubGF0aXR1ZGUgPD0gMzEuMCAmJiBcbiAgICAgIHByb3BlcnR5LmxvbmdpdHVkZSA+PSAtOTguMCAmJiBwcm9wZXJ0eS5sb25naXR1ZGUgPD0gLTk3LjBcbiAgICApO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIGNvb3JkaW5hdGVzIGFyZSBwYXJ0IG9mIGEgZ3JpZCBwYXR0ZXJuIChsb3cgcHJlY2lzaW9uIG9yIHN1c3BpY2lvdXMgcGF0dGVybnMpXG4gICAgY29uc3QgbGF0U3RyID0gU3RyaW5nKHByb3BlcnR5LmxhdGl0dWRlKTtcbiAgICBjb25zdCBsbmdTdHIgPSBTdHJpbmcocHJvcGVydHkubG9uZ2l0dWRlKTtcbiAgICBcbiAgICAvLyBPbmx5IGZsYWcgdmVyeSBsb3cgcHJlY2lzaW9uIGNvb3JkaW5hdGVzIGFzIHN1c3BpY2lvdXMgKDEgZGVjaW1hbCBwbGFjZSBvciBsZXNzKVxuICAgIGNvbnN0IGhhc0xvd1ByZWNpc2lvbiA9IFxuICAgICAgKGxhdFN0ci5pbmNsdWRlcygnLicpICYmIGxhdFN0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA8PSAxKSB8fFxuICAgICAgKGxuZ1N0ci5pbmNsdWRlcygnLicpICYmIGxuZ1N0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA8PSAxKTtcbiAgICAgIFxuICAgIC8vIFJlZHVjZWQgc2V0IG9mIHN1c3BpY2lvdXMgcGF0dGVybnNcbiAgICBjb25zdCBoYXNTdXNwaWNpb3VzUGF0dGVybiA9IFxuICAgICAgbGF0U3RyID09PSBsbmdTdHIgfHwgLy8gU2FtZSBsYXQvbG5nIGlzIHZlcnkgdW5saWtlbHlcbiAgICAgIGxhdFN0ci5lbmRzV2l0aCgnMDAwMDAnKSB8fCBcbiAgICAgIGxuZ1N0ci5lbmRzV2l0aCgnMDAwMDAnKTtcbiAgICBcbiAgICAvLyBLZWVwIHRyYWNrIG9mIHdoZXRoZXIgdGhpcyBpcyBkZXRlY3RlZCBhcyBhIGdyaWQgcGF0dGVyblxuICAgIGNvbnN0IGlzR3JpZFBhdHRlcm4gPSBoYXNMb3dQcmVjaXNpb24gfHwgaGFzU3VzcGljaW91c1BhdHRlcm47XG4gICAgXG4gICAgLy8gRmxhZyBjb29yZGluYXRlcyBhcyBtaXNzaW5nIGlmIHRoZXkncmUgaW52YWxpZCBvciBzdXNwaWNpb3VzXG4gICAgaWYgKCFpc1ZhbGlkTGF0aXR1ZGUgfHwgIWlzVmFsaWRMb25naXR1ZGUgfHwgaXNHcmlkUGF0dGVybikge1xuICAgICAgbm9ybWFsaXplZC5fY29vcmRpbmF0ZXNfbWlzc2luZyA9IHRydWU7XG4gICAgICBub3JtYWxpemVkLl9uZWVkc19nZW9jb2RpbmcgPSB0cnVlO1xuICAgICAgbm9ybWFsaXplZC5faXNfZ3JpZF9wYXR0ZXJuID0gaXNHcmlkUGF0dGVybjtcbiAgICAgIG5vcm1hbGl6ZWQuX2lzX2ludmFsaWRfcmFuZ2UgPSAhaXNWYWxpZExhdGl0dWRlIHx8ICFpc1ZhbGlkTG9uZ2l0dWRlO1xuICAgICAgXG4gICAgICAvLyBEZWJ1ZyBpbmZvIGZvciBpbnZhbGlkIGNvb3JkaW5hdGVzXG4gICAgICBpZiAoIWlzVmFsaWRMYXRpdHVkZSB8fCAhaXNWYWxpZExvbmdpdHVkZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgY29vcmRpbmF0ZSByYW5nZSBmb3IgcHJvcGVydHkgJHtwcm9wZXJ0eS5pZH06IFske3Byb3BlcnR5LmxhdGl0dWRlfSwgJHtwcm9wZXJ0eS5sb25naXR1ZGV9XWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZXQgYWRkaXRpb25hbCBmbGFncyBmb3IgY29vcmRpbmF0ZXMgb3V0c2lkZSBBdXN0aW4gKG1pZ2h0IGJlIHZhbGlkIGJ1dCBzdXNwaWNpb3VzKVxuICAgICAgbm9ybWFsaXplZC5fb3V0c2lkZV9hdXN0aW4gPSAhaXNJbkF1c3RpbkFyZWE7XG4gICAgICBub3JtYWxpemVkLl9jb29yZGluYXRlc19taXNzaW5nID0gZmFsc2U7XG4gICAgICBub3JtYWxpemVkLl9uZWVkc19nZW9jb2RpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gTm8gY29vcmRpbmF0ZXMgb3IgaW52YWxpZCBjb29yZGluYXRlc1xuICAgIG5vcm1hbGl6ZWQuX2Nvb3JkaW5hdGVzX21pc3NpbmcgPSB0cnVlO1xuICAgIG5vcm1hbGl6ZWQuX25lZWRzX2dlb2NvZGluZyA9IHRydWU7XG4gIH1cbiAgXG4gIHJldHVybiBub3JtYWxpemVkO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgcHJvcGVydHkgaXMgbGlrZWx5IGEgdGVzdC9leGFtcGxlIHByb3BlcnR5XG4gKiBcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0eSAtIFByb3BlcnR5IGRhdGEgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHByb3BlcnR5IGlzIGxpa2VseSBhIHRlc3QgcHJvcGVydHlcbiAqL1xuY29uc3QgaXNUZXN0UHJvcGVydHkgPSAocHJvcGVydHkpID0+IHtcbiAgLy8gQ2hlY2sgZm9yIGNvbW1vbiB0ZXN0IHByb3BlcnR5IGluZGljYXRvcnMgaW4gbmFtZVxuICBjb25zdCBuYW1lID0gKHByb3BlcnR5Lm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IHRlc3RJbmRpY2F0b3JzID0gWyd0ZXN0JywgJ2V4YW1wbGUnLCAnc2FtcGxlJywgJ2RlbW8nLCAnZHVtbXknLCAndGVtcGxhdGUnXTtcbiAgXG4gIGZvciAoY29uc3QgaW5kaWNhdG9yIG9mIHRlc3RJbmRpY2F0b3JzKSB7XG4gICAgaWYgKG5hbWUuaW5jbHVkZXMoaW5kaWNhdG9yKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIFxuICAvLyBDaGVjayBmb3IgdW5yZWFsaXN0aWMgdmFsdWVzXG4gIGlmIChwcm9wZXJ0eS5wcmljZSA9PT0gMCB8fCBwcm9wZXJ0eS5wcmljZSA9PT0gMSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICBpZiAocHJvcGVydHkudW5pdHMgPT09IDAgfHwgcHJvcGVydHkudW5pdHMgPT09IDk5OSB8fCBwcm9wZXJ0eS5udW1fdW5pdHMgPT09IDAgfHwgcHJvcGVydHkubnVtX3VuaXRzID09PSA5OTkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZm9yIHBsYWNlaG9sZGVyIGFkZHJlc3Nlc1xuICBjb25zdCBhZGRyZXNzID0gKHByb3BlcnR5LmFkZHJlc3MgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IHBsYWNlaG9sZGVySW5kaWNhdG9ycyA9IFsnMTIzIG1haW4nLCAndGVzdCBhZGRyZXNzJywgJ2V4YW1wbGUnLCAncGxhY2Vob2xkZXInXTtcbiAgXG4gIGZvciAoY29uc3QgaW5kaWNhdG9yIG9mIHBsYWNlaG9sZGVySW5kaWNhdG9ycykge1xuICAgIGlmIChhZGRyZXNzLmluY2x1ZGVzKGluZGljYXRvcikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgdGVzdCBwcm9wZXJ0eSBpbiB0aGUgZGF0YWJhc2UgZm9yIHRlc3RpbmcgcHVycG9zZXNcbiAqIFVzZSB0aGlzIHRvIHZlcmlmeSB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbiBpcyB3b3JraW5nXG4gKiBcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFRoZSBjcmVhdGVkIHRlc3QgcHJvcGVydHlcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVRlc3RQcm9wZXJ0eSA9IGFzeW5jICgpID0+IHtcbiAgLy8gRmlyc3QsIGNoZWNrIGlmIHdlIGNhbiBnZXQgdGhlIHRhYmxlIHN0cnVjdHVyZVxuICB0cnkge1xuICAgIC8vIFRyeSB0byBnZXQgb25lIHJlY29yZCB0byBzZWUgdGhlIHNjaGVtYVxuICAgIGNvbnN0IHsgZGF0YTogc2FtcGxlUHJvcGVydHksIGVycm9yOiBzYW1wbGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9wZXJ0aWVzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmxpbWl0KDEpO1xuICAgIFxuICAgIC8vIEJhc2ljIHRlc3QgcHJvcGVydHkgdGhhdCBtYXRjaGVzIHRoZSBzY2hlbWEgZnJvbSBzdXBhYmFzZS1zZXR1cC5tZFxuICAgIGNvbnN0IGJhc2VUZXN0UHJvcGVydHkgPSB7XG4gICAgICBuYW1lOiBgVGVzdCBQcm9wZXJ0eSAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxNil9YCxcbiAgICAgIGFkZHJlc3M6ICcxMjMgVGVzdCBTdHJlZXQnLFxuICAgICAgY2l0eTogJ0F1c3RpbicsXG4gICAgICBzdGF0ZTogJ1RYJyxcbiAgICAgIHppcF9jb2RlOiAnNzg3MDEnLFxuICAgICAgbGF0aXR1ZGU6IDMwLjI2NzIsXG4gICAgICBsb25naXR1ZGU6IC05Ny43NDMxLFxuICAgICAgcHJpY2U6IDUwMDAwMDAsXG4gICAgICB1bml0czogNTAsXG4gICAgICB5ZWFyX2J1aWx0OiAyMDEwLFxuICAgICAgcHJvcGVydHlfdHlwZTogJ01VTFRJRkFNSUxZJyxcbiAgICAgIHN0YXR1czogJ2F2YWlsYWJsZScsIC8vIFVzZSBzdGF0dXMgcmF0aGVyIHRoYW4gcHJvcGVydHlfc3RhdHVzIGZyb20gdGhlIGRvY3NcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBpcyBhIHRlc3QgcHJvcGVydHkgY3JlYXRlZCB0byB2ZXJpZnkgZGF0YWJhc2UgY29ubmVjdGl2aXR5LicsXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIFxuICAgIC8vIElmIHdlIGhhdmUgYSBzYW1wbGUsIGFkYXB0IHRvIGl0cyBzY2hlbWFcbiAgICBsZXQgdGVzdFByb3BlcnR5ID0gYmFzZVRlc3RQcm9wZXJ0eTtcbiAgICBpZiAoIXNhbXBsZUVycm9yICYmIHNhbXBsZVByb3BlcnR5ICYmIHNhbXBsZVByb3BlcnR5Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBleGlzdGluZyBwcm9wZXJ0eSBmb3Igc2NoZW1hIHJlZmVyZW5jZTonLCBzYW1wbGVQcm9wZXJ0eVswXSk7XG4gICAgICBcbiAgICAgIC8vIEFkYXB0IG91ciB0ZXN0IHByb3BlcnR5IHRvIG1hdGNoIHRoZSBleGlzdGluZyBzY2hlbWFcbiAgICAgIGNvbnN0IHNhbXBsZSA9IHNhbXBsZVByb3BlcnR5WzBdO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgb2JqZWN0IHdpdGggb25seSB0aGUgZmllbGRzIHRoYXQgZXhpc3QgaW4gdGhlIHNhbXBsZVxuICAgICAgY29uc3QgYWRhcHRlZFByb3BlcnR5ID0ge307XG4gICAgICBPYmplY3Qua2V5cyhiYXNlVGVzdFByb3BlcnR5KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIC8vIElmIHRoZSBmaWVsZCBleGlzdHMgaW4gdGhlIHNhbXBsZSwgdXNlIG91ciB0ZXN0IHZhbHVlXG4gICAgICAgIGlmIChrZXkgaW4gc2FtcGxlKSB7XG4gICAgICAgICAgYWRhcHRlZFByb3BlcnR5W2tleV0gPSBiYXNlVGVzdFByb3BlcnR5W2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBrZXkgZmllbGRzIHRoYXQgbWlnaHQgaGF2ZSBkaWZmZXJlbnQgbmFtZXNcbiAgICAgIGlmICgncHJvcGVydHlfc3RhdHVzJyBpbiBzYW1wbGUgJiYgISgnc3RhdHVzJyBpbiBzYW1wbGUpKSB7XG4gICAgICAgIGFkYXB0ZWRQcm9wZXJ0eS5wcm9wZXJ0eV9zdGF0dXMgPSBiYXNlVGVzdFByb3BlcnR5LnN0YXR1cztcbiAgICAgICAgZGVsZXRlIGFkYXB0ZWRQcm9wZXJ0eS5zdGF0dXM7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICgnbnVtX3VuaXRzJyBpbiBzYW1wbGUgJiYgISgndW5pdHMnIGluIHNhbXBsZSkpIHtcbiAgICAgICAgYWRhcHRlZFByb3BlcnR5Lm51bV91bml0cyA9IGJhc2VUZXN0UHJvcGVydHkudW5pdHM7XG4gICAgICAgIGRlbGV0ZSBhZGFwdGVkUHJvcGVydHkudW5pdHM7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVzZSB0aGUgYWRhcHRlZCBwcm9wZXJ0eVxuICAgICAgdGVzdFByb3BlcnR5ID0gYWRhcHRlZFByb3BlcnR5O1xuICAgICAgY29uc29sZS5sb2coJ0FkYXB0ZWQgdGVzdCBwcm9wZXJ0eSB0byBtYXRjaCBzY2hlbWE6JywgdGVzdFByb3BlcnR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ05vIHNhbXBsZSBwcm9wZXJ0eSBmb3VuZCwgdXNpbmcgZGVmYXVsdCBzY2hlbWEnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVHJ5IHRvIGluc2VydCB0aGUgdGVzdCBwcm9wZXJ0eVxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvcGVydGllcycpXG4gICAgICAuaW5zZXJ0KHRlc3RQcm9wZXJ0eSlcbiAgICAgIC5zZWxlY3QoKTtcbiAgICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgdGVzdCBwcm9wZXJ0eTonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIFRyeSBhZ2FpbiB3aXRoIG1pbmltYWwgZmllbGRzIGlmIHRoaXMgZmFpbGVkXG4gICAgICBpZiAoZXJyb3IubWVzc2FnZSAmJiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygndmlvbGF0ZXMgbm90LW51bGwgY29uc3RyYWludCcpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnbWlzc2luZycpKSkge1xuICAgICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIGFnYWluIHdpdGggbWluaW1hbCByZXF1aXJlZCBmaWVsZHMnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSB3aXRoIGp1c3QgdGhlIGJhcmUgbWluaW11bSBmaWVsZHNcbiAgICAgICAgY29uc3QgbWluaW1hbFByb3BlcnR5ID0ge1xuICAgICAgICAgIG5hbWU6IGBUZXN0IFByb3BlcnR5ICR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDE2KX1gLFxuICAgICAgICAgIGFkZHJlc3M6ICcxMjMgVGVzdCBTdHJlZXQnLFxuICAgICAgICAgIGNpdHk6ICdBdXN0aW4nLFxuICAgICAgICAgIHN0YXRlOiAnVFgnXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjb25zdCB7IGRhdGE6IG1pbkRhdGEsIGVycm9yOiBtaW5FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgncHJvcGVydGllcycpXG4gICAgICAgICAgLmluc2VydChtaW5pbWFsUHJvcGVydHkpXG4gICAgICAgICAgLnNlbGVjdCgpO1xuICAgICAgICAgIFxuICAgICAgICBpZiAobWluRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBtaW5pbWFsIHByb3BlcnR5OicsIG1pbkVycm9yKTtcbiAgICAgICAgICB0aHJvdyBtaW5FcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBjcmVhdGVkIG1pbmltYWwgdGVzdCBwcm9wZXJ0eTonLCBtaW5EYXRhKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRhOiBtaW5EYXRhLFxuICAgICAgICAgIGluZm86ICdDcmVhdGVkIHdpdGggbWluaW1hbCBmaWVsZHMgb25seSdcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdUZXN0IHByb3BlcnR5IGNyZWF0ZWQ6JywgZGF0YSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGEsXG4gICAgICBpbmZvOiAnQ3JlYXRlZCB3aXRoIGZ1bGwgZmllbGRzJ1xuICAgIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGNyZWF0ZVRlc3RQcm9wZXJ0eTonLCBlcnIpO1xuICAgIHRocm93IGVycjtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgc3VwYWJhc2U7ICJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvbnNvbGUiLCJlcnJvciIsInN1cGFiYXNlIiwiYXV0aCIsImF1dG9SZWZyZXNoVG9rZW4iLCJwZXJzaXN0U2Vzc2lvbiIsImRldGVjdFNlc3Npb25JblVybCIsImdldEN1cnJlbnRVc2VyIiwiZGF0YSIsInVzZXIiLCJnZXRVc2VyIiwic2lnblVwIiwiZW1haWwiLCJwYXNzd29yZCIsInNpZ25JbiIsInNpZ25JbldpdGhQYXNzd29yZCIsInNpZ25PdXQiLCJmZXRjaFByb3BlcnRpZXMiLCJvcHRpb25zIiwiaW5jbHVkZVJlc2VhcmNoIiwicXVlcnkiLCJmcm9tIiwic2VsZWN0IiwiZmlsdGVycyIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJvciIsImVuZHNXaXRoIiwiYWN0dWFsS2V5IiwicmVwbGFjZSIsImd0ZSIsImx0ZSIsImd0IiwibHQiLCJpbGlrZSIsImVxIiwiaW5jbHVkZUluY29tcGxldGUiLCJub3QiLCJvcmRlciIsImFzY2VuZGluZyIsImxvZyIsInBhZ2UiLCJwYWdlU2l6ZSIsInN0YXJ0IiwiZW5kIiwicmFuZ2UiLCJzb3J0QnkiLCJzb3J0QXNjIiwid2FybiIsImxlbmd0aCIsIm5vcm1hbGl6ZWRQcm9wZXJ0aWVzIiwibWFwIiwicHJvcGVydHkiLCJyZXNlYXJjaERhdGEiLCJwcm9wZXJ0eV9yZXNlYXJjaCIsIm5vcm1hbGl6ZWRQcm9wZXJ0eSIsIm5vcm1hbGl6ZVByb3BlcnR5IiwibW9kdWxlcyIsInByb3BlcnR5RGV0YWlscyIsInByb3BlcnR5X2RldGFpbHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIl9pc19ncmlkX3BhdHRlcm4iLCJfY29vcmRpbmF0ZXNfZnJvbV9yZXNlYXJjaCIsIl9jb29yZGluYXRlc19taXNzaW5nIiwiX25lZWRzX2dlb2NvZGluZyIsImlkIiwiX3Jlc2VhcmNoIiwiZGVwdGgiLCJyZXNlYXJjaF9kZXB0aCIsImRhdGUiLCJyZXNlYXJjaF9kYXRlIiwic3VtbWFyeSIsImV4ZWN1dGl2ZV9zdW1tYXJ5IiwiZSIsInByb3BlcnRpZXNXaXRoQ29vcmRpbmF0ZXMiLCJmaWx0ZXIiLCJwIiwiam9pbkVycm9yIiwibm9ybWFsaXplZCIsInVuaXRzIiwibnVtX3VuaXRzIiwibmFtZSIsInRyaW0iLCJhZGRyZXNzIiwic3BsaXQiLCJzdWJzdHJpbmciLCJzdGF0dXMiLCJwcm9wZXJ0eV9zdGF0dXMiLCJfaXNfdGVzdF9wcm9wZXJ0eSIsImlzVGVzdFByb3BlcnR5IiwiaXNWYWxpZExhdGl0dWRlIiwiaXNWYWxpZExvbmdpdHVkZSIsImlzSW5BdXN0aW5BcmVhIiwibGF0U3RyIiwiU3RyaW5nIiwibG5nU3RyIiwiaGFzTG93UHJlY2lzaW9uIiwiaW5jbHVkZXMiLCJoYXNTdXNwaWNpb3VzUGF0dGVybiIsImlzR3JpZFBhdHRlcm4iLCJfaXNfaW52YWxpZF9yYW5nZSIsIl9vdXRzaWRlX2F1c3RpbiIsInRvTG93ZXJDYXNlIiwidGVzdEluZGljYXRvcnMiLCJpbmRpY2F0b3IiLCJwcmljZSIsInBsYWNlaG9sZGVySW5kaWNhdG9ycyIsImNyZWF0ZVRlc3RQcm9wZXJ0eSIsInNhbXBsZVByb3BlcnR5Iiwic2FtcGxlRXJyb3IiLCJsaW1pdCIsImJhc2VUZXN0UHJvcGVydHkiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzbGljZSIsImNpdHkiLCJzdGF0ZSIsInppcF9jb2RlIiwieWVhcl9idWlsdCIsInByb3BlcnR5X3R5cGUiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwidGVzdFByb3BlcnR5Iiwic2FtcGxlIiwiYWRhcHRlZFByb3BlcnR5Iiwia2V5cyIsImluc2VydCIsIm1lc3NhZ2UiLCJtaW5pbWFsUHJvcGVydHkiLCJtaW5EYXRhIiwibWluRXJyb3IiLCJpbmZvIiwiZXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/supabase.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/contexts/AuthContext */ \"./src/contexts/AuthContext.js\");\n/* harmony import */ var _src_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/contexts/ThemeContext */ \"./src/contexts/ThemeContext.tsx\");\n/* harmony import */ var _src_styles_globals_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/styles/globals.css */ \"./src/styles/globals.css\");\n/* harmony import */ var _src_styles_globals_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_src_styles_globals_css__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_ThemeContext__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_1__.AuthProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/_app.js\",\n                lineNumber: 9,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/_app.js\",\n            lineNumber: 8,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/_app.js\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ0U7QUFDMUI7QUFFbkMsU0FBU0UsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRTtJQUNyQyxxQkFDRSw4REFBQ0gscUVBQWFBO2tCQUNaLDRFQUFDRCxtRUFBWUE7c0JBQ1gsNEVBQUNHO2dCQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJaEM7QUFFQSxpRUFBZUYsS0FBS0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1c3Rpbi1tdWx0aWZhbWlseS1tYXAvLi9wYWdlcy9fYXBwLmpzP2UwYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tICcuLi9zcmMvY29udGV4dHMvVGhlbWVDb250ZXh0JztcbmltcG9ydCAnLi4vc3JjL3N0eWxlcy9nbG9iYWxzLmNzcyc7XG5cbmZ1bmN0aW9uIE15QXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfSkge1xuICByZXR1cm4gKFxuICAgIDxUaGVtZVByb3ZpZGVyPlxuICAgICAgPEF1dGhQcm92aWRlcj5cbiAgICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxuICAgICAgPC9BdXRoUHJvdmlkZXI+XG4gICAgPC9UaGVtZVByb3ZpZGVyPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBNeUFwcDsgIl0sIm5hbWVzIjpbIkF1dGhQcm92aWRlciIsIlRoZW1lUHJvdmlkZXIiLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./src/contexts/AuthContext.js":
/*!*************************************!*\
  !*** ./src/contexts/AuthContext.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthContext: () => (/* binding */ AuthContext),\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/supabase */ \"./lib/supabase.js\");\n\n\n\n// Create the auth context\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n// Create the auth provider component\nfunction AuthProvider({ children }) {\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Check for user on initial load\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Get current session\n        const getInitialSession = async ()=>{\n            try {\n                setLoading(true);\n                // Get current user\n                const { data: { user: currentUser }, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.getUser();\n                if (error) {\n                    throw error;\n                }\n                setUser(currentUser);\n            } catch (error) {\n                console.error(\"Error getting initial session:\", error);\n                setError(error.message);\n            } finally{\n                setLoading(false);\n            }\n        };\n        getInitialSession();\n        // Set up auth state listener\n        const { data: { subscription } } = _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.onAuthStateChange((_event, session)=>{\n            setUser(session?.user || null);\n            setLoading(false);\n        });\n        // Clean up subscription on unmount\n        return ()=>{\n            subscription?.unsubscribe();\n        };\n    }, []);\n    // Login with email and password\n    const signInWithEmail = async (email, password)=>{\n        try {\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.signInWithPassword({\n                email,\n                password\n            });\n            if (error) {\n                throw error;\n            }\n            return {\n                data,\n                error: null\n            };\n        } catch (error) {\n            console.error(\"Error signing in:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n    };\n    // Login with Google OAuth\n    const signInWithGoogle = async ()=>{\n        try {\n            // Get the correct origin based on Supabase URL, not the current window location\n            const supabaseUrl = \"https://vdrtfnphuixbguedqhox.supabase.co\";\n            const appUrl = window.location.origin;\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.signInWithOAuth({\n                provider: \"google\",\n                options: {\n                    redirectTo: `${appUrl}/`\n                }\n            });\n            if (error) {\n                throw error;\n            }\n            return {\n                data,\n                error: null\n            };\n        } catch (error) {\n            console.error(\"Error signing in with Google:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n    };\n    // Sign up with email and password\n    const signUpWithEmail = async (email, password)=>{\n        try {\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.signUp({\n                email,\n                password\n            });\n            if (error) {\n                throw error;\n            }\n            return {\n                data,\n                error: null\n            };\n        } catch (error) {\n            console.error(\"Error signing up:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n    };\n    // Sign out\n    const signOut = async ()=>{\n        try {\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.signOut();\n            if (error) {\n                throw error;\n            }\n            return {\n                error: null\n            };\n        } catch (error) {\n            console.error(\"Error signing out:\", error);\n            return {\n                error\n            };\n        }\n    };\n    // Reset password\n    const resetPassword = async (email)=>{\n        try {\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.resetPasswordForEmail(email, {\n                redirectTo: `${window.location.origin}/update-password`\n            });\n            if (error) {\n                throw error;\n            }\n            return {\n                data,\n                error: null\n            };\n        } catch (error) {\n            console.error(\"Error resetting password:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n    };\n    // Update password\n    const updatePassword = async (password)=>{\n        try {\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.updateUser({\n                password\n            });\n            if (error) {\n                throw error;\n            }\n            return {\n                data,\n                error: null\n            };\n        } catch (error) {\n            console.error(\"Error updating password:\", error);\n            return {\n                data: null,\n                error\n            };\n        }\n    };\n    // Check if user is admin\n    const isAdmin = !!user; // In a real app you would check a role or permission claim\n    // Create the context value object\n    const value = {\n        user,\n        loading,\n        error,\n        signInWithEmail,\n        signInWithGoogle,\n        signUpWithEmail,\n        signOut,\n        resetPassword,\n        updatePassword,\n        isAdmin\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/contexts/AuthContext.js\",\n        lineNumber: 183,\n        columnNumber: 5\n    }, this);\n}\n// Create a hook for using the auth context\nfunction useAuth() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxHQUFHLE1BQU1SLG1EQUFRQSxDQUFDYSxJQUFJLENBQUNnQyxVQUFVLENBQUM7Z0JBQ3JEckI7WUFDRjtZQUVBLElBQUloQixPQUFPO2dCQUNULE1BQU1BO1lBQ1I7WUFFQSxPQUFPO2dCQUFFRztnQkFBTUgsT0FBTztZQUFLO1FBQzdCLEVBQUUsT0FBT0EsT0FBTztZQUNkTyxRQUFRUCxLQUFLLENBQUMsNEJBQTRCQTtZQUMxQyxPQUFPO2dCQUFFRyxNQUFNO2dCQUFNSDtZQUFNO1FBQzdCO0lBQ0Y7SUFFQSx5QkFBeUI7SUFDekIsTUFBTXNDLFVBQVUsQ0FBQyxDQUFDMUMsTUFBTywyREFBMkQ7SUFFcEYsa0NBQWtDO0lBQ2xDLE1BQU0yQyxRQUFRO1FBQ1ozQztRQUNBRTtRQUNBRTtRQUNBYztRQUNBSTtRQUNBYTtRQUNBRTtRQUNBQztRQUNBRTtRQUNBRTtJQUNGO0lBRUEscUJBQ0UsOERBQUM3QyxZQUFZK0MsUUFBUTtRQUFDRCxPQUFPQTtrQkFDMUI1Qzs7Ozs7O0FBR1A7QUFFQSwyQ0FBMkM7QUFDcEMsU0FBUzhDO0lBQ2QsTUFBTUMsVUFBVW5ELGlEQUFVQSxDQUFDRTtJQUMzQixJQUFJaUQsWUFBWUMsV0FBVztRQUN6QixNQUFNLElBQUlDLE1BQU07SUFDbEI7SUFDQSxPQUFPRjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXVzdGluLW11bHRpZmFtaWx5LW1hcC8uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC5qcz83ODc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uLy4uL2xpYi9zdXBhYmFzZSc7XG5cbi8vIENyZWF0ZSB0aGUgYXV0aCBjb250ZXh0XG5leHBvcnQgY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5cbi8vIENyZWF0ZSB0aGUgYXV0aCBwcm92aWRlciBjb21wb25lbnRcbmV4cG9ydCBmdW5jdGlvbiBBdXRoUHJvdmlkZXIoeyBjaGlsZHJlbiB9KSB7XG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcblxuICAvLyBDaGVjayBmb3IgdXNlciBvbiBpbml0aWFsIGxvYWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBHZXQgY3VycmVudCBzZXNzaW9uXG4gICAgY29uc3QgZ2V0SW5pdGlhbFNlc3Npb24gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IGN1cnJlbnQgdXNlclxuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdXNlcjogY3VycmVudFVzZXIgfSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldFVzZXIoY3VycmVudFVzZXIpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBpbml0aWFsIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgZ2V0SW5pdGlhbFNlc3Npb24oKTtcbiAgICBcbiAgICAvLyBTZXQgdXAgYXV0aCBzdGF0ZSBsaXN0ZW5lclxuICAgIGNvbnN0IHsgZGF0YTogeyBzdWJzY3JpcHRpb24gfSB9ID0gc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZSgoX2V2ZW50LCBzZXNzaW9uKSA9PiB7XG4gICAgICBzZXRVc2VyKHNlc3Npb24/LnVzZXIgfHwgbnVsbCk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBDbGVhbiB1cCBzdWJzY3JpcHRpb24gb24gdW5tb3VudFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuICBcbiAgLy8gTG9naW4gd2l0aCBlbWFpbCBhbmQgcGFzc3dvcmRcbiAgY29uc3Qgc2lnbkluV2l0aEVtYWlsID0gYXN5bmMgKGVtYWlsLCBwYXNzd29yZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2lnbmluZyBpbjonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIExvZ2luIHdpdGggR29vZ2xlIE9BdXRoXG4gIGNvbnN0IHNpZ25JbldpdGhHb29nbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB0aGUgY29ycmVjdCBvcmlnaW4gYmFzZWQgb24gU3VwYWJhc2UgVVJMLCBub3QgdGhlIGN1cnJlbnQgd2luZG93IGxvY2F0aW9uXG4gICAgICBjb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbiAgICAgIGNvbnN0IGFwcFVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gICAgICBcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aE9BdXRoKHtcbiAgICAgICAgcHJvdmlkZXI6ICdnb29nbGUnLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgcmVkaXJlY3RUbzogYCR7YXBwVXJsfS9gXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNpZ25pbmcgaW4gd2l0aCBHb29nbGU6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBTaWduIHVwIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkXG4gIGNvbnN0IHNpZ25VcFdpdGhFbWFpbCA9IGFzeW5jIChlbWFpbCwgcGFzc3dvcmQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduVXAoe1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNpZ25pbmcgdXA6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBTaWduIG91dFxuICBjb25zdCBzaWduT3V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzaWduaW5nIG91dDonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBlcnJvciB9O1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIFJlc2V0IHBhc3N3b3JkXG4gIGNvbnN0IHJlc2V0UGFzc3dvcmQgPSBhc3luYyAoZW1haWwpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5yZXNldFBhc3N3b3JkRm9yRW1haWwoZW1haWwsIHtcbiAgICAgICAgcmVkaXJlY3RUbzogYCR7d2luZG93LmxvY2F0aW9uLm9yaWdpbn0vdXBkYXRlLXBhc3N3b3JkYCxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc2V0dGluZyBwYXNzd29yZDonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIFVwZGF0ZSBwYXNzd29yZFxuICBjb25zdCB1cGRhdGVQYXNzd29yZCA9IGFzeW5jIChwYXNzd29yZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnVwZGF0ZVVzZXIoe1xuICAgICAgICBwYXNzd29yZFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcGFzc3dvcmQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBDaGVjayBpZiB1c2VyIGlzIGFkbWluXG4gIGNvbnN0IGlzQWRtaW4gPSAhIXVzZXI7ICAvLyBJbiBhIHJlYWwgYXBwIHlvdSB3b3VsZCBjaGVjayBhIHJvbGUgb3IgcGVybWlzc2lvbiBjbGFpbVxuICBcbiAgLy8gQ3JlYXRlIHRoZSBjb250ZXh0IHZhbHVlIG9iamVjdFxuICBjb25zdCB2YWx1ZSA9IHtcbiAgICB1c2VyLFxuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgc2lnbkluV2l0aEVtYWlsLFxuICAgIHNpZ25JbldpdGhHb29nbGUsXG4gICAgc2lnblVwV2l0aEVtYWlsLFxuICAgIHNpZ25PdXQsXG4gICAgcmVzZXRQYXNzd29yZCxcbiAgICB1cGRhdGVQYXNzd29yZCxcbiAgICBpc0FkbWluXG4gIH07XG4gIFxuICByZXR1cm4gKFxuICAgIDxBdXRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQXV0aENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbi8vIENyZWF0ZSBhIGhvb2sgZm9yIHVzaW5nIHRoZSBhdXRoIGNvbnRleHRcbmV4cG9ydCBmdW5jdGlvbiB1c2VBdXRoKCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn0gIl0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNvbnRleHQiLCJzdXBhYmFzZSIsIkF1dGhDb250ZXh0IiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJ1c2VyIiwic2V0VXNlciIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImdldEluaXRpYWxTZXNzaW9uIiwiZGF0YSIsImN1cnJlbnRVc2VyIiwiYXV0aCIsImdldFVzZXIiLCJjb25zb2xlIiwibWVzc2FnZSIsInN1YnNjcmlwdGlvbiIsIm9uQXV0aFN0YXRlQ2hhbmdlIiwiX2V2ZW50Iiwic2Vzc2lvbiIsInVuc3Vic2NyaWJlIiwic2lnbkluV2l0aEVtYWlsIiwiZW1haWwiLCJwYXNzd29yZCIsInNpZ25JbldpdGhQYXNzd29yZCIsInNpZ25JbldpdGhHb29nbGUiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJhcHBVcmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsInNpZ25JbldpdGhPQXV0aCIsInByb3ZpZGVyIiwib3B0aW9ucyIsInJlZGlyZWN0VG8iLCJzaWduVXBXaXRoRW1haWwiLCJzaWduVXAiLCJzaWduT3V0IiwicmVzZXRQYXNzd29yZCIsInJlc2V0UGFzc3dvcmRGb3JFbWFpbCIsInVwZGF0ZVBhc3N3b3JkIiwidXBkYXRlVXNlciIsImlzQWRtaW4iLCJ2YWx1ZSIsIlByb3ZpZGVyIiwidXNlQXV0aCIsImNvbnRleHQiLCJ1bmRlZmluZWQiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/contexts/AuthContext.js\n");

/***/ }),

/***/ "./src/contexts/ThemeContext.tsx":
/*!***************************************!*\
  !*** ./src/contexts/ThemeContext.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useTheme: () => (/* binding */ useTheme)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/**\n * ThemeContext.tsx\n * Context for managing light/dark mode across the application\n * \n * This context provides:\n * - Current theme state (light/dark)\n * - Toggle function to switch between themes\n * - Automatic detection of system preference\n * - Theme persistence with localStorage\n * \n * Usage:\n * 1. Wrap your app with ThemeProvider in _app.tsx\n * 2. Use useTheme() hook in components to access theme state and toggle function\n * 3. Apply conditional classes using the isDarkMode boolean\n */ \n\nconst ThemeContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst ThemeProvider = ({ children, defaultTheme = \"light\" })=>{\n    // Initialize theme from localStorage or defaultTheme\n    const [theme, setThemeState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        // Check for saved theme in localStorage\n        if (false) {}\n        return defaultTheme;\n    });\n    // Effect to apply theme to document\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, [\n        theme\n    ]);\n    // Listen for system preference changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, []);\n    const toggleTheme = ()=>{\n        setThemeState((prevTheme)=>prevTheme === \"light\" ? \"dark\" : \"light\");\n    };\n    const setTheme = (newTheme)=>{\n        setThemeState(newTheme);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ThemeContext.Provider, {\n        value: {\n            theme,\n            isDarkMode: theme === \"dark\",\n            toggleTheme,\n            setTheme\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/contexts/ThemeContext.tsx\",\n        lineNumber: 104,\n        columnNumber: 5\n    }, undefined);\n};\nconst useTheme = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ThemeContext);\n    if (context === undefined) {\n        throw new Error(\"useTheme must be used within a ThemeProvider\");\n    }\n    return context;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThemeContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29udGV4dHMvVGhlbWVDb250ZXh0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7O0NBY0M7QUFFd0Y7QUFXekYsTUFBTUssNkJBQWVKLG9EQUFhQSxDQUErQks7QUFPMUQsTUFBTUMsZ0JBQThDLENBQUMsRUFDMURDLFFBQVEsRUFDUkMsZUFBZSxPQUFPLEVBQ3ZCO0lBQ0MscURBQXFEO0lBQ3JELE1BQU0sQ0FBQ0MsT0FBT0MsY0FBYyxHQUFHVCwrQ0FBUUEsQ0FBUTtRQUM3Qyx3Q0FBd0M7UUFDeEMsSUFBSSxLQUFrQixFQUFhLEVBV2xDO1FBRUQsT0FBT087SUFDVDtJQUVBLG9DQUFvQztJQUNwQ04sZ0RBQVNBLENBQUM7UUFDUixJQUFJLEtBQWtCLEVBQWEsRUFZbEM7SUFDSCxHQUFHO1FBQUNPO0tBQU07SUFFVix1Q0FBdUM7SUFDdkNQLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxLQUFrRCxFQUFFLEVBZXZEO0lBQ0gsR0FBRyxFQUFFO0lBRUwsTUFBTTJCLGNBQWM7UUFDbEJuQixjQUFjb0IsQ0FBQUEsWUFBY0EsY0FBYyxVQUFVLFNBQVM7SUFDL0Q7SUFFQSxNQUFNQyxXQUFXLENBQUNDO1FBQ2hCdEIsY0FBY3NCO0lBQ2hCO0lBRUEscUJBQ0UsOERBQUM1QixhQUFhNkIsUUFBUTtRQUNwQkMsT0FBTztZQUNMekI7WUFDQTBCLFlBQVkxQixVQUFVO1lBQ3RCb0I7WUFDQUU7UUFDRjtrQkFFQ3hCOzs7Ozs7QUFHUCxFQUFFO0FBRUssTUFBTTZCLFdBQVc7SUFDdEIsTUFBTUMsVUFBVWxDLGlEQUFVQSxDQUFDQztJQUUzQixJQUFJaUMsWUFBWWhDLFdBQVc7UUFDekIsTUFBTSxJQUFJaUMsTUFBTTtJQUNsQjtJQUVBLE9BQU9EO0FBQ1QsRUFBRTtBQUVGLGlFQUFlakMsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1c3Rpbi1tdWx0aWZhbWlseS1tYXAvLi9zcmMvY29udGV4dHMvVGhlbWVDb250ZXh0LnRzeD83ZTIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlbWVDb250ZXh0LnRzeFxuICogQ29udGV4dCBmb3IgbWFuYWdpbmcgbGlnaHQvZGFyayBtb2RlIGFjcm9zcyB0aGUgYXBwbGljYXRpb25cbiAqIFxuICogVGhpcyBjb250ZXh0IHByb3ZpZGVzOlxuICogLSBDdXJyZW50IHRoZW1lIHN0YXRlIChsaWdodC9kYXJrKVxuICogLSBUb2dnbGUgZnVuY3Rpb24gdG8gc3dpdGNoIGJldHdlZW4gdGhlbWVzXG4gKiAtIEF1dG9tYXRpYyBkZXRlY3Rpb24gb2Ygc3lzdGVtIHByZWZlcmVuY2VcbiAqIC0gVGhlbWUgcGVyc2lzdGVuY2Ugd2l0aCBsb2NhbFN0b3JhZ2VcbiAqIFxuICogVXNhZ2U6XG4gKiAxLiBXcmFwIHlvdXIgYXBwIHdpdGggVGhlbWVQcm92aWRlciBpbiBfYXBwLnRzeFxuICogMi4gVXNlIHVzZVRoZW1lKCkgaG9vayBpbiBjb21wb25lbnRzIHRvIGFjY2VzcyB0aGVtZSBzdGF0ZSBhbmQgdG9nZ2xlIGZ1bmN0aW9uXG4gKiAzLiBBcHBseSBjb25kaXRpb25hbCBjbGFzc2VzIHVzaW5nIHRoZSBpc0RhcmtNb2RlIGJvb2xlYW5cbiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuXG50eXBlIFRoZW1lID0gJ2xpZ2h0JyB8ICdkYXJrJztcblxuaW50ZXJmYWNlIFRoZW1lQ29udGV4dFR5cGUge1xuICB0aGVtZTogVGhlbWU7XG4gIGlzRGFya01vZGU6IGJvb2xlYW47XG4gIHRvZ2dsZVRoZW1lOiAoKSA9PiB2b2lkO1xuICBzZXRUaGVtZTogKHRoZW1lOiBUaGVtZSkgPT4gdm9pZDtcbn1cblxuY29uc3QgVGhlbWVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxUaGVtZUNvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG5pbnRlcmZhY2UgVGhlbWVQcm92aWRlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbiAgZGVmYXVsdFRoZW1lPzogVGhlbWU7XG59XG5cbmV4cG9ydCBjb25zdCBUaGVtZVByb3ZpZGVyOiBSZWFjdC5GQzxUaGVtZVByb3ZpZGVyUHJvcHM+ID0gKHsgXG4gIGNoaWxkcmVuLCBcbiAgZGVmYXVsdFRoZW1lID0gJ2xpZ2h0JyBcbn0pID0+IHtcbiAgLy8gSW5pdGlhbGl6ZSB0aGVtZSBmcm9tIGxvY2FsU3RvcmFnZSBvciBkZWZhdWx0VGhlbWVcbiAgY29uc3QgW3RoZW1lLCBzZXRUaGVtZVN0YXRlXSA9IHVzZVN0YXRlPFRoZW1lPigoKSA9PiB7XG4gICAgLy8gQ2hlY2sgZm9yIHNhdmVkIHRoZW1lIGluIGxvY2FsU3RvcmFnZVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qgc2F2ZWRUaGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpIGFzIFRoZW1lO1xuICAgICAgXG4gICAgICBpZiAoc2F2ZWRUaGVtZSkge1xuICAgICAgICByZXR1cm4gc2F2ZWRUaGVtZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIHN5c3RlbSBwcmVmZXJlbmNlXG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiAnZGFyayc7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBkZWZhdWx0VGhlbWU7XG4gIH0pO1xuXG4gIC8vIEVmZmVjdCB0byBhcHBseSB0aGVtZSB0byBkb2N1bWVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gU2F2ZSB0aGVtZSB0byBsb2NhbFN0b3JhZ2VcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsIHRoZW1lKTtcbiAgICAgIFxuICAgICAgLy8gQXBwbHkgdGhlbWUgdG8gZG9jdW1lbnQgYnkgdG9nZ2xpbmcgZGFyayBjbGFzcyBvbiBodG1sIGVsZW1lbnRcbiAgICAgIGNvbnN0IGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICBcbiAgICAgIGlmICh0aGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgIGh0bWwuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaHRtbC5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbdGhlbWVdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHN5c3RlbSBwcmVmZXJlbmNlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm1hdGNoTWVkaWEpIHtcbiAgICAgIGNvbnN0IG1lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpO1xuICAgICAgXG4gICAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoZTogTWVkaWFRdWVyeUxpc3RFdmVudCkgPT4ge1xuICAgICAgICAvLyBPbmx5IGF1dG8tc3dpdGNoIGlmIHVzZXIgaGFzbid0IGV4cGxpY2l0bHkgY2hvc2VuIGEgdGhlbWVcbiAgICAgICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKSkge1xuICAgICAgICAgIHNldFRoZW1lU3RhdGUoZS5tYXRjaGVzID8gJ2RhcmsnIDogJ2xpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIG1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgaGFuZGxlQ2hhbmdlKTtcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgbWVkaWFRdWVyeS5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYW5kbGVDaGFuZ2UpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCB0b2dnbGVUaGVtZSA9ICgpID0+IHtcbiAgICBzZXRUaGVtZVN0YXRlKHByZXZUaGVtZSA9PiAocHJldlRoZW1lID09PSAnbGlnaHQnID8gJ2RhcmsnIDogJ2xpZ2h0JykpO1xuICB9O1xuXG4gIGNvbnN0IHNldFRoZW1lID0gKG5ld1RoZW1lOiBUaGVtZSkgPT4ge1xuICAgIHNldFRoZW1lU3RhdGUobmV3VGhlbWUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFRoZW1lQ29udGV4dC5Qcm92aWRlciBcbiAgICAgIHZhbHVlPXt7IFxuICAgICAgICB0aGVtZSwgXG4gICAgICAgIGlzRGFya01vZGU6IHRoZW1lID09PSAnZGFyaycsXG4gICAgICAgIHRvZ2dsZVRoZW1lLCBcbiAgICAgICAgc2V0VGhlbWUgXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1RoZW1lQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VUaGVtZSA9ICgpOiBUaGVtZUNvbnRleHRUeXBlID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcbiAgXG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZVRoZW1lIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBUaGVtZVByb3ZpZGVyJyk7XG4gIH1cbiAgXG4gIHJldHVybiBjb250ZXh0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVGhlbWVDb250ZXh0OyJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNvbnRleHQiLCJUaGVtZUNvbnRleHQiLCJ1bmRlZmluZWQiLCJUaGVtZVByb3ZpZGVyIiwiY2hpbGRyZW4iLCJkZWZhdWx0VGhlbWUiLCJ0aGVtZSIsInNldFRoZW1lU3RhdGUiLCJzYXZlZFRoZW1lIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwic2V0SXRlbSIsImh0bWwiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm1lZGlhUXVlcnkiLCJoYW5kbGVDaGFuZ2UiLCJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVUaGVtZSIsInByZXZUaGVtZSIsInNldFRoZW1lIiwibmV3VGhlbWUiLCJQcm92aWRlciIsInZhbHVlIiwiaXNEYXJrTW9kZSIsInVzZVRoZW1lIiwiY29udGV4dCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/contexts/ThemeContext.tsx\n");

/***/ }),

/***/ "./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/_app.js"));
module.exports = __webpack_exports__;

})();
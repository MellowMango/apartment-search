"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "src_components_MapComponent_tsx";
exports.ids = ["src_components_MapComponent_tsx"];
exports.modules = {

/***/ "./src/components/MapComponent.tsx":
/*!*****************************************!*\
  !*** ./src/components/MapComponent.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-leaflet */ \"react-leaflet\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! leaflet */ \"leaflet\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! leaflet/dist/leaflet.css */ \"./node_modules/leaflet/dist/leaflet.css\");\n/* harmony import */ var leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_geocoding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../lib/geocoding */ \"./lib/geocoding.js\");\n/* harmony import */ var _map_CustomMarkerCluster__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./map/CustomMarkerCluster */ \"./src/components/map/CustomMarkerCluster.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_leaflet__WEBPACK_IMPORTED_MODULE_2__]);\nreact_leaflet__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n// MarkerCluster CSS is loaded in _app.js/tsx instead of here to avoid Next.js CSS import restrictions\n// Original import: import 'react-leaflet-cluster/lib/assets/MarkerCluster.Default.css';\n// Map Legend component to show what the different marker colors mean\nconst MapLegend = ()=>{\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"absolute bottom-4 left-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-3 py-2 font-semibold text-sm flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700\",\n                onClick: ()=>setExpanded(!expanded),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                className: \"h-5 w-5 mr-2 text-gray-600\",\n                                fill: \"none\",\n                                viewBox: \"0 0 24 24\",\n                                stroke: \"currentColor\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeWidth: 2,\n                                    d: \"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 23,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 22,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Legend & Filters\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 25,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 21,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        className: `h-5 w-5 transform transition-transform ${expanded ? \"rotate-180\" : \"\"}`,\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        stroke: \"currentColor\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            strokeWidth: 2,\n                            d: \"M19 9l-7 7-7-7\"\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 28,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 17,\n                columnNumber: 7\n            }, undefined),\n            expanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-3 py-2 border-t border-gray-200 dark:border-gray-700\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Price Range\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 37,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-primary hover:text-primary/80 text-xs\",\n                                        children: \"Reset\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 38,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 36,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    {\n                                        color: \"purple-500\",\n                                        label: \"Premium ($20M+)\",\n                                        value: \"premium\"\n                                    },\n                                    {\n                                        color: \"blue-800\",\n                                        label: \"High ($10M-$20M)\",\n                                        value: \"high\"\n                                    },\n                                    {\n                                        color: \"blue-500\",\n                                        label: \"Mid-High ($5M-$10M)\",\n                                        value: \"mid-high\"\n                                    },\n                                    {\n                                        color: \"green-500\",\n                                        label: \"Medium ($1M-$5M)\",\n                                        value: \"medium\"\n                                    },\n                                    {\n                                        color: \"yellow-500\",\n                                        label: \"Affordable (Under $1M)\",\n                                        value: \"affordable\"\n                                    }\n                                ].map((range)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center text-xs cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                className: \"form-checkbox h-3 w-3 text-primary rounded border-gray-300\",\n                                                value: range.value\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 49,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `w-3 h-3 rounded-full bg-${range.color} mx-2`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 54,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: range.label\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 55,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, range.value, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 48,\n                                        columnNumber: 17\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Status\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 64,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-primary hover:text-primary/80 text-xs\",\n                                        children: \"Reset\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 65,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 63,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    {\n                                        color: \"green-500\",\n                                        label: \"Available\",\n                                        value: \"available\"\n                                    },\n                                    {\n                                        color: \"yellow-500\",\n                                        label: \"Under Contract\",\n                                        value: \"under_contract\"\n                                    },\n                                    {\n                                        color: \"red-500\",\n                                        label: \"Sold\",\n                                        value: \"sold\"\n                                    }\n                                ].map((status)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center text-xs cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                className: \"form-checkbox h-3 w-3 text-primary rounded border-gray-300\",\n                                                value: status.value\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 74,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `w-3 h-3 rounded-full bg-${status.color} mx-2`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 79,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: status.label\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 80,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, status.value, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 73,\n                                        columnNumber: 17\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 67,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 62,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2\",\n                                children: \"Additional Filters\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 88,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center text-xs cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                className: \"form-checkbox h-3 w-3 text-primary rounded border-gray-300\",\n                                                value: \"has_price\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 93,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-2\",\n                                                children: \"Has Price Listed\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 98,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 92,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center text-xs cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                className: \"form-checkbox h-3 w-3 text-primary rounded border-gray-300\",\n                                                value: \"has_units\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 101,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-2\",\n                                                children: \"Has Unit Count\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 106,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 100,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 91,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 87,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 33,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n        lineNumber: 16,\n        columnNumber: 5\n    }, undefined);\n};\n// Component to handle map initialization effects\nconst MapInitializer = ()=>{\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Fix Leaflet marker icon issue in Next.js\n        try {\n            // @ts-ignore\n            delete (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon).Default.prototype._getIconUrl;\n            leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon.Default.mergeOptions({\n                iconUrl: \"/icons/marker-blue.png\",\n                iconRetinaUrl: \"/icons/marker-blue.png\",\n                shadowUrl: \"/icons/marker-shadow.png\"\n            });\n        } catch (e) {\n            console.error(\"Error fixing Leaflet icon issue:\", e);\n        }\n    }, []);\n    return null;\n};\n// Custom marker icons for different property statuses\nconst createStatusIcon = (color)=>new (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon)({\n        iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,\n        shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png\",\n        iconSize: [\n            25,\n            41\n        ],\n        iconAnchor: [\n            12,\n            41\n        ],\n        popupAnchor: [\n            1,\n            -34\n        ],\n        shadowSize: [\n            41,\n            41\n        ]\n    });\n// Status icon mapping\nconst statusIcons = {\n    \"available\": createStatusIcon(\"green\"),\n    \"pending\": createStatusIcon(\"yellow\"),\n    \"under_contract\": createStatusIcon(\"orange\"),\n    \"sold\": createStatusIcon(\"red\"),\n    \"Actively Marketed\": createStatusIcon(\"green\"),\n    \"Under Contract\": createStatusIcon(\"orange\"),\n    \"Sold\": createStatusIcon(\"red\"),\n    \"default\": new (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon).Default()\n};\n// Component to recenter map when selectedProperty changes\nconst MapRecenter = ({ selectedProperty })=>{\n    const map = (0,react_leaflet__WEBPACK_IMPORTED_MODULE_2__.useMap)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedProperty && selectedProperty.latitude && selectedProperty.longitude) {\n            // Check if coordinates are valid (either from research or regular valid coordinates)\n            const hasCoordinates = typeof selectedProperty.latitude === \"number\" && typeof selectedProperty.longitude === \"number\";\n            const isNotZero = !(selectedProperty.latitude === 0 && selectedProperty.longitude === 0);\n            const fromResearch = selectedProperty._coordinates_from_research === true;\n            const isValid = fromResearch || hasCoordinates && isNotZero && !selectedProperty._coordinates_missing && !selectedProperty._is_grid_pattern;\n            if (isValid) {\n                map.setView([\n                    selectedProperty.latitude,\n                    selectedProperty.longitude\n                ], 15, {\n                    animate: true\n                });\n            }\n        }\n    }, [\n        selectedProperty,\n        map\n    ]);\n    return null;\n};\n// Component to track map bounds for filtering\nconst MapBoundsUpdater = ({ onBoundsChange })=>{\n    const map = (0,react_leaflet__WEBPACK_IMPORTED_MODULE_2__.useMap)();\n    const [lastBounds, setLastBounds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Check if bounds have changed significantly to avoid too many reloads\n    const hasBoundsChangedSignificantly = (newBounds, oldBounds)=>{\n        if (!oldBounds) return true;\n        // Calculate area change ratio\n        const oldArea = (oldBounds.north - oldBounds.south) * (oldBounds.east - oldBounds.west);\n        const newArea = (newBounds.north - newBounds.south) * (newBounds.east - newBounds.west);\n        // Calculate center shift distance\n        const oldCenterLat = (oldBounds.north + oldBounds.south) / 2;\n        const oldCenterLng = (oldBounds.east + oldBounds.west) / 2;\n        const newCenterLat = (newBounds.north + newBounds.south) / 2;\n        const newCenterLng = (newBounds.east + newBounds.west) / 2;\n        const centerShift = Math.sqrt(Math.pow(newCenterLat - oldCenterLat, 2) + Math.pow(newCenterLng - oldCenterLng, 2));\n        // Determine if bounds have changed enough to trigger a reload\n        // Either the area has changed by 50% or more, or the center has shifted significantly\n        const areaRatio = Math.max(newArea / oldArea, oldArea / newArea);\n        return areaRatio > 1.5 || centerShift > 0.1;\n    };\n    const updateBoundsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const bounds = map.getBounds();\n        const newBounds = {\n            north: bounds.getNorth(),\n            south: bounds.getSouth(),\n            east: bounds.getEast(),\n            west: bounds.getWest()\n        };\n        // Check if bounds have changed significantly\n        if (hasBoundsChangedSignificantly(newBounds, lastBounds)) {\n            console.log(\"Map bounds changed significantly, triggering update\");\n            setLastBounds(newBounds);\n            onBoundsChange(newBounds);\n        }\n    }, [\n        map,\n        onBoundsChange,\n        lastBounds\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only run the initial update after a slight delay to ensure the map is fully loaded\n        const initialTimeout = setTimeout(()=>{\n            updateBoundsRef();\n        }, 500);\n        // Add event listeners\n        map.on(\"moveend\", updateBoundsRef);\n        map.on(\"zoomend\", updateBoundsRef);\n        // Cleanup listeners and timeout\n        return ()=>{\n            clearTimeout(initialTimeout);\n            map.off(\"moveend\", updateBoundsRef);\n            map.off(\"zoomend\", updateBoundsRef);\n        };\n    }, [\n        map,\n        updateBoundsRef\n    ]);\n    return null;\n};\n// Add a simple filter component for the map\nconst MapFilter = ({ onFilterChange })=>{\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        showPremium: true,\n        showAvailable: true,\n        showUnderContract: true,\n        showSold: true\n    });\n    const handleFilterChange = (key, value)=>{\n        const newFilters = {\n            ...filters,\n            [key]: value\n        };\n        setFilters(newFilters);\n        onFilterChange(newFilters);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"absolute top-20 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-3 py-2 font-semibold text-sm flex items-center justify-between cursor-pointer\",\n                onClick: ()=>setExpanded(!expanded),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                className: \"h-5 w-5 mr-2 text-gray-600\",\n                                fill: \"none\",\n                                viewBox: \"0 0 24 24\",\n                                stroke: \"currentColor\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeWidth: 2,\n                                    d: \"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 294,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 293,\n                                columnNumber: 11\n                            }, undefined),\n                            \"Quick Filter\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 292,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        className: `h-5 w-5 transform transition-transform ${expanded ? \"rotate-180\" : \"\"}`,\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        stroke: \"currentColor\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            strokeWidth: 2,\n                            d: \"M19 9l-7 7-7-7\"\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 299,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 298,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 288,\n                columnNumber: 7\n            }, undefined),\n            expanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-3 py-2 border-t border-gray-200 dark:border-gray-700\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 gap-1\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex items-center text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    className: \"form-checkbox h-4 w-4 mr-2 text-blue-600\",\n                                    checked: filters.showPremium,\n                                    onChange: (e)=>handleFilterChange(\"showPremium\", e.target.checked)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 307,\n                                    columnNumber: 15\n                                }, undefined),\n                                \"Premium Properties\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 306,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex items-center text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    className: \"form-checkbox h-4 w-4 mr-2 text-green-600\",\n                                    checked: filters.showAvailable,\n                                    onChange: (e)=>handleFilterChange(\"showAvailable\", e.target.checked)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 316,\n                                    columnNumber: 15\n                                }, undefined),\n                                \"Available Properties\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 315,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex items-center text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    className: \"form-checkbox h-4 w-4 mr-2 text-yellow-600\",\n                                    checked: filters.showUnderContract,\n                                    onChange: (e)=>handleFilterChange(\"showUnderContract\", e.target.checked)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 325,\n                                    columnNumber: 15\n                                }, undefined),\n                                \"Under Contract\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 324,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex items-center text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    className: \"form-checkbox h-4 w-4 mr-2 text-red-600\",\n                                    checked: filters.showSold,\n                                    onChange: (e)=>handleFilterChange(\"showSold\", e.target.checked)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 334,\n                                    columnNumber: 15\n                                }, undefined),\n                                \"Sold Properties\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 333,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                    lineNumber: 305,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 304,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n        lineNumber: 287,\n        columnNumber: 5\n    }, undefined);\n};\n// Add a search component\nconst MapSearch = ({ properties, onPropertySelect })=>{\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showResults, setShowResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const searchRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Close search results when clicking outside\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function handleClickOutside(event) {\n            if (searchRef.current && !searchRef.current.contains(event.target)) {\n                setShowResults(false);\n            }\n        }\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, []);\n    const handleSearchChange = (e)=>{\n        setSearchTerm(e.target.value);\n        setShowResults(true);\n    };\n    const filteredProperties = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!searchTerm) return [];\n        const searchLower = searchTerm.toLowerCase();\n        return properties.filter((property)=>{\n            const matchName = property.name?.toLowerCase().includes(searchLower);\n            const matchAddress = property.address?.toLowerCase().includes(searchLower);\n            const matchBroker = property.broker?.toLowerCase().includes(searchLower);\n            return matchName || matchAddress || matchBroker;\n        }).slice(0, 5); // Limit to 5 results for better performance\n    }, [\n        properties,\n        searchTerm\n    ]);\n    const handleSelect = (property)=>{\n        onPropertySelect(property);\n        setSearchTerm(\"\");\n        setShowResults(false);\n    };\n    const formatPrice = (price)=>{\n        if (!price) return \"Price on request\";\n        return price >= 1000000 ? `$${(price / 1000000).toFixed(1)}M` : `$${(price / 1000).toFixed(0)}K`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: searchRef,\n        className: \"absolute top-4 left-4 z-10 w-80\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        value: searchTerm,\n                        onChange: handleSearchChange,\n                        placeholder: \"Search properties by name, address, or broker...\",\n                        className: \"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm focus:ring-2 focus:ring-primary focus:border-transparent\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 405,\n                        columnNumber: 9\n                    }, undefined),\n                    searchTerm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            setSearchTerm(\"\");\n                            setShowResults(false);\n                        },\n                        className: \"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            className: \"h-5 w-5\",\n                            viewBox: \"0 0 20 20\",\n                            fill: \"currentColor\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                fillRule: \"evenodd\",\n                                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                                clipRule: \"evenodd\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 421,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 420,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 413,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 404,\n                columnNumber: 7\n            }, undefined),\n            showResults && filteredProperties.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg overflow-hidden\",\n                children: filteredProperties.map((property)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>handleSelect(property),\n                        className: \"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b last:border-b-0 border-gray-200 dark:border-gray-700 flex items-start gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-shrink-0 w-12 h-12 bg-gray-100 dark:bg-gray-600 rounded overflow-hidden\",\n                                children: property.image_url ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: property.image_url,\n                                    alt: property.name,\n                                    className: \"w-full h-full object-cover\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 437,\n                                    columnNumber: 19\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-full h-full flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"h-6 w-6 text-gray-400\",\n                                        fill: \"none\",\n                                        viewBox: \"0 0 24 24\",\n                                        stroke: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                            lineNumber: 445,\n                                            columnNumber: 23\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 444,\n                                        columnNumber: 21\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 443,\n                                    columnNumber: 19\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 435,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 min-w-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-medium text-sm truncate\",\n                                        children: property.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 451,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-gray-500 dark:text-gray-400 truncate\",\n                                        children: property.address\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 452,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-1 flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs font-medium\",\n                                                children: formatPrice(property.price)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 454,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            property.units && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                children: [\n                                                    property.units,\n                                                    \" units\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 456,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 453,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 450,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, property.id, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 430,\n                        columnNumber: 13\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 428,\n                columnNumber: 9\n            }, undefined),\n            showResults && searchTerm && filteredProperties.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center\",\n                    children: [\n                        'No properties found matching \"',\n                        searchTerm,\n                        '\"'\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                    lineNumber: 467,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 466,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n        lineNumber: 403,\n        columnNumber: 5\n    }, undefined);\n};\nconst MapComponent = ({ properties, selectedProperty, setSelectedProperty, onBoundsChange, mapboxToken })=>{\n    // State for geocoded properties\n    const [processedProperties, setProcessedProperties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(properties || []);\n    const [geocodingStatus, setGeocodingStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isGeocoding: false,\n        count: 0,\n        total: 0\n    });\n    // Filter state\n    const [mapFilters, setMapFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        showPremium: true,\n        showAvailable: true,\n        showUnderContract: true,\n        showSold: true\n    });\n    // Get Mapbox token from environment, with fallback to ensure map loads\n    const mapboxTokenEnv = \"pk.eyJ1IjoiYWNxdWlyZWFwYXJ0bWVudHMiLCJhIjoiY204NTRvMjZ5MGx1dDJrb2t0MXo5c2QxNSJ9.-B71BMKr2rwUBCvvqDRbmg\" || 0;\n    const [mapLoaded, setMapLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mapError, setMapError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Properly verify token format to avoid map loading issues\n    const isValidMapboxToken = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return mapboxTokenEnv && mapboxTokenEnv.startsWith(\"pk.\") && mapboxTokenEnv.length > 20;\n    }, [\n        mapboxTokenEnv\n    ]);\n    // For Austin, TX\n    const defaultCenter = [\n        30.2672,\n        -97.7431\n    ];\n    const defaultZoom = 12;\n    // Debug variables\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!properties || !Array.isArray(properties)) {\n            console.log(\"No properties available\");\n            return;\n        }\n        console.log(`===== MAP COMPONENT DEBUG =====`);\n        console.log(`Received ${properties.length} properties from parent`);\n        // Analyze properties before filtering\n        const withLat = properties.filter((p)=>p.latitude).length;\n        const withLng = properties.filter((p)=>p.longitude).length;\n        const withBoth = properties.filter((p)=>p.latitude && p.longitude).length;\n        const validNumbers = properties.filter((p)=>typeof p.latitude === \"number\" && typeof p.longitude === \"number\").length;\n        const nonZero = properties.filter((p)=>p.latitude !== 0 && p.longitude !== 0).length;\n        console.log(`Properties with lat: ${withLat}, with lng: ${withLng}, with both: ${withBoth}`);\n        console.log(`Properties with numeric coordinates: ${validNumbers}`);\n        console.log(`Properties with non-zero coordinates: ${nonZero}`);\n        // Check validity using our internal function\n        const passesValidation = properties.filter((p)=>hasValidCoordinates(p)).length;\n        console.log(`Properties that pass hasValidCoordinates(): ${passesValidation}`);\n        // Check final filtered result\n        setTimeout(()=>{\n            console.log(`RESULT: Displaying ${propertiesWithCoordinates.length} properties on map`);\n            console.log(`===== END MAP COMPONENT DEBUG =====`);\n        }, 100); // Small delay to ensure propertiesWithCoordinates has been calculated\n    }, [\n        properties\n    ]);\n    // Fix for properties geocoding with Promise.then\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (geocodingStatus.isGeocoding && properties) {\n            // Find properties needing geocoding (filter out those with valid coordinates)\n            const batchToGeocode = properties.filter((property)=>{\n                return (!property.latitude || !property.longitude || property.latitude === 0 || property.longitude === 0 || property._is_grid_pattern || property._needs_geocoding) && !property._geocoding_failed;\n            });\n            console.log(`MapComponent: Geocoding batch of ${batchToGeocode.length} properties`);\n            // Use enhanced geocoding with multiple methods (fixed Promise handling)\n            if (batchToGeocode.length > 0) {\n                try {\n                    // Call the geocoding function, but don't rely on its direct return type\n                    const geocodeResult = (0,_lib_geocoding__WEBPACK_IMPORTED_MODULE_5__.enhancedGeocodeProperties)(batchToGeocode);\n                    // Use a safer approach - create a Promise that will handle the result appropriately\n                    Promise.resolve(geocodeResult).then((geocodedProperties)=>{\n                        // Safety check that we got an array of properties back\n                        if (!Array.isArray(geocodedProperties)) {\n                            throw new Error(\"Geocoding did not return an array of properties\");\n                        }\n                        // Count how many were successfully geocoded\n                        const newlyGeocodedCount = geocodedProperties.filter((p)=>p._geocoded).length;\n                        console.log(`MapComponent: Successfully geocoded ${newlyGeocodedCount} properties`);\n                        // Merge geocoded properties with existing properties\n                        const updatedProperties = [\n                            ...properties\n                        ];\n                        geocodedProperties.forEach((geocodedProperty)=>{\n                            const index = updatedProperties.findIndex((p)=>p.id === geocodedProperty.id);\n                            if (index !== -1) {\n                                updatedProperties[index] = geocodedProperty;\n                            }\n                        });\n                        setProcessedProperties(updatedProperties);\n                        setGeocodingStatus({\n                            isGeocoding: false,\n                            count: newlyGeocodedCount,\n                            total: batchToGeocode.length\n                        });\n                    }).catch((error)=>{\n                        console.error(\"Error geocoding properties:\", error);\n                        setGeocodingStatus({\n                            isGeocoding: false,\n                            count: 0,\n                            total: batchToGeocode.length\n                        });\n                    });\n                } catch (error) {\n                    console.error(\"Error initiating geocoding:\", error);\n                    setGeocodingStatus({\n                        isGeocoding: false,\n                        count: 0,\n                        total: batchToGeocode.length\n                    });\n                }\n            } else {\n                // No properties to geocode\n                setGeocodingStatus({\n                    isGeocoding: false,\n                    count: 0,\n                    total: 0\n                });\n            }\n        }\n    }, [\n        properties,\n        geocodingStatus.isGeocoding\n    ]);\n    // Setup default marker icons\n    (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Marker).prototype.options.icon = leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n        iconUrl: \"/icons/marker-blue.png\",\n        iconSize: [\n            25,\n            41\n        ],\n        iconAnchor: [\n            12,\n            41\n        ],\n        popupAnchor: [\n            1,\n            -34\n        ],\n        shadowSize: [\n            41,\n            41\n        ]\n    });\n    // Add helper function to get the right marker icon based on property status and price\n    const getMarkerIcon = (property)=>{\n        // If the property has verified coordinates, use a verified icon\n        if (property.verified_address) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-verified.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // If the property has coordinate issues, use a warning icon\n        if (property._is_grid_pattern || property._is_invalid_range || property._outside_austin || property._coordinates_from_research) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-warning.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // For test properties\n        if (property._is_test_property) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-test.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // For geocoded properties\n        if (property._geocoded) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-geocoded.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // Color code by price range if price is available\n        if (property.price) {\n            const price = property.price;\n            // Premium properties (>$20M)\n            if (price >= 20000000) {\n                return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                    iconUrl: \"/icons/marker-purple.png\",\n                    iconSize: [\n                        25,\n                        41\n                    ],\n                    iconAnchor: [\n                        12,\n                        41\n                    ],\n                    popupAnchor: [\n                        1,\n                        -34\n                    ],\n                    shadowSize: [\n                        41,\n                        41\n                    ]\n                });\n            }\n            // High-value properties ($10M-$20M)\n            if (price >= 10000000) {\n                return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                    iconUrl: \"/icons/marker-dark-blue.png\",\n                    iconSize: [\n                        25,\n                        41\n                    ],\n                    iconAnchor: [\n                        12,\n                        41\n                    ],\n                    popupAnchor: [\n                        1,\n                        -34\n                    ],\n                    shadowSize: [\n                        41,\n                        41\n                    ]\n                });\n            }\n            // Mid-high properties ($5M-$10M)\n            if (price >= 5000000) {\n                return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                    iconUrl: \"/icons/marker-blue.png\",\n                    iconSize: [\n                        25,\n                        41\n                    ],\n                    iconAnchor: [\n                        12,\n                        41\n                    ],\n                    popupAnchor: [\n                        1,\n                        -34\n                    ],\n                    shadowSize: [\n                        41,\n                        41\n                    ]\n                });\n            }\n            // Medium properties ($1M-$5M)\n            if (price >= 1000000) {\n                return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                    iconUrl: \"/icons/marker-green.png\",\n                    iconSize: [\n                        25,\n                        41\n                    ],\n                    iconAnchor: [\n                        12,\n                        41\n                    ],\n                    popupAnchor: [\n                        1,\n                        -34\n                    ],\n                    shadowSize: [\n                        41,\n                        41\n                    ]\n                });\n            }\n            // Affordable properties (<$1M)\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-yellow.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // Default marker icons based on status if no price\n        const status = property.status?.toLowerCase() || \"\";\n        if (status === \"active\" || status === \"listed\" || status === \"available\" || status === \"actively marketed\") {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-green.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        } else if (status.includes(\"contract\") || status.includes(\"pending\")) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-yellow.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        } else if (status.includes(\"sold\")) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-red.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // Default fallback\n        return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n            iconUrl: \"/icons/marker-blue.png\",\n            iconSize: [\n                25,\n                41\n            ],\n            iconAnchor: [\n                12,\n                41\n            ],\n            popupAnchor: [\n                1,\n                -34\n            ],\n            shadowSize: [\n                41,\n                41\n            ]\n        });\n    };\n    // Format price as $X.XM\n    const formatPrice = (price)=>{\n        if (!price) return \"Price not available\";\n        if (price >= 1000000) {\n            return `$${(price / 1000000).toFixed(1)}M`;\n        }\n        return `$${(price / 1000).toFixed(0)}K`;\n    };\n    // Format price per unit\n    const formatPricePerUnit = (price, units)=>{\n        if (!price || !units || units === 0) return \"N/A\";\n        return `$${Math.round(price / units).toLocaleString()}/unit`;\n    };\n    // Add code to check coordinates and filter out invalid ones\n    const validProperties = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!properties || !Array.isArray(properties)) {\n            return [];\n        }\n        // MODIFIED: Use much less strict filtering to show more properties\n        return properties.filter((property)=>{\n            // We need latitude and longitude to be defined\n            if (!property || property.latitude === undefined || property.longitude === undefined) {\n                return false;\n            }\n            // Convert string coordinates to numbers if needed\n            const lat = typeof property.latitude === \"number\" ? property.latitude : parseFloat(String(property.latitude));\n            const lng = typeof property.longitude === \"number\" ? property.longitude : parseFloat(String(property.longitude));\n            // Check if coordinates are valid numbers\n            if (isNaN(lat) || isNaN(lng)) {\n                return false;\n            }\n            // Only exclude coordinates that are exactly zero (as these are likely placeholder data)\n            // This allows for coordinates near zero but not exactly zero\n            if (lat === 0 && lng === 0) {\n                return false;\n            }\n            // Check if coordinates are within reasonable global ranges\n            if (lat < -90 || lat > 90 || lng < -180 || lng > 180) {\n                return false;\n            }\n            // Include all valid properties regardless of whether they're in Austin\n            // Include properties even if they have grid patterns or are from research\n            return true;\n        });\n    }, [\n        properties\n    ]);\n    // Check if property has valid coordinates - MODIFIED to be much less strict\n    const hasValidCoordinates = (property)=>{\n        if (!property) return false;\n        // Basic existence checks\n        if (property.latitude === undefined || property.longitude === undefined) return false;\n        // Convert to numbers if needed\n        const lat = typeof property.latitude === \"number\" ? property.latitude : parseFloat(String(property.latitude));\n        const lng = typeof property.longitude === \"number\" ? property.longitude : parseFloat(String(property.longitude));\n        // Check for NaN\n        if (isNaN(lat) || isNaN(lng)) return false;\n        // Check for zero values (often default)\n        if (lat === 0 && lng === 0) return false;\n        // Check for reasonable coordinate ranges\n        if (lat < -90 || lat > 90 || lng < -180 || lng > 180) return false;\n        // Don't filter out properties based on location or data source\n        // Include properties with _is_grid_pattern and _coordinates_from_research\n        return true;\n    };\n    // Get properties with valid coordinates - MODIFIED to directly use validProperties\n    const propertiesWithCoordinates = validProperties;\n    // Add filter logic for properties\n    const filteredProperties = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        // Log the number of valid properties\n        console.log(`Valid properties before filtering: ${validProperties.length} of ${properties?.length || 0}`);\n        // Count properties by some key attributes\n        const propertiesWithResearchCoords = validProperties.filter((p)=>p._coordinates_from_research).length;\n        const propertiesWithGridPattern = validProperties.filter((p)=>p._is_grid_pattern).length;\n        console.log(`Properties with research coordinates: ${propertiesWithResearchCoords}`);\n        console.log(`Properties with grid pattern: ${propertiesWithGridPattern}`);\n        // Apply less strict filtering to show more properties on the map\n        return validProperties.filter((property)=>{\n            // Filter by price for premium properties (over $10M)\n            if (property.price && property.price >= 10000000) {\n                if (!mapFilters.showPremium) return false;\n            }\n            // Filter by status\n            const status = (property.status || \"\").toLowerCase();\n            if (status.includes(\"contract\") || status.includes(\"pending\")) {\n                return mapFilters.showUnderContract;\n            } else if (status.includes(\"sold\")) {\n                return mapFilters.showSold;\n            } else {\n                // Available, listed, etc.\n                return mapFilters.showAvailable;\n            }\n        });\n    }, [\n        validProperties,\n        mapFilters,\n        properties?.length\n    ]);\n    // New function to check if there are multiple properties at the same location\n    const findPropertiesAtSameLocation = (targetProperty)=>{\n        if (!targetProperty || !targetProperty.latitude || !targetProperty.longitude) {\n            return [];\n        }\n        const lat = targetProperty.latitude;\n        const lng = targetProperty.longitude;\n        // Find properties that have the exact same coordinates (using exact match)\n        // This is important for properties that have exactly the same coordinates\n        return filteredProperties.filter((p)=>p.id !== targetProperty.id && p.latitude === lat && p.longitude === lng);\n    };\n    // Debug the number of properties at the same locations - useful for understanding clustering issues\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (filteredProperties.length === 0) return;\n        // Count how many properties are at the same coordinates as others\n        let sameLocationCount = 0;\n        const checkedIds = new Set();\n        filteredProperties.forEach((property)=>{\n            if (checkedIds.has(property.id)) return;\n            const sameLocationProps = findPropertiesAtSameLocation(property);\n            if (sameLocationProps.length > 0) {\n                sameLocationCount += sameLocationProps.length + 1; // Include the current property\n                // Mark all these properties as checked\n                checkedIds.add(property.id);\n                sameLocationProps.forEach((p)=>checkedIds.add(p.id));\n                // Log the first few instances of exact-coordinate properties for debugging\n                if (checkedIds.size < 20) {\n                    console.log(`Found ${sameLocationProps.length + 1} properties at the same location: ${property.latitude}, ${property.longitude}`);\n                    console.log(`  First property: ${property.name || property.id}`);\n                    sameLocationProps.slice(0, 3).forEach((p)=>{\n                        console.log(`  Other property: ${p.name || p.id}`);\n                    });\n                    if (sameLocationProps.length > 3) {\n                        console.log(`  ...and ${sameLocationProps.length - 3} more`);\n                    }\n                }\n            }\n        });\n        console.log(`Total properties at the same locations: ${sameLocationCount} (${Math.round(sameLocationCount / filteredProperties.length * 100)}% of all displayed properties)`);\n    }, [\n        filteredProperties\n    ]);\n    // Handle map load success\n    const handleMapLoad = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setMapLoaded(true);\n        setMapError(null);\n    }, []);\n    // Handle map load error\n    const handleMapError = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        console.error(\"Map tile loading error:\", e);\n        setMapError(\"Failed to load map tiles. Using fallback map provider.\");\n    // Continue with OpenStreetMap as fallback\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative h-full w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-md p-2 px-3 text-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"font-semibold\",\n                        children: [\n                            \"Showing \",\n                            filteredProperties.length,\n                            \" of \",\n                            properties?.length || 0,\n                            \" properties\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 974,\n                        columnNumber: 9\n                    }, undefined),\n                    filteredProperties.length < (properties?.length || 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                        children: [\n                            properties?.length - filteredProperties.length,\n                            \" properties filtered out or lacking valid coordinates\",\n                            validProperties.length < (properties?.length || 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"ml-1 text-blue-500 hover:text-blue-700 focus:outline-none underline\",\n                                onClick: ()=>{\n                                    // Count issues with coordinates\n                                    const missingCoords = properties?.filter((p)=>!p.latitude || !p.longitude).length || 0;\n                                    const zeroCoords = properties?.filter((p)=>p.latitude === 0 && p.longitude === 0).length || 0;\n                                    const invalidRange = properties?.filter((p)=>{\n                                        if (!p.latitude || !p.longitude) return false;\n                                        const lat = typeof p.latitude === \"number\" ? p.latitude : parseFloat(String(p.latitude));\n                                        const lng = typeof p.longitude === \"number\" ? p.longitude : parseFloat(String(p.longitude));\n                                        return lat < -90 || lat > 90 || lng < -180 || lng > 180;\n                                    }).length || 0;\n                                    // Display an alert with the breakdown\n                                    alert(`Properties not shown on map:\\n\\n` + `- Missing coordinates: ${missingCoords}\\n` + `- Zero coordinates: ${zeroCoords}\\n` + `- Invalid coordinate range: ${invalidRange}\\n` + `- Filtered by status or price: ${(properties?.length || 0) - validProperties.length - missingCoords - zeroCoords - invalidRange}\\n\\n` + `To improve map coverage, try geocoding properties with missing coordinates.`);\n                                },\n                                children: \"(details)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 982,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 978,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"font-medium\",\n                                children: \"Tip:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 1014,\n                                columnNumber: 11\n                            }, undefined),\n                            \" Click on clustered markers to expand them. Many properties share the exact same coordinates.\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1013,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 973,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapSearch, {\n                properties: properties,\n                onPropertySelect: setSelectedProperty\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 1019,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapFilter, {\n                onFilterChange: setMapFilters\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 1022,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapLegend, {}, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 1025,\n                columnNumber: 7\n            }, undefined),\n            geocodingStatus.isGeocoding && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-16 left-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-md p-2 px-3 flex items-center text-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"animate-spin h-4 w-4 mr-2 text-blue-500\",\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                className: \"opacity-25\",\n                                cx: \"12\",\n                                cy: \"12\",\n                                r: \"10\",\n                                stroke: \"currentColor\",\n                                strokeWidth: \"4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 1031,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                className: \"opacity-75\",\n                                fill: \"currentColor\",\n                                d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 1032,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1030,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: \"Locating properties on map...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1034,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 1029,\n                columnNumber: 9\n            }, undefined),\n            filteredProperties.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute z-10 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        className: \"h-8 w-8 mx-auto mb-2 text-gray-400\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        stroke: \"currentColor\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                strokeWidth: 2,\n                                d: \"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 1042,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                strokeWidth: 2,\n                                d: \"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 1043,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1041,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"font-semibold text-lg\",\n                        children: \"No Properties Match Filters\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1045,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-500 dark:text-gray-400 mt-1\",\n                        children: \"Try adjusting your filters to see more properties.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1046,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 1040,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.MapContainer, {\n                center: defaultCenter,\n                zoom: defaultZoom,\n                style: {\n                    height: \"100%\",\n                    width: \"100%\"\n                },\n                zoomControl: false,\n                whenReady: handleMapLoad,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapInitializer, {}, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1057,\n                        columnNumber: 9\n                    }, undefined),\n                    isValidMapboxToken ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.TileLayer, {\n                        attribution: '\\xa9 <a href=\"https://www.mapbox.com/about/maps/\">Mapbox</a>',\n                        url: `https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${mapboxTokenEnv}`,\n                        tileSize: 512,\n                        zoomOffset: -1,\n                        eventHandlers: {\n                            error: handleMapError\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1061,\n                        columnNumber: 11\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.TileLayer, {\n                        attribution: '\\xa9 <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n                        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1071,\n                        columnNumber: 11\n                    }, undefined),\n                    mapError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-4 left-1/2 transform -translate-x-1/2 bg-red-100 text-red-700 px-4 py-2 rounded-md shadow-md z-50\",\n                        children: mapError\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1079,\n                        columnNumber: 11\n                    }, undefined),\n                    filteredProperties.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_map_CustomMarkerCluster__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        // These props will be merged with the enhanced props in CustomMarkerClusterGroup\n                        chunkedLoading: true,\n                        showCoverageOnHover: false,\n                        disableClusteringAtZoom: 18,\n                        children: filteredProperties.map((property)=>{\n                            // Find properties at same location\n                            const sameLocationProperties = findPropertiesAtSameLocation(property);\n                            const hasMultipleProperties = sameLocationProperties.length > 0;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.Marker, {\n                                position: [\n                                    property.latitude,\n                                    property.longitude\n                                ],\n                                icon: getMarkerIcon(property),\n                                eventHandlers: {\n                                    click: ()=>{\n                                        // Find the original property in the properties array to make sure we have the latest data\n                                        const originalProperty = properties.find((p)=>p.id === property.id) || property;\n                                        setSelectedProperty(originalProperty);\n                                    }\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.Popup, {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"min-w-[220px]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"font-bold text-lg\",\n                                                children: property.name\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 1112,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-gray-600\",\n                                                children: property.verified_address || property.address\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 1115,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            property.verified_address && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-green-600 flex items-center mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-3 w-3 mr-1\",\n                                                        viewBox: \"0 0 20 20\",\n                                                        fill: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            fillRule: \"evenodd\",\n                                                            d: \"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                                                            clipRule: \"evenodd\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 1123,\n                                                            columnNumber: 27\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 1122,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    \"Verified with Google Maps\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 1121,\n                                                columnNumber: 23\n                                            }, undefined),\n                                            property._geocoding_source && !property.verified_address && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-blue-600 flex items-center mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-3 w-3 mr-1\",\n                                                        viewBox: \"0 0 20 20\",\n                                                        fill: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            fillRule: \"evenodd\",\n                                                            d: \"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\",\n                                                            clipRule: \"evenodd\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 1133,\n                                                            columnNumber: 27\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 1132,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    property._geocoding_source === \"existing\" && \"Coordinates from database\",\n                                                    property._geocoding_source === \"verified_address\" && \"Geocoded from verified address\",\n                                                    property._geocoding_source === \"full_address\" && \"Geocoded from full address\",\n                                                    property._geocoding_source === \"property_name\" && \"Approximated from property name\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 1131,\n                                                columnNumber: 23\n                                            }, undefined),\n                                            !property.verified_address && !property._geocoding_source && property.geocoded_at && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-blue-600 flex items-center mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-3 w-3 mr-1\",\n                                                        viewBox: \"0 0 20 20\",\n                                                        fill: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            fillRule: \"evenodd\",\n                                                            d: \"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\",\n                                                            clipRule: \"evenodd\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 1145,\n                                                            columnNumber: 27\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 1144,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    \"Location estimated from address\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 1143,\n                                                columnNumber: 23\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"grid grid-cols-2 gap-1 my-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-gray-500 text-sm\",\n                                                                children: \"Units:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 1153,\n                                                                columnNumber: 25\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"font-medium\",\n                                                                children: property.num_units || property.units\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 1154,\n                                                                columnNumber: 25\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 1152,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-gray-500 text-sm\",\n                                                                children: \"Year Built:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 1157,\n                                                                columnNumber: 25\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"font-medium\",\n                                                                children: property.year_built || \"N/A\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 1158,\n                                                                columnNumber: 25\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 1156,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 1151,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 pt-2 border-t\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: `px-2 py-1 rounded-full text-xs ${property.status === \"available\" || property.status === \"Actively Marketed\" ? \"bg-green-100 text-green-800\" : property.status === \"under_contract\" || property.status === \"Under Contract\" ? \"bg-yellow-100 text-yellow-800\" : \"bg-red-100 text-red-800\"}`,\n                                                    children: property.status\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                    lineNumber: 1162,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 1161,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 text-sm\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-gray-500\",\n                                                        children: \"Property Link: \"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 1175,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: `/properties/${property.id}`,\n                                                        className: \"text-blue-600 hover:text-blue-800 hover:underline\",\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        children: \"View Details\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 1176,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 1174,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 1111,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 1110,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, property.id, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 1098,\n                                columnNumber: 15\n                            }, undefined);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1086,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapRecenter, {\n                        selectedProperty: selectedProperty\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1193,\n                        columnNumber: 9\n                    }, undefined),\n                    onBoundsChange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapBoundsUpdater, {\n                        onBoundsChange: onBoundsChange\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1194,\n                        columnNumber: 28\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.ZoomControl, {\n                        position: \"topright\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 1197,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 1050,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n        lineNumber: 971,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapComponent);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hY3F1aXJlLWFwYXJ0bWVudHMvLi9zcmMvY29tcG9uZW50cy9NYXBDb21wb25lbnQudHN4P2VjM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIEZDLCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTWFwQ29udGFpbmVyLCBUaWxlTGF5ZXIsIE1hcmtlciwgUG9wdXAsIHVzZU1hcCwgWm9vbUNvbnRyb2wgfSBmcm9tICdyZWFjdC1sZWFmbGV0JztcbmltcG9ydCBMIGZyb20gJ2xlYWZsZXQnO1xuaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnO1xuaW1wb3J0IHsgUHJvcGVydHkgfSBmcm9tICcuLi90eXBlcy9wcm9wZXJ0eSc7XG5pbXBvcnQgeyBnZW9jb2RlUHJvcGVydGllcywgZW5oYW5jZWRHZW9jb2RlUHJvcGVydGllcyB9IGZyb20gJy4uLy4uL2xpYi9nZW9jb2RpbmcnO1xuaW1wb3J0IEN1c3RvbU1hcmtlckNsdXN0ZXJHcm91cCBmcm9tICcuL21hcC9DdXN0b21NYXJrZXJDbHVzdGVyJztcbi8vIE1hcmtlckNsdXN0ZXIgQ1NTIGlzIGxvYWRlZCBpbiBfYXBwLmpzL3RzeCBpbnN0ZWFkIG9mIGhlcmUgdG8gYXZvaWQgTmV4dC5qcyBDU1MgaW1wb3J0IHJlc3RyaWN0aW9uc1xuLy8gT3JpZ2luYWwgaW1wb3J0OiBpbXBvcnQgJ3JlYWN0LWxlYWZsZXQtY2x1c3Rlci9saWIvYXNzZXRzL01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MnO1xuXG4vLyBNYXAgTGVnZW5kIGNvbXBvbmVudCB0byBzaG93IHdoYXQgdGhlIGRpZmZlcmVudCBtYXJrZXIgY29sb3JzIG1lYW5cbmNvbnN0IE1hcExlZ2VuZDogRkMgPSAoKSA9PiB7XG4gIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS00IGxlZnQtNCB6LTEwIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3ctbWQgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgZm9udC1zZW1pYm9sZCB0ZXh0LXNtIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTUwIGRhcms6aG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFeHBhbmRlZCghZXhwYW5kZWQpfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC01IHctNSBtci0yIHRleHQtZ3JheS02MDBcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk05IDIwbC01LjQ0Ny0yLjcyNEExIDEgMCAwMTMgMTYuMzgyVjUuNjE4YTEgMSAwIDAxMS40NDctLjg5NEw5IDdtMCAxM2w2LTNtLTYgM1Y3bTYgMTBsNC41NTMgMi4yNzZBMSAxIDAgMDAyMSAxOC4zODJWNy42MThhMSAxIDAgMDAtLjU1My0uODk0TDE1IDRtMCAxM1Y0bTAgMEw5IDdcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDxzcGFuPkxlZ2VuZCAmIEZpbHRlcnM8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9e2BoLTUgdy01IHRyYW5zZm9ybSB0cmFuc2l0aW9uLXRyYW5zZm9ybSAke2V4cGFuZGVkID8gJ3JvdGF0ZS0xODAnIDogJyd9YH0gZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE5IDlsLTcgNy03LTdcIiAvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7ZXhwYW5kZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTMgcHktMiBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICB7LyogUHJpY2UgUmFuZ2UgRmlsdGVyICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG1iLTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxzcGFuPlByaWNlIFJhbmdlPC9zcGFuPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeSBob3Zlcjp0ZXh0LXByaW1hcnkvODAgdGV4dC14c1wiPlJlc2V0PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIHtbXG4gICAgICAgICAgICAgICAgeyBjb2xvcjogJ3B1cnBsZS01MDAnLCBsYWJlbDogJ1ByZW1pdW0gKCQyME0rKScsIHZhbHVlOiAncHJlbWl1bScgfSxcbiAgICAgICAgICAgICAgICB7IGNvbG9yOiAnYmx1ZS04MDAnLCBsYWJlbDogJ0hpZ2ggKCQxME0tJDIwTSknLCB2YWx1ZTogJ2hpZ2gnIH0sXG4gICAgICAgICAgICAgICAgeyBjb2xvcjogJ2JsdWUtNTAwJywgbGFiZWw6ICdNaWQtSGlnaCAoJDVNLSQxME0pJywgdmFsdWU6ICdtaWQtaGlnaCcgfSxcbiAgICAgICAgICAgICAgICB7IGNvbG9yOiAnZ3JlZW4tNTAwJywgbGFiZWw6ICdNZWRpdW0gKCQxTS0kNU0pJywgdmFsdWU6ICdtZWRpdW0nIH0sXG4gICAgICAgICAgICAgICAgeyBjb2xvcjogJ3llbGxvdy01MDAnLCBsYWJlbDogJ0FmZm9yZGFibGUgKFVuZGVyICQxTSknLCB2YWx1ZTogJ2FmZm9yZGFibGUnIH1cbiAgICAgICAgICAgICAgXS5tYXAocmFuZ2UgPT4gKFxuICAgICAgICAgICAgICAgIDxsYWJlbCBrZXk9e3JhbmdlLnZhbHVlfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXhzIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jaGVja2JveCBoLTMgdy0zIHRleHQtcHJpbWFyeSByb3VuZGVkIGJvcmRlci1ncmF5LTMwMFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyYW5nZS52YWx1ZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctMyBoLTMgcm91bmRlZC1mdWxsIGJnLSR7cmFuZ2UuY29sb3J9IG14LTJgfT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPntyYW5nZS5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBTdGF0dXMgRmlsdGVyICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG1iLTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxzcGFuPlN0YXR1czwvc3Bhbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ0ZXh0LXByaW1hcnkgaG92ZXI6dGV4dC1wcmltYXJ5LzgwIHRleHQteHNcIj5SZXNldDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICB7W1xuICAgICAgICAgICAgICAgIHsgY29sb3I6ICdncmVlbi01MDAnLCBsYWJlbDogJ0F2YWlsYWJsZScsIHZhbHVlOiAnYXZhaWxhYmxlJyB9LFxuICAgICAgICAgICAgICAgIHsgY29sb3I6ICd5ZWxsb3ctNTAwJywgbGFiZWw6ICdVbmRlciBDb250cmFjdCcsIHZhbHVlOiAndW5kZXJfY29udHJhY3QnIH0sXG4gICAgICAgICAgICAgICAgeyBjb2xvcjogJ3JlZC01MDAnLCBsYWJlbDogJ1NvbGQnLCB2YWx1ZTogJ3NvbGQnIH1cbiAgICAgICAgICAgICAgXS5tYXAoc3RhdHVzID0+IChcbiAgICAgICAgICAgICAgICA8bGFiZWwga2V5PXtzdGF0dXMudmFsdWV9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHMgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrYm94IGgtMyB3LTMgdGV4dC1wcmltYXJ5IHJvdW5kZWQgYm9yZGVyLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N0YXR1cy52YWx1ZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctMyBoLTMgcm91bmRlZC1mdWxsIGJnLSR7c3RhdHVzLmNvbG9yfSBteC0yYH0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj57c3RhdHVzLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEFkZGl0aW9uYWwgRmlsdGVycyAqL31cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgQWRkaXRpb25hbCBGaWx0ZXJzXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXhzIGN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jaGVja2JveCBoLTMgdy0zIHRleHQtcHJpbWFyeSByb3VuZGVkIGJvcmRlci1ncmF5LTMwMFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT1cImhhc19wcmljZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yXCI+SGFzIFByaWNlIExpc3RlZDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHMgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrYm94IGgtMyB3LTMgdGV4dC1wcmltYXJ5IHJvdW5kZWQgYm9yZGVyLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPVwiaGFzX3VuaXRzXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTJcIj5IYXMgVW5pdCBDb3VudDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBDb21wb25lbnQgdG8gaGFuZGxlIG1hcCBpbml0aWFsaXphdGlvbiBlZmZlY3RzXG5jb25zdCBNYXBJbml0aWFsaXplcjogRkMgPSAoKSA9PiB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gRml4IExlYWZsZXQgbWFya2VyIGljb24gaXNzdWUgaW4gTmV4dC5qc1xuICAgIHRyeSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBkZWxldGUgTC5JY29uLkRlZmF1bHQucHJvdG90eXBlLl9nZXRJY29uVXJsO1xuICAgICAgTC5JY29uLkRlZmF1bHQubWVyZ2VPcHRpb25zKHtcbiAgICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItYmx1ZS5wbmcnLFxuICAgICAgICBpY29uUmV0aW5hVXJsOiAnL2ljb25zL21hcmtlci1ibHVlLnBuZycsXG4gICAgICAgIHNoYWRvd1VybDogJy9pY29ucy9tYXJrZXItc2hhZG93LnBuZycsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmaXhpbmcgTGVhZmxldCBpY29uIGlzc3VlOicsIGUpO1xuICAgIH1cbiAgfSwgW10pO1xuICBcbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBDdXN0b20gbWFya2VyIGljb25zIGZvciBkaWZmZXJlbnQgcHJvcGVydHkgc3RhdHVzZXNcbmNvbnN0IGNyZWF0ZVN0YXR1c0ljb24gPSAoY29sb3I6IHN0cmluZykgPT4gbmV3IEwuSWNvbih7XG4gIGljb25Vcmw6IGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcG9pbnRoaS9sZWFmbGV0LWNvbG9yLW1hcmtlcnMvbWFzdGVyL2ltZy9tYXJrZXItaWNvbi0yeC0ke2NvbG9yfS5wbmdgLFxuICBzaGFkb3dVcmw6ICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9sZWFmbGV0LzAuNy43L2ltYWdlcy9tYXJrZXItc2hhZG93LnBuZycsXG4gIGljb25TaXplOiBbMjUsIDQxXSxcbiAgaWNvbkFuY2hvcjogWzEyLCA0MV0sXG4gIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgc2hhZG93U2l6ZTogWzQxLCA0MV1cbn0pO1xuXG4vLyBTdGF0dXMgaWNvbiBtYXBwaW5nXG5jb25zdCBzdGF0dXNJY29ucyA9IHtcbiAgJ2F2YWlsYWJsZSc6IGNyZWF0ZVN0YXR1c0ljb24oJ2dyZWVuJyksXG4gICdwZW5kaW5nJzogY3JlYXRlU3RhdHVzSWNvbigneWVsbG93JyksXG4gICd1bmRlcl9jb250cmFjdCc6IGNyZWF0ZVN0YXR1c0ljb24oJ29yYW5nZScpLFxuICAnc29sZCc6IGNyZWF0ZVN0YXR1c0ljb24oJ3JlZCcpLFxuICAnQWN0aXZlbHkgTWFya2V0ZWQnOiBjcmVhdGVTdGF0dXNJY29uKCdncmVlbicpLFxuICAnVW5kZXIgQ29udHJhY3QnOiBjcmVhdGVTdGF0dXNJY29uKCdvcmFuZ2UnKSxcbiAgJ1NvbGQnOiBjcmVhdGVTdGF0dXNJY29uKCdyZWQnKSxcbiAgJ2RlZmF1bHQnOiBuZXcgTC5JY29uLkRlZmF1bHQoKSxcbn07XG5cbmludGVyZmFjZSBNYXBSZWNlbnRlclByb3BzIHtcbiAgc2VsZWN0ZWRQcm9wZXJ0eTogUHJvcGVydHkgfCBudWxsO1xufVxuXG4vLyBDb21wb25lbnQgdG8gcmVjZW50ZXIgbWFwIHdoZW4gc2VsZWN0ZWRQcm9wZXJ0eSBjaGFuZ2VzXG5jb25zdCBNYXBSZWNlbnRlcjogRkM8TWFwUmVjZW50ZXJQcm9wcz4gPSAoeyBzZWxlY3RlZFByb3BlcnR5IH0pID0+IHtcbiAgY29uc3QgbWFwID0gdXNlTWFwKCk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZFByb3BlcnR5ICYmIFxuICAgICAgICBzZWxlY3RlZFByb3BlcnR5LmxhdGl0dWRlICYmIFxuICAgICAgICBzZWxlY3RlZFByb3BlcnR5LmxvbmdpdHVkZSkge1xuICAgICAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgY29vcmRpbmF0ZXMgYXJlIHZhbGlkIChlaXRoZXIgZnJvbSByZXNlYXJjaCBvciByZWd1bGFyIHZhbGlkIGNvb3JkaW5hdGVzKVxuICAgICAgY29uc3QgaGFzQ29vcmRpbmF0ZXMgPSB0eXBlb2Ygc2VsZWN0ZWRQcm9wZXJ0eS5sYXRpdHVkZSA9PT0gJ251bWJlcicgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHNlbGVjdGVkUHJvcGVydHkubG9uZ2l0dWRlID09PSAnbnVtYmVyJztcbiAgICAgIGNvbnN0IGlzTm90WmVybyA9ICEoc2VsZWN0ZWRQcm9wZXJ0eS5sYXRpdHVkZSA9PT0gMCAmJiBzZWxlY3RlZFByb3BlcnR5LmxvbmdpdHVkZSA9PT0gMCk7XG4gICAgICBjb25zdCBmcm9tUmVzZWFyY2ggPSBzZWxlY3RlZFByb3BlcnR5Ll9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoID09PSB0cnVlO1xuICAgICAgY29uc3QgaXNWYWxpZCA9IGZyb21SZXNlYXJjaCB8fCBcbiAgICAgICAgICAgICAgICAgICAgIChoYXNDb29yZGluYXRlcyAmJiBpc05vdFplcm8gJiYgXG4gICAgICAgICAgICAgICAgICAgICAgIXNlbGVjdGVkUHJvcGVydHkuX2Nvb3JkaW5hdGVzX21pc3NpbmcgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgIXNlbGVjdGVkUHJvcGVydHkuX2lzX2dyaWRfcGF0dGVybik7XG4gICAgICBcbiAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgIG1hcC5zZXRWaWV3KFxuICAgICAgICAgIFtzZWxlY3RlZFByb3BlcnR5LmxhdGl0dWRlLCBzZWxlY3RlZFByb3BlcnR5LmxvbmdpdHVkZV0sXG4gICAgICAgICAgMTUsXG4gICAgICAgICAgeyBhbmltYXRlOiB0cnVlIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtzZWxlY3RlZFByb3BlcnR5LCBtYXBdKTtcbiAgXG4gIHJldHVybiBudWxsO1xufTtcblxuaW50ZXJmYWNlIE1hcEJvdW5kc1VwZGF0ZXJQcm9wcyB7XG4gIG9uQm91bmRzQ2hhbmdlOiAoYm91bmRzOiBhbnkpID0+IHZvaWQ7XG59XG5cbi8vIENvbXBvbmVudCB0byB0cmFjayBtYXAgYm91bmRzIGZvciBmaWx0ZXJpbmdcbmNvbnN0IE1hcEJvdW5kc1VwZGF0ZXI6IEZDPE1hcEJvdW5kc1VwZGF0ZXJQcm9wcz4gPSAoeyBvbkJvdW5kc0NoYW5nZSB9KSA9PiB7XG4gIGNvbnN0IG1hcCA9IHVzZU1hcCgpO1xuICBjb25zdCBbbGFzdEJvdW5kcywgc2V0TGFzdEJvdW5kc10gPSB1c2VTdGF0ZTxhbnk+KG51bGwpO1xuICBcbiAgLy8gQ2hlY2sgaWYgYm91bmRzIGhhdmUgY2hhbmdlZCBzaWduaWZpY2FudGx5IHRvIGF2b2lkIHRvbyBtYW55IHJlbG9hZHNcbiAgY29uc3QgaGFzQm91bmRzQ2hhbmdlZFNpZ25pZmljYW50bHkgPSAobmV3Qm91bmRzOiBhbnksIG9sZEJvdW5kczogYW55KSA9PiB7XG4gICAgaWYgKCFvbGRCb3VuZHMpIHJldHVybiB0cnVlO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBhcmVhIGNoYW5nZSByYXRpb1xuICAgIGNvbnN0IG9sZEFyZWEgPSAob2xkQm91bmRzLm5vcnRoIC0gb2xkQm91bmRzLnNvdXRoKSAqIChvbGRCb3VuZHMuZWFzdCAtIG9sZEJvdW5kcy53ZXN0KTtcbiAgICBjb25zdCBuZXdBcmVhID0gKG5ld0JvdW5kcy5ub3J0aCAtIG5ld0JvdW5kcy5zb3V0aCkgKiAobmV3Qm91bmRzLmVhc3QgLSBuZXdCb3VuZHMud2VzdCk7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIGNlbnRlciBzaGlmdCBkaXN0YW5jZVxuICAgIGNvbnN0IG9sZENlbnRlckxhdCA9IChvbGRCb3VuZHMubm9ydGggKyBvbGRCb3VuZHMuc291dGgpIC8gMjtcbiAgICBjb25zdCBvbGRDZW50ZXJMbmcgPSAob2xkQm91bmRzLmVhc3QgKyBvbGRCb3VuZHMud2VzdCkgLyAyO1xuICAgIGNvbnN0IG5ld0NlbnRlckxhdCA9IChuZXdCb3VuZHMubm9ydGggKyBuZXdCb3VuZHMuc291dGgpIC8gMjtcbiAgICBjb25zdCBuZXdDZW50ZXJMbmcgPSAobmV3Qm91bmRzLmVhc3QgKyBuZXdCb3VuZHMud2VzdCkgLyAyO1xuICAgIFxuICAgIGNvbnN0IGNlbnRlclNoaWZ0ID0gTWF0aC5zcXJ0KFxuICAgICAgTWF0aC5wb3cobmV3Q2VudGVyTGF0IC0gb2xkQ2VudGVyTGF0LCAyKSArIFxuICAgICAgTWF0aC5wb3cobmV3Q2VudGVyTG5nIC0gb2xkQ2VudGVyTG5nLCAyKVxuICAgICk7XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIGlmIGJvdW5kcyBoYXZlIGNoYW5nZWQgZW5vdWdoIHRvIHRyaWdnZXIgYSByZWxvYWRcbiAgICAvLyBFaXRoZXIgdGhlIGFyZWEgaGFzIGNoYW5nZWQgYnkgNTAlIG9yIG1vcmUsIG9yIHRoZSBjZW50ZXIgaGFzIHNoaWZ0ZWQgc2lnbmlmaWNhbnRseVxuICAgIGNvbnN0IGFyZWFSYXRpbyA9IE1hdGgubWF4KG5ld0FyZWEgLyBvbGRBcmVhLCBvbGRBcmVhIC8gbmV3QXJlYSk7XG4gICAgcmV0dXJuIGFyZWFSYXRpbyA+IDEuNSB8fCBjZW50ZXJTaGlmdCA+IDAuMTtcbiAgfTtcbiAgXG4gIGNvbnN0IHVwZGF0ZUJvdW5kc1JlZiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBib3VuZHMgPSBtYXAuZ2V0Qm91bmRzKCk7XG4gICAgY29uc3QgbmV3Qm91bmRzID0ge1xuICAgICAgbm9ydGg6IGJvdW5kcy5nZXROb3J0aCgpLFxuICAgICAgc291dGg6IGJvdW5kcy5nZXRTb3V0aCgpLFxuICAgICAgZWFzdDogYm91bmRzLmdldEVhc3QoKSxcbiAgICAgIHdlc3Q6IGJvdW5kcy5nZXRXZXN0KCksXG4gICAgfTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBib3VuZHMgaGF2ZSBjaGFuZ2VkIHNpZ25pZmljYW50bHlcbiAgICBpZiAoaGFzQm91bmRzQ2hhbmdlZFNpZ25pZmljYW50bHkobmV3Qm91bmRzLCBsYXN0Qm91bmRzKSkge1xuICAgICAgY29uc29sZS5sb2coJ01hcCBib3VuZHMgY2hhbmdlZCBzaWduaWZpY2FudGx5LCB0cmlnZ2VyaW5nIHVwZGF0ZScpO1xuICAgICAgc2V0TGFzdEJvdW5kcyhuZXdCb3VuZHMpO1xuICAgICAgb25Cb3VuZHNDaGFuZ2UobmV3Qm91bmRzKTtcbiAgICB9XG4gIH0sIFttYXAsIG9uQm91bmRzQ2hhbmdlLCBsYXN0Qm91bmRzXSk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgcnVuIHRoZSBpbml0aWFsIHVwZGF0ZSBhZnRlciBhIHNsaWdodCBkZWxheSB0byBlbnN1cmUgdGhlIG1hcCBpcyBmdWxseSBsb2FkZWRcbiAgICBjb25zdCBpbml0aWFsVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdXBkYXRlQm91bmRzUmVmKCk7XG4gICAgfSwgNTAwKTtcbiAgICBcbiAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgbWFwLm9uKCdtb3ZlZW5kJywgdXBkYXRlQm91bmRzUmVmKTtcbiAgICBtYXAub24oJ3pvb21lbmQnLCB1cGRhdGVCb3VuZHNSZWYpO1xuICAgIFxuICAgIC8vIENsZWFudXAgbGlzdGVuZXJzIGFuZCB0aW1lb3V0XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChpbml0aWFsVGltZW91dCk7XG4gICAgICBtYXAub2ZmKCdtb3ZlZW5kJywgdXBkYXRlQm91bmRzUmVmKTtcbiAgICAgIG1hcC5vZmYoJ3pvb21lbmQnLCB1cGRhdGVCb3VuZHNSZWYpO1xuICAgIH07XG4gIH0sIFttYXAsIHVwZGF0ZUJvdW5kc1JlZl0pO1xuICBcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5pbnRlcmZhY2UgTWFwRmlsdGVyUHJvcHMge1xuICBvbkZpbHRlckNoYW5nZTogKGZpbHRlcnM6IHsgc2hvd1ByZW1pdW06IGJvb2xlYW47IHNob3dBdmFpbGFibGU6IGJvb2xlYW47IHNob3dVbmRlckNvbnRyYWN0OiBib29sZWFuOyBzaG93U29sZDogYm9vbGVhbiB9KSA9PiB2b2lkXG59XG5cbi8vIEFkZCBhIHNpbXBsZSBmaWx0ZXIgY29tcG9uZW50IGZvciB0aGUgbWFwXG5jb25zdCBNYXBGaWx0ZXI6IEZDPE1hcEZpbHRlclByb3BzPiA9ICh7IG9uRmlsdGVyQ2hhbmdlIH0pID0+IHtcbiAgY29uc3QgW2V4cGFuZGVkLCBzZXRFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmaWx0ZXJzLCBzZXRGaWx0ZXJzXSA9IHVzZVN0YXRlKHtcbiAgICBzaG93UHJlbWl1bTogdHJ1ZSxcbiAgICBzaG93QXZhaWxhYmxlOiB0cnVlLFxuICAgIHNob3dVbmRlckNvbnRyYWN0OiB0cnVlLFxuICAgIHNob3dTb2xkOiB0cnVlXG4gIH0pO1xuICBcbiAgY29uc3QgaGFuZGxlRmlsdGVyQ2hhbmdlID0gKGtleTogc3RyaW5nLCB2YWx1ZTogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IG5ld0ZpbHRlcnMgPSB7IC4uLmZpbHRlcnMsIFtrZXldOiB2YWx1ZSB9O1xuICAgIHNldEZpbHRlcnMobmV3RmlsdGVycyk7XG4gICAgb25GaWx0ZXJDaGFuZ2UobmV3RmlsdGVycyk7XG4gIH07XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIwIHJpZ2h0LTQgei0xMCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgc2hhZG93LW1kIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgPGRpdiBcbiAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0yIGZvbnQtc2VtaWJvbGQgdGV4dC1zbSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFeHBhbmRlZCghZXhwYW5kZWQpfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC01IHctNSBtci0yIHRleHQtZ3JheS02MDBcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0zIDRhMSAxIDAgMDExLTFoMTZhMSAxIDAgMDExIDF2Mi41ODZhMSAxIDAgMDEtLjI5My43MDdsLTYuNDE0IDYuNDE0YTEgMSAwIDAwLS4yOTMuNzA3VjE3bC00IDR2LTYuNTg2YTEgMSAwIDAwLS4yOTMtLjcwN0wzLjI5MyA3LjI5M0ExIDEgMCAwMTMgNi41ODZWNHpcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIFF1aWNrIEZpbHRlclxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPXtgaC01IHctNSB0cmFuc2Zvcm0gdHJhbnNpdGlvbi10cmFuc2Zvcm0gJHtleHBhbmRlZCA/ICdyb3RhdGUtMTgwJyA6ICcnfWB9IGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xOSA5bC03IDctNy03XCIgLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAge2V4cGFuZGVkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC0zIHB5LTIgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGdhcC0xXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCIgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jaGVja2JveCBoLTQgdy00IG1yLTIgdGV4dC1ibHVlLTYwMFwiIFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2ZpbHRlcnMuc2hvd1ByZW1pdW19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVGaWx0ZXJDaGFuZ2UoJ3Nob3dQcmVtaXVtJywgZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIFByZW1pdW0gUHJvcGVydGllc1xuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrYm94IGgtNCB3LTQgbXItMiB0ZXh0LWdyZWVuLTYwMFwiIFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2ZpbHRlcnMuc2hvd0F2YWlsYWJsZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUZpbHRlckNoYW5nZSgnc2hvd0F2YWlsYWJsZScsIGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICBBdmFpbGFibGUgUHJvcGVydGllc1xuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrYm94IGgtNCB3LTQgbXItMiB0ZXh0LXllbGxvdy02MDBcIiBcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtmaWx0ZXJzLnNob3dVbmRlckNvbnRyYWN0fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlRmlsdGVyQ2hhbmdlKCdzaG93VW5kZXJDb250cmFjdCcsIGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICBVbmRlciBDb250cmFjdFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrYm94IGgtNCB3LTQgbXItMiB0ZXh0LXJlZC02MDBcIiBcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtmaWx0ZXJzLnNob3dTb2xkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlRmlsdGVyQ2hhbmdlKCdzaG93U29sZCcsIGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICBTb2xkIFByb3BlcnRpZXNcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIEFkZCBhIHNlYXJjaCBjb21wb25lbnRcbmNvbnN0IE1hcFNlYXJjaDogRkM8e1xuICBwcm9wZXJ0aWVzOiBQcm9wZXJ0eVtdO1xuICBvblByb3BlcnR5U2VsZWN0OiAocHJvcGVydHk6IFByb3BlcnR5KSA9PiB2b2lkO1xufT4gPSAoeyBwcm9wZXJ0aWVzLCBvblByb3BlcnR5U2VsZWN0IH0pID0+IHtcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc2hvd1Jlc3VsdHMsIHNldFNob3dSZXN1bHRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgc2VhcmNoUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcblxuICAvLyBDbG9zZSBzZWFyY2ggcmVzdWx0cyB3aGVuIGNsaWNraW5nIG91dHNpZGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBoYW5kbGVDbGlja091dHNpZGUoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgIGlmIChzZWFyY2hSZWYuY3VycmVudCAmJiAhc2VhcmNoUmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgIHNldFNob3dSZXN1bHRzKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlU2VhcmNoQ2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSk7XG4gICAgc2V0U2hvd1Jlc3VsdHModHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgZmlsdGVyZWRQcm9wZXJ0aWVzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFzZWFyY2hUZXJtKSByZXR1cm4gW107XG4gICAgXG4gICAgY29uc3Qgc2VhcmNoTG93ZXIgPSBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIHByb3BlcnRpZXNcbiAgICAgIC5maWx0ZXIocHJvcGVydHkgPT4ge1xuICAgICAgICBjb25zdCBtYXRjaE5hbWUgPSBwcm9wZXJ0eS5uYW1lPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKTtcbiAgICAgICAgY29uc3QgbWF0Y2hBZGRyZXNzID0gcHJvcGVydHkuYWRkcmVzcz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcik7XG4gICAgICAgIGNvbnN0IG1hdGNoQnJva2VyID0gcHJvcGVydHkuYnJva2VyPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKTtcbiAgICAgICAgcmV0dXJuIG1hdGNoTmFtZSB8fCBtYXRjaEFkZHJlc3MgfHwgbWF0Y2hCcm9rZXI7XG4gICAgICB9KVxuICAgICAgLnNsaWNlKDAsIDUpOyAvLyBMaW1pdCB0byA1IHJlc3VsdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICB9LCBbcHJvcGVydGllcywgc2VhcmNoVGVybV0pO1xuXG4gIGNvbnN0IGhhbmRsZVNlbGVjdCA9IChwcm9wZXJ0eTogUHJvcGVydHkpID0+IHtcbiAgICBvblByb3BlcnR5U2VsZWN0KHByb3BlcnR5KTtcbiAgICBzZXRTZWFyY2hUZXJtKCcnKTtcbiAgICBzZXRTaG93UmVzdWx0cyhmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0UHJpY2UgPSAocHJpY2U6IG51bWJlciB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmICghcHJpY2UpIHJldHVybiAnUHJpY2Ugb24gcmVxdWVzdCc7XG4gICAgcmV0dXJuIHByaWNlID49IDEwMDAwMDAgXG4gICAgICA/IGAkJHsocHJpY2UgLyAxMDAwMDAwKS50b0ZpeGVkKDEpfU1gIFxuICAgICAgOiBgJCR7KHByaWNlIC8gMTAwMCkudG9GaXhlZCgwKX1LYDtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgcmVmPXtzZWFyY2hSZWZ9IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IGxlZnQtNCB6LTEwIHctODBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTZWFyY2hDaGFuZ2V9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggcHJvcGVydGllcyBieSBuYW1lLCBhZGRyZXNzLCBvciBicm9rZXIuLi5cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTIgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHJvdW5kZWQtbGcgc2hhZG93LXNtIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnkgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50XCJcbiAgICAgICAgLz5cbiAgICAgICAge3NlYXJjaFRlcm0gJiYgKFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgc2V0U2VhcmNoVGVybSgnJyk7XG4gICAgICAgICAgICAgIHNldFNob3dSZXN1bHRzKGZhbHNlKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0zIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtNSB3LTVcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEwIDE4YTggOCAwIDEwMC0xNiA4IDggMCAwMDAgMTZ6TTguNzA3IDcuMjkzYTEgMSAwIDAwLTEuNDE0IDEuNDE0TDguNTg2IDEwbC0xLjI5MyAxLjI5M2ExIDEgMCAxMDEuNDE0IDEuNDE0TDEwIDExLjQxNGwxLjI5MyAxLjI5M2ExIDEgMCAwMDEuNDE0LTEuNDE0TDExLjQxNCAxMGwxLjI5My0xLjI5M2ExIDEgMCAwMC0xLjQxNC0xLjQxNEwxMCA4LjU4NiA4LjcwNyA3LjI5M3pcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAge3Nob3dSZXN1bHRzICYmIGZpbHRlcmVkUHJvcGVydGllcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LWZ1bGwgbXQtMSBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcm91bmRlZC1sZyBzaGFkb3ctbGcgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAge2ZpbHRlcmVkUHJvcGVydGllcy5tYXAoKHByb3BlcnR5KSA9PiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGtleT17cHJvcGVydHkuaWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNlbGVjdChwcm9wZXJ0eSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTMgdGV4dC1sZWZ0IGhvdmVyOmJnLWdyYXktNTAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCBib3JkZXItYiBsYXN0OmJvcmRlci1iLTAgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIGZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgdy0xMiBoLTEyIGJnLWdyYXktMTAwIGRhcms6YmctZ3JheS02MDAgcm91bmRlZCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICB7cHJvcGVydHkuaW1hZ2VfdXJsID8gKFxuICAgICAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtwcm9wZXJ0eS5pbWFnZV91cmx9IFxuICAgICAgICAgICAgICAgICAgICBhbHQ9e3Byb3BlcnR5Lm5hbWV9IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC02IHctNiB0ZXh0LWdyYXktNDAwXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE5IDIxVjVhMiAyIDAgMDAtMi0ySDdhMiAyIDAgMDAtMiAydjE2bTE0IDBoMm0tMiAwaC01bS05IDBIM20yIDBoNU05IDdoMW0tMSA0aDFtNC00aDFtLTEgNGgxbS01IDEwdi01YTEgMSAwIDAxMS0xaDJhMSAxIDAgMDExIDF2NW0tNCAwaDRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNtIHRydW5jYXRlXCI+e3Byb3BlcnR5Lm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHRydW5jYXRlXCI+e3Byb3BlcnR5LmFkZHJlc3N9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtXCI+e2Zvcm1hdFByaWNlKHByb3BlcnR5LnByaWNlKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7cHJvcGVydHkudW5pdHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+e3Byb3BlcnR5LnVuaXRzfSB1bml0czwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAge3Nob3dSZXN1bHRzICYmIHNlYXJjaFRlcm0gJiYgZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdy1mdWxsIG10LTEgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHJvdW5kZWQtbGcgc2hhZG93LWxnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTMgdGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgTm8gcHJvcGVydGllcyBmb3VuZCBtYXRjaGluZyBcIntzZWFyY2hUZXJtfVwiXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmludGVyZmFjZSBNYXBDb21wb25lbnRQcm9wcyB7XG4gIHByb3BlcnRpZXM6IFByb3BlcnR5W107XG4gIHNlbGVjdGVkUHJvcGVydHk6IFByb3BlcnR5IHwgbnVsbDtcbiAgc2V0U2VsZWN0ZWRQcm9wZXJ0eTogKHByb3BlcnR5OiBQcm9wZXJ0eSB8IG51bGwpID0+IHZvaWQ7XG4gIG9uQm91bmRzQ2hhbmdlPzogKGJvdW5kczogYW55KSA9PiB2b2lkO1xuICBtYXBib3hUb2tlbj86IHN0cmluZztcbn1cblxuY29uc3QgTWFwQ29tcG9uZW50OiBGQzxNYXBDb21wb25lbnRQcm9wcz4gPSAoeyBcbiAgcHJvcGVydGllcywgXG4gIHNlbGVjdGVkUHJvcGVydHksIFxuICBzZXRTZWxlY3RlZFByb3BlcnR5LFxuICBvbkJvdW5kc0NoYW5nZSxcbiAgbWFwYm94VG9rZW4gXG59KSA9PiB7XG4gIC8vIFN0YXRlIGZvciBnZW9jb2RlZCBwcm9wZXJ0aWVzXG4gIGNvbnN0IFtwcm9jZXNzZWRQcm9wZXJ0aWVzLCBzZXRQcm9jZXNzZWRQcm9wZXJ0aWVzXSA9IHVzZVN0YXRlPFByb3BlcnR5W10+KHByb3BlcnRpZXMgfHwgW10pO1xuICBjb25zdCBbZ2VvY29kaW5nU3RhdHVzLCBzZXRHZW9jb2RpbmdTdGF0dXNdID0gdXNlU3RhdGUoe1xuICAgIGlzR2VvY29kaW5nOiBmYWxzZSxcbiAgICBjb3VudDogMCxcbiAgICB0b3RhbDogMFxuICB9KTtcbiAgXG4gIC8vIEZpbHRlciBzdGF0ZVxuICBjb25zdCBbbWFwRmlsdGVycywgc2V0TWFwRmlsdGVyc10gPSB1c2VTdGF0ZSh7XG4gICAgc2hvd1ByZW1pdW06IHRydWUsXG4gICAgc2hvd0F2YWlsYWJsZTogdHJ1ZSxcbiAgICBzaG93VW5kZXJDb250cmFjdDogdHJ1ZSxcbiAgICBzaG93U29sZDogdHJ1ZVxuICB9KTtcbiAgXG4gIC8vIEdldCBNYXBib3ggdG9rZW4gZnJvbSBlbnZpcm9ubWVudCwgd2l0aCBmYWxsYmFjayB0byBlbnN1cmUgbWFwIGxvYWRzXG4gIGNvbnN0IG1hcGJveFRva2VuRW52ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTUFQQk9YX1RPS0VOIHx8ICcnO1xuICBjb25zdCBbbWFwTG9hZGVkLCBzZXRNYXBMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWFwRXJyb3IsIHNldE1hcEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBcbiAgLy8gUHJvcGVybHkgdmVyaWZ5IHRva2VuIGZvcm1hdCB0byBhdm9pZCBtYXAgbG9hZGluZyBpc3N1ZXNcbiAgY29uc3QgaXNWYWxpZE1hcGJveFRva2VuID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIG1hcGJveFRva2VuRW52ICYmIG1hcGJveFRva2VuRW52LnN0YXJ0c1dpdGgoJ3BrLicpICYmIG1hcGJveFRva2VuRW52Lmxlbmd0aCA+IDIwO1xuICB9LCBbbWFwYm94VG9rZW5FbnZdKTtcblxuICAvLyBGb3IgQXVzdGluLCBUWFxuICBjb25zdCBkZWZhdWx0Q2VudGVyOiBbbnVtYmVyLCBudW1iZXJdID0gWzMwLjI2NzIsIC05Ny43NDMxXTtcbiAgY29uc3QgZGVmYXVsdFpvb20gPSAxMjtcbiAgXG4gIC8vIERlYnVnIHZhcmlhYmxlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcHJvcGVydGllcyB8fCAhQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgICAgY29uc29sZS5sb2coJ05vIHByb3BlcnRpZXMgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGA9PT09PSBNQVAgQ09NUE9ORU5UIERFQlVHID09PT09YCk7XG4gICAgY29uc29sZS5sb2coYFJlY2VpdmVkICR7cHJvcGVydGllcy5sZW5ndGh9IHByb3BlcnRpZXMgZnJvbSBwYXJlbnRgKTtcbiAgICBcbiAgICAvLyBBbmFseXplIHByb3BlcnRpZXMgYmVmb3JlIGZpbHRlcmluZ1xuICAgIGNvbnN0IHdpdGhMYXQgPSBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAubGF0aXR1ZGUpLmxlbmd0aDtcbiAgICBjb25zdCB3aXRoTG5nID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLmxvbmdpdHVkZSkubGVuZ3RoO1xuICAgIGNvbnN0IHdpdGhCb3RoID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLmxhdGl0dWRlICYmIHAubG9uZ2l0dWRlKS5sZW5ndGg7XG4gICAgY29uc3QgdmFsaWROdW1iZXJzID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAgIHR5cGVvZiBwLmxhdGl0dWRlID09PSAnbnVtYmVyJyAmJiBcbiAgICAgIHR5cGVvZiBwLmxvbmdpdHVkZSA9PT0gJ251bWJlcidcbiAgICApLmxlbmd0aDtcbiAgICBjb25zdCBub25aZXJvID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAgIHAubGF0aXR1ZGUgIT09IDAgJiYgXG4gICAgICBwLmxvbmdpdHVkZSAhPT0gMFxuICAgICkubGVuZ3RoO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBQcm9wZXJ0aWVzIHdpdGggbGF0OiAke3dpdGhMYXR9LCB3aXRoIGxuZzogJHt3aXRoTG5nfSwgd2l0aCBib3RoOiAke3dpdGhCb3RofWApO1xuICAgIGNvbnNvbGUubG9nKGBQcm9wZXJ0aWVzIHdpdGggbnVtZXJpYyBjb29yZGluYXRlczogJHt2YWxpZE51bWJlcnN9YCk7XG4gICAgY29uc29sZS5sb2coYFByb3BlcnRpZXMgd2l0aCBub24temVybyBjb29yZGluYXRlczogJHtub25aZXJvfWApO1xuICAgIFxuICAgIC8vIENoZWNrIHZhbGlkaXR5IHVzaW5nIG91ciBpbnRlcm5hbCBmdW5jdGlvblxuICAgIGNvbnN0IHBhc3Nlc1ZhbGlkYXRpb24gPSBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IGhhc1ZhbGlkQ29vcmRpbmF0ZXMocCkpLmxlbmd0aDtcbiAgICBjb25zb2xlLmxvZyhgUHJvcGVydGllcyB0aGF0IHBhc3MgaGFzVmFsaWRDb29yZGluYXRlcygpOiAke3Bhc3Nlc1ZhbGlkYXRpb259YCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZmluYWwgZmlsdGVyZWQgcmVzdWx0XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgUkVTVUxUOiBEaXNwbGF5aW5nICR7cHJvcGVydGllc1dpdGhDb29yZGluYXRlcy5sZW5ndGh9IHByb3BlcnRpZXMgb24gbWFwYCk7XG4gICAgICBjb25zb2xlLmxvZyhgPT09PT0gRU5EIE1BUCBDT01QT05FTlQgREVCVUcgPT09PT1gKTtcbiAgICB9LCAxMDApOyAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgcHJvcGVydGllc1dpdGhDb29yZGluYXRlcyBoYXMgYmVlbiBjYWxjdWxhdGVkXG4gIH0sIFtwcm9wZXJ0aWVzXSk7XG5cbiAgLy8gRml4IGZvciBwcm9wZXJ0aWVzIGdlb2NvZGluZyB3aXRoIFByb21pc2UudGhlblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZW9jb2RpbmdTdGF0dXMuaXNHZW9jb2RpbmcgJiYgcHJvcGVydGllcykge1xuICAgICAgLy8gRmluZCBwcm9wZXJ0aWVzIG5lZWRpbmcgZ2VvY29kaW5nIChmaWx0ZXIgb3V0IHRob3NlIHdpdGggdmFsaWQgY29vcmRpbmF0ZXMpXG4gICAgICBjb25zdCBiYXRjaFRvR2VvY29kZSA9IHByb3BlcnRpZXMuZmlsdGVyKHByb3BlcnR5ID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoIXByb3BlcnR5LmxhdGl0dWRlIHx8ICFwcm9wZXJ0eS5sb25naXR1ZGUgfHwgXG4gICAgICAgICAgIHByb3BlcnR5LmxhdGl0dWRlID09PSAwIHx8IHByb3BlcnR5LmxvbmdpdHVkZSA9PT0gMCB8fFxuICAgICAgICAgICBwcm9wZXJ0eS5faXNfZ3JpZF9wYXR0ZXJuIHx8IHByb3BlcnR5Ll9uZWVkc19nZW9jb2RpbmcpICYmIFxuICAgICAgICAgICFwcm9wZXJ0eS5fZ2VvY29kaW5nX2ZhaWxlZFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBNYXBDb21wb25lbnQ6IEdlb2NvZGluZyBiYXRjaCBvZiAke2JhdGNoVG9HZW9jb2RlLmxlbmd0aH0gcHJvcGVydGllc2ApO1xuICAgICAgXG4gICAgICAvLyBVc2UgZW5oYW5jZWQgZ2VvY29kaW5nIHdpdGggbXVsdGlwbGUgbWV0aG9kcyAoZml4ZWQgUHJvbWlzZSBoYW5kbGluZylcbiAgICAgIGlmIChiYXRjaFRvR2VvY29kZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQ2FsbCB0aGUgZ2VvY29kaW5nIGZ1bmN0aW9uLCBidXQgZG9uJ3QgcmVseSBvbiBpdHMgZGlyZWN0IHJldHVybiB0eXBlXG4gICAgICAgICAgY29uc3QgZ2VvY29kZVJlc3VsdCA9IGVuaGFuY2VkR2VvY29kZVByb3BlcnRpZXMoYmF0Y2hUb0dlb2NvZGUpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVzZSBhIHNhZmVyIGFwcHJvYWNoIC0gY3JlYXRlIGEgUHJvbWlzZSB0aGF0IHdpbGwgaGFuZGxlIHRoZSByZXN1bHQgYXBwcm9wcmlhdGVseVxuICAgICAgICAgIFByb21pc2UucmVzb2x2ZShnZW9jb2RlUmVzdWx0KVxuICAgICAgICAgICAgLnRoZW4oZ2VvY29kZWRQcm9wZXJ0aWVzID0+IHtcbiAgICAgICAgICAgICAgLy8gU2FmZXR5IGNoZWNrIHRoYXQgd2UgZ290IGFuIGFycmF5IG9mIHByb3BlcnRpZXMgYmFja1xuICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ2VvY29kZWRQcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignR2VvY29kaW5nIGRpZCBub3QgcmV0dXJuIGFuIGFycmF5IG9mIHByb3BlcnRpZXMnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ291bnQgaG93IG1hbnkgd2VyZSBzdWNjZXNzZnVsbHkgZ2VvY29kZWRcbiAgICAgICAgICAgICAgY29uc3QgbmV3bHlHZW9jb2RlZENvdW50ID0gZ2VvY29kZWRQcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAuX2dlb2NvZGVkKS5sZW5ndGg7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTWFwQ29tcG9uZW50OiBTdWNjZXNzZnVsbHkgZ2VvY29kZWQgJHtuZXdseUdlb2NvZGVkQ291bnR9IHByb3BlcnRpZXNgKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIE1lcmdlIGdlb2NvZGVkIHByb3BlcnRpZXMgd2l0aCBleGlzdGluZyBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9wZXJ0aWVzID0gWy4uLnByb3BlcnRpZXNdO1xuICAgICAgICAgICAgICBnZW9jb2RlZFByb3BlcnRpZXMuZm9yRWFjaChnZW9jb2RlZFByb3BlcnR5ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHVwZGF0ZWRQcm9wZXJ0aWVzLmZpbmRJbmRleChwID0+IHAuaWQgPT09IGdlb2NvZGVkUHJvcGVydHkuaWQpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRQcm9wZXJ0aWVzW2luZGV4XSA9IGdlb2NvZGVkUHJvcGVydHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHNldFByb2Nlc3NlZFByb3BlcnRpZXModXBkYXRlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICBzZXRHZW9jb2RpbmdTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGlzR2VvY29kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb3VudDogbmV3bHlHZW9jb2RlZENvdW50LFxuICAgICAgICAgICAgICAgIHRvdGFsOiBiYXRjaFRvR2VvY29kZS5sZW5ndGhcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VvY29kaW5nIHByb3BlcnRpZXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgICBzZXRHZW9jb2RpbmdTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGlzR2VvY29kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICB0b3RhbDogYmF0Y2hUb0dlb2NvZGUubGVuZ3RoXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhdGluZyBnZW9jb2Rpbmc6JywgZXJyb3IpO1xuICAgICAgICAgIHNldEdlb2NvZGluZ1N0YXR1cyh7XG4gICAgICAgICAgICBpc0dlb2NvZGluZzogZmFsc2UsXG4gICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgIHRvdGFsOiBiYXRjaFRvR2VvY29kZS5sZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8gcHJvcGVydGllcyB0byBnZW9jb2RlXG4gICAgICAgIHNldEdlb2NvZGluZ1N0YXR1cyh7XG4gICAgICAgICAgaXNHZW9jb2Rpbmc6IGZhbHNlLFxuICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgIHRvdGFsOiAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3Byb3BlcnRpZXMsIGdlb2NvZGluZ1N0YXR1cy5pc0dlb2NvZGluZ10pO1xuICBcbiAgLy8gU2V0dXAgZGVmYXVsdCBtYXJrZXIgaWNvbnNcbiAgTC5NYXJrZXIucHJvdG90eXBlLm9wdGlvbnMuaWNvbiA9IEwuaWNvbih7XG4gICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItYmx1ZS5wbmcnLFxuICAgIGljb25TaXplOiBbMjUsIDQxXSxcbiAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgc2hhZG93U2l6ZTogWzQxLCA0MV1cbiAgfSk7XG5cbiAgLy8gQWRkIGhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIHJpZ2h0IG1hcmtlciBpY29uIGJhc2VkIG9uIHByb3BlcnR5IHN0YXR1cyBhbmQgcHJpY2VcbiAgY29uc3QgZ2V0TWFya2VySWNvbiA9IChwcm9wZXJ0eTogUHJvcGVydHkpID0+IHtcbiAgICAvLyBJZiB0aGUgcHJvcGVydHkgaGFzIHZlcmlmaWVkIGNvb3JkaW5hdGVzLCB1c2UgYSB2ZXJpZmllZCBpY29uXG4gICAgaWYgKHByb3BlcnR5LnZlcmlmaWVkX2FkZHJlc3MpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci12ZXJpZmllZC5wbmcnLFxuICAgICAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgdGhlIHByb3BlcnR5IGhhcyBjb29yZGluYXRlIGlzc3VlcywgdXNlIGEgd2FybmluZyBpY29uXG4gICAgaWYgKHByb3BlcnR5Ll9pc19ncmlkX3BhdHRlcm4gfHwgcHJvcGVydHkuX2lzX2ludmFsaWRfcmFuZ2UgfHwgXG4gICAgICAgIHByb3BlcnR5Ll9vdXRzaWRlX2F1c3RpbiB8fCBwcm9wZXJ0eS5fY29vcmRpbmF0ZXNfZnJvbV9yZXNlYXJjaCkge1xuICAgICAgcmV0dXJuIEwuaWNvbih7XG4gICAgICAgIGljb25Vcmw6ICcvaWNvbnMvbWFya2VyLXdhcm5pbmcucG5nJyxcbiAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEZvciB0ZXN0IHByb3BlcnRpZXNcbiAgICBpZiAocHJvcGVydHkuX2lzX3Rlc3RfcHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci10ZXN0LnBuZycsXG4gICAgICAgIGljb25TaXplOiBbMjUsIDQxXSxcbiAgICAgICAgaWNvbkFuY2hvcjogWzEyLCA0MV0sXG4gICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgICAgICAgc2hhZG93U2l6ZTogWzQxLCA0MV1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBGb3IgZ2VvY29kZWQgcHJvcGVydGllc1xuICAgIGlmIChwcm9wZXJ0eS5fZ2VvY29kZWQpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci1nZW9jb2RlZC5wbmcnLFxuICAgICAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ29sb3IgY29kZSBieSBwcmljZSByYW5nZSBpZiBwcmljZSBpcyBhdmFpbGFibGVcbiAgICBpZiAocHJvcGVydHkucHJpY2UpIHtcbiAgICAgIGNvbnN0IHByaWNlID0gcHJvcGVydHkucHJpY2U7XG4gICAgICBcbiAgICAgIC8vIFByZW1pdW0gcHJvcGVydGllcyAoPiQyME0pXG4gICAgICBpZiAocHJpY2UgPj0gMjAwMDAwMDApIHtcbiAgICAgICAgcmV0dXJuIEwuaWNvbih7XG4gICAgICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItcHVycGxlLnBuZycsXG4gICAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSGlnaC12YWx1ZSBwcm9wZXJ0aWVzICgkMTBNLSQyME0pXG4gICAgICBpZiAocHJpY2UgPj0gMTAwMDAwMDApIHtcbiAgICAgICAgcmV0dXJuIEwuaWNvbih7XG4gICAgICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItZGFyay1ibHVlLnBuZycsXG4gICAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTWlkLWhpZ2ggcHJvcGVydGllcyAoJDVNLSQxME0pXG4gICAgICBpZiAocHJpY2UgPj0gNTAwMDAwMCkge1xuICAgICAgICByZXR1cm4gTC5pY29uKHtcbiAgICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci1ibHVlLnBuZycsXG4gICAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTWVkaXVtIHByb3BlcnRpZXMgKCQxTS0kNU0pXG4gICAgICBpZiAocHJpY2UgPj0gMTAwMDAwMCkge1xuICAgICAgICByZXR1cm4gTC5pY29uKHtcbiAgICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci1ncmVlbi5wbmcnLFxuICAgICAgICAgIGljb25TaXplOiBbMjUsIDQxXSxcbiAgICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgICAgc2hhZG93U2l6ZTogWzQxLCA0MV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFmZm9yZGFibGUgcHJvcGVydGllcyAoPCQxTSlcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci15ZWxsb3cucG5nJyxcbiAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIERlZmF1bHQgbWFya2VyIGljb25zIGJhc2VkIG9uIHN0YXR1cyBpZiBubyBwcmljZVxuICAgIGNvbnN0IHN0YXR1cyA9IHByb3BlcnR5LnN0YXR1cz8udG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgICBpZiAoc3RhdHVzID09PSAnYWN0aXZlJyB8fCBzdGF0dXMgPT09ICdsaXN0ZWQnIHx8IHN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgfHwgc3RhdHVzID09PSAnYWN0aXZlbHkgbWFya2V0ZWQnKSB7XG4gICAgICByZXR1cm4gTC5pY29uKHtcbiAgICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItZ3JlZW4ucG5nJyxcbiAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMuaW5jbHVkZXMoJ2NvbnRyYWN0JykgfHwgc3RhdHVzLmluY2x1ZGVzKCdwZW5kaW5nJykpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci15ZWxsb3cucG5nJyxcbiAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMuaW5jbHVkZXMoJ3NvbGQnKSkge1xuICAgICAgcmV0dXJuIEwuaWNvbih7XG4gICAgICAgIGljb25Vcmw6ICcvaWNvbnMvbWFya2VyLXJlZC5wbmcnLFxuICAgICAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGVmYXVsdCBmYWxsYmFja1xuICAgIHJldHVybiBMLmljb24oe1xuICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItYmx1ZS5wbmcnLFxuICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgaWNvbkFuY2hvcjogWzEyLCA0MV0sXG4gICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIEZvcm1hdCBwcmljZSBhcyAkWC5YTVxuICBjb25zdCBmb3JtYXRQcmljZSA9IChwcmljZTogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCFwcmljZSkgcmV0dXJuICdQcmljZSBub3QgYXZhaWxhYmxlJztcbiAgICBpZiAocHJpY2UgPj0gMTAwMDAwMCkge1xuICAgICAgcmV0dXJuIGAkJHsocHJpY2UgLyAxMDAwMDAwKS50b0ZpeGVkKDEpfU1gO1xuICAgIH1cbiAgICByZXR1cm4gYCQkeyhwcmljZSAvIDEwMDApLnRvRml4ZWQoMCl9S2A7XG4gIH07XG5cbiAgLy8gRm9ybWF0IHByaWNlIHBlciB1bml0XG4gIGNvbnN0IGZvcm1hdFByaWNlUGVyVW5pdCA9IChwcmljZTogbnVtYmVyIHwgdW5kZWZpbmVkLCB1bml0czogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCFwcmljZSB8fCAhdW5pdHMgfHwgdW5pdHMgPT09IDApIHJldHVybiAnTi9BJztcbiAgICByZXR1cm4gYCQke01hdGgucm91bmQocHJpY2UgLyB1bml0cykudG9Mb2NhbGVTdHJpbmcoKX0vdW5pdGA7XG4gIH07XG5cbiAgLy8gQWRkIGNvZGUgdG8gY2hlY2sgY29vcmRpbmF0ZXMgYW5kIGZpbHRlciBvdXQgaW52YWxpZCBvbmVzXG4gIGNvbnN0IHZhbGlkUHJvcGVydGllcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghcHJvcGVydGllcyB8fCAhQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICAvLyBNT0RJRklFRDogVXNlIG11Y2ggbGVzcyBzdHJpY3QgZmlsdGVyaW5nIHRvIHNob3cgbW9yZSBwcm9wZXJ0aWVzXG4gICAgcmV0dXJuIHByb3BlcnRpZXMuZmlsdGVyKHByb3BlcnR5ID0+IHtcbiAgICAgIC8vIFdlIG5lZWQgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSB0byBiZSBkZWZpbmVkXG4gICAgICBpZiAoIXByb3BlcnR5IHx8IHByb3BlcnR5LmxhdGl0dWRlID09PSB1bmRlZmluZWQgfHwgcHJvcGVydHkubG9uZ2l0dWRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IHN0cmluZyBjb29yZGluYXRlcyB0byBudW1iZXJzIGlmIG5lZWRlZFxuICAgICAgY29uc3QgbGF0ID0gdHlwZW9mIHByb3BlcnR5LmxhdGl0dWRlID09PSAnbnVtYmVyJyA/IHByb3BlcnR5LmxhdGl0dWRlIDogcGFyc2VGbG9hdChTdHJpbmcocHJvcGVydHkubGF0aXR1ZGUpKTtcbiAgICAgIGNvbnN0IGxuZyA9IHR5cGVvZiBwcm9wZXJ0eS5sb25naXR1ZGUgPT09ICdudW1iZXInID8gcHJvcGVydHkubG9uZ2l0dWRlIDogcGFyc2VGbG9hdChTdHJpbmcocHJvcGVydHkubG9uZ2l0dWRlKSk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGNvb3JkaW5hdGVzIGFyZSB2YWxpZCBudW1iZXJzXG4gICAgICBpZiAoaXNOYU4obGF0KSB8fCBpc05hTihsbmcpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gT25seSBleGNsdWRlIGNvb3JkaW5hdGVzIHRoYXQgYXJlIGV4YWN0bHkgemVybyAoYXMgdGhlc2UgYXJlIGxpa2VseSBwbGFjZWhvbGRlciBkYXRhKVxuICAgICAgLy8gVGhpcyBhbGxvd3MgZm9yIGNvb3JkaW5hdGVzIG5lYXIgemVybyBidXQgbm90IGV4YWN0bHkgemVyb1xuICAgICAgaWYgKGxhdCA9PT0gMCAmJiBsbmcgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiBjb29yZGluYXRlcyBhcmUgd2l0aGluIHJlYXNvbmFibGUgZ2xvYmFsIHJhbmdlc1xuICAgICAgaWYgKGxhdCA8IC05MCB8fCBsYXQgPiA5MCB8fCBsbmcgPCAtMTgwIHx8IGxuZyA+IDE4MCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIEluY2x1ZGUgYWxsIHZhbGlkIHByb3BlcnRpZXMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZXkncmUgaW4gQXVzdGluXG4gICAgICAvLyBJbmNsdWRlIHByb3BlcnRpZXMgZXZlbiBpZiB0aGV5IGhhdmUgZ3JpZCBwYXR0ZXJucyBvciBhcmUgZnJvbSByZXNlYXJjaFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH0sIFtwcm9wZXJ0aWVzXSk7XG4gIFxuICAvLyBDaGVjayBpZiBwcm9wZXJ0eSBoYXMgdmFsaWQgY29vcmRpbmF0ZXMgLSBNT0RJRklFRCB0byBiZSBtdWNoIGxlc3Mgc3RyaWN0XG4gIGNvbnN0IGhhc1ZhbGlkQ29vcmRpbmF0ZXMgPSAocHJvcGVydHk6IFByb3BlcnR5KTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKCFwcm9wZXJ0eSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIC8vIEJhc2ljIGV4aXN0ZW5jZSBjaGVja3NcbiAgICBpZiAocHJvcGVydHkubGF0aXR1ZGUgPT09IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS5sb25naXR1ZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIC8vIENvbnZlcnQgdG8gbnVtYmVycyBpZiBuZWVkZWRcbiAgICBjb25zdCBsYXQgPSB0eXBlb2YgcHJvcGVydHkubGF0aXR1ZGUgPT09ICdudW1iZXInID8gcHJvcGVydHkubGF0aXR1ZGUgOiBwYXJzZUZsb2F0KFN0cmluZyhwcm9wZXJ0eS5sYXRpdHVkZSkpO1xuICAgIGNvbnN0IGxuZyA9IHR5cGVvZiBwcm9wZXJ0eS5sb25naXR1ZGUgPT09ICdudW1iZXInID8gcHJvcGVydHkubG9uZ2l0dWRlIDogcGFyc2VGbG9hdChTdHJpbmcocHJvcGVydHkubG9uZ2l0dWRlKSk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIE5hTlxuICAgIGlmIChpc05hTihsYXQpIHx8IGlzTmFOKGxuZykpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgemVybyB2YWx1ZXMgKG9mdGVuIGRlZmF1bHQpXG4gICAgaWYgKGxhdCA9PT0gMCAmJiBsbmcgPT09IDApIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgcmVhc29uYWJsZSBjb29yZGluYXRlIHJhbmdlc1xuICAgIGlmIChsYXQgPCAtOTAgfHwgbGF0ID4gOTAgfHwgbG5nIDwgLTE4MCB8fCBsbmcgPiAxODApIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBEb24ndCBmaWx0ZXIgb3V0IHByb3BlcnRpZXMgYmFzZWQgb24gbG9jYXRpb24gb3IgZGF0YSBzb3VyY2VcbiAgICAvLyBJbmNsdWRlIHByb3BlcnRpZXMgd2l0aCBfaXNfZ3JpZF9wYXR0ZXJuIGFuZCBfY29vcmRpbmF0ZXNfZnJvbV9yZXNlYXJjaFxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBcbiAgLy8gR2V0IHByb3BlcnRpZXMgd2l0aCB2YWxpZCBjb29yZGluYXRlcyAtIE1PRElGSUVEIHRvIGRpcmVjdGx5IHVzZSB2YWxpZFByb3BlcnRpZXNcbiAgY29uc3QgcHJvcGVydGllc1dpdGhDb29yZGluYXRlcyA9IHZhbGlkUHJvcGVydGllcztcblxuICAvLyBBZGQgZmlsdGVyIGxvZ2ljIGZvciBwcm9wZXJ0aWVzXG4gIGNvbnN0IGZpbHRlcmVkUHJvcGVydGllcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIExvZyB0aGUgbnVtYmVyIG9mIHZhbGlkIHByb3BlcnRpZXNcbiAgICBjb25zb2xlLmxvZyhgVmFsaWQgcHJvcGVydGllcyBiZWZvcmUgZmlsdGVyaW5nOiAke3ZhbGlkUHJvcGVydGllcy5sZW5ndGh9IG9mICR7cHJvcGVydGllcz8ubGVuZ3RoIHx8IDB9YCk7XG4gICAgXG4gICAgLy8gQ291bnQgcHJvcGVydGllcyBieSBzb21lIGtleSBhdHRyaWJ1dGVzXG4gICAgY29uc3QgcHJvcGVydGllc1dpdGhSZXNlYXJjaENvb3JkcyA9IHZhbGlkUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLl9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoKS5sZW5ndGg7XG4gICAgY29uc3QgcHJvcGVydGllc1dpdGhHcmlkUGF0dGVybiA9IHZhbGlkUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLl9pc19ncmlkX3BhdHRlcm4pLmxlbmd0aDtcbiAgICBjb25zb2xlLmxvZyhgUHJvcGVydGllcyB3aXRoIHJlc2VhcmNoIGNvb3JkaW5hdGVzOiAke3Byb3BlcnRpZXNXaXRoUmVzZWFyY2hDb29yZHN9YCk7XG4gICAgY29uc29sZS5sb2coYFByb3BlcnRpZXMgd2l0aCBncmlkIHBhdHRlcm46ICR7cHJvcGVydGllc1dpdGhHcmlkUGF0dGVybn1gKTtcbiAgICBcbiAgICAvLyBBcHBseSBsZXNzIHN0cmljdCBmaWx0ZXJpbmcgdG8gc2hvdyBtb3JlIHByb3BlcnRpZXMgb24gdGhlIG1hcFxuICAgIHJldHVybiB2YWxpZFByb3BlcnRpZXMuZmlsdGVyKHByb3BlcnR5ID0+IHtcbiAgICAgIC8vIEZpbHRlciBieSBwcmljZSBmb3IgcHJlbWl1bSBwcm9wZXJ0aWVzIChvdmVyICQxME0pXG4gICAgICBpZiAocHJvcGVydHkucHJpY2UgJiYgcHJvcGVydHkucHJpY2UgPj0gMTAwMDAwMDApIHtcbiAgICAgICAgaWYgKCFtYXBGaWx0ZXJzLnNob3dQcmVtaXVtKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZpbHRlciBieSBzdGF0dXNcbiAgICAgIGNvbnN0IHN0YXR1cyA9IChwcm9wZXJ0eS5zdGF0dXMgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBcbiAgICAgIGlmIChzdGF0dXMuaW5jbHVkZXMoJ2NvbnRyYWN0JykgfHwgc3RhdHVzLmluY2x1ZGVzKCdwZW5kaW5nJykpIHtcbiAgICAgICAgcmV0dXJuIG1hcEZpbHRlcnMuc2hvd1VuZGVyQ29udHJhY3Q7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1cy5pbmNsdWRlcygnc29sZCcpKSB7XG4gICAgICAgIHJldHVybiBtYXBGaWx0ZXJzLnNob3dTb2xkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXZhaWxhYmxlLCBsaXN0ZWQsIGV0Yy5cbiAgICAgICAgcmV0dXJuIG1hcEZpbHRlcnMuc2hvd0F2YWlsYWJsZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW3ZhbGlkUHJvcGVydGllcywgbWFwRmlsdGVycywgcHJvcGVydGllcz8ubGVuZ3RoXSk7XG4gIFxuICAvLyBOZXcgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlcmUgYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgYXQgdGhlIHNhbWUgbG9jYXRpb25cbiAgY29uc3QgZmluZFByb3BlcnRpZXNBdFNhbWVMb2NhdGlvbiA9ICh0YXJnZXRQcm9wZXJ0eTogUHJvcGVydHkpID0+IHtcbiAgICBpZiAoIXRhcmdldFByb3BlcnR5IHx8ICF0YXJnZXRQcm9wZXJ0eS5sYXRpdHVkZSB8fCAhdGFyZ2V0UHJvcGVydHkubG9uZ2l0dWRlKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGxhdCA9IHRhcmdldFByb3BlcnR5LmxhdGl0dWRlO1xuICAgIGNvbnN0IGxuZyA9IHRhcmdldFByb3BlcnR5LmxvbmdpdHVkZTtcbiAgICBcbiAgICAvLyBGaW5kIHByb3BlcnRpZXMgdGhhdCBoYXZlIHRoZSBleGFjdCBzYW1lIGNvb3JkaW5hdGVzICh1c2luZyBleGFjdCBtYXRjaClcbiAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBmb3IgcHJvcGVydGllcyB0aGF0IGhhdmUgZXhhY3RseSB0aGUgc2FtZSBjb29yZGluYXRlc1xuICAgIHJldHVybiBmaWx0ZXJlZFByb3BlcnRpZXMuZmlsdGVyKHAgPT4gXG4gICAgICBwLmlkICE9PSB0YXJnZXRQcm9wZXJ0eS5pZCAmJiBcbiAgICAgIHAubGF0aXR1ZGUgPT09IGxhdCAmJiBcbiAgICAgIHAubG9uZ2l0dWRlID09PSBsbmdcbiAgICApO1xuICB9O1xuXG4gIC8vIERlYnVnIHRoZSBudW1iZXIgb2YgcHJvcGVydGllcyBhdCB0aGUgc2FtZSBsb2NhdGlvbnMgLSB1c2VmdWwgZm9yIHVuZGVyc3RhbmRpbmcgY2x1c3RlcmluZyBpc3N1ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIENvdW50IGhvdyBtYW55IHByb3BlcnRpZXMgYXJlIGF0IHRoZSBzYW1lIGNvb3JkaW5hdGVzIGFzIG90aGVyc1xuICAgIGxldCBzYW1lTG9jYXRpb25Db3VudCA9IDA7XG4gICAgY29uc3QgY2hlY2tlZElkcyA9IG5ldyBTZXQ8c3RyaW5nIHwgbnVtYmVyPigpO1xuICAgIFxuICAgIGZpbHRlcmVkUHJvcGVydGllcy5mb3JFYWNoKHByb3BlcnR5ID0+IHtcbiAgICAgIGlmIChjaGVja2VkSWRzLmhhcyhwcm9wZXJ0eS5pZCkpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3Qgc2FtZUxvY2F0aW9uUHJvcHMgPSBmaW5kUHJvcGVydGllc0F0U2FtZUxvY2F0aW9uKHByb3BlcnR5KTtcbiAgICAgIGlmIChzYW1lTG9jYXRpb25Qcm9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNhbWVMb2NhdGlvbkNvdW50ICs9IHNhbWVMb2NhdGlvblByb3BzLmxlbmd0aCArIDE7IC8vIEluY2x1ZGUgdGhlIGN1cnJlbnQgcHJvcGVydHlcbiAgICAgICAgXG4gICAgICAgIC8vIE1hcmsgYWxsIHRoZXNlIHByb3BlcnRpZXMgYXMgY2hlY2tlZFxuICAgICAgICBjaGVja2VkSWRzLmFkZChwcm9wZXJ0eS5pZCk7XG4gICAgICAgIHNhbWVMb2NhdGlvblByb3BzLmZvckVhY2gocCA9PiBjaGVja2VkSWRzLmFkZChwLmlkKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBMb2cgdGhlIGZpcnN0IGZldyBpbnN0YW5jZXMgb2YgZXhhY3QtY29vcmRpbmF0ZSBwcm9wZXJ0aWVzIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgaWYgKGNoZWNrZWRJZHMuc2l6ZSA8IDIwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7c2FtZUxvY2F0aW9uUHJvcHMubGVuZ3RoICsgMX0gcHJvcGVydGllcyBhdCB0aGUgc2FtZSBsb2NhdGlvbjogJHtwcm9wZXJ0eS5sYXRpdHVkZX0sICR7cHJvcGVydHkubG9uZ2l0dWRlfWApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGAgIEZpcnN0IHByb3BlcnR5OiAke3Byb3BlcnR5Lm5hbWUgfHwgcHJvcGVydHkuaWR9YCk7XG4gICAgICAgICAgc2FtZUxvY2F0aW9uUHJvcHMuc2xpY2UoMCwgMykuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIE90aGVyIHByb3BlcnR5OiAke3AubmFtZSB8fCBwLmlkfWApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChzYW1lTG9jYXRpb25Qcm9wcy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgICAuLi5hbmQgJHtzYW1lTG9jYXRpb25Qcm9wcy5sZW5ndGggLSAzfSBtb3JlYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYFRvdGFsIHByb3BlcnRpZXMgYXQgdGhlIHNhbWUgbG9jYXRpb25zOiAke3NhbWVMb2NhdGlvbkNvdW50fSAoJHtNYXRoLnJvdW5kKHNhbWVMb2NhdGlvbkNvdW50L2ZpbHRlcmVkUHJvcGVydGllcy5sZW5ndGgqMTAwKX0lIG9mIGFsbCBkaXNwbGF5ZWQgcHJvcGVydGllcylgKTtcbiAgICBcbiAgfSwgW2ZpbHRlcmVkUHJvcGVydGllc10pO1xuXG4gIC8vIEhhbmRsZSBtYXAgbG9hZCBzdWNjZXNzXG4gIGNvbnN0IGhhbmRsZU1hcExvYWQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0TWFwTG9hZGVkKHRydWUpO1xuICAgIHNldE1hcEVycm9yKG51bGwpO1xuICB9LCBbXSk7XG4gIFxuICAvLyBIYW5kbGUgbWFwIGxvYWQgZXJyb3JcbiAgY29uc3QgaGFuZGxlTWFwRXJyb3IgPSB1c2VDYWxsYmFjaygoZTogYW55KSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignTWFwIHRpbGUgbG9hZGluZyBlcnJvcjonLCBlKTtcbiAgICBzZXRNYXBFcnJvcignRmFpbGVkIHRvIGxvYWQgbWFwIHRpbGVzLiBVc2luZyBmYWxsYmFjayBtYXAgcHJvdmlkZXIuJyk7XG4gICAgLy8gQ29udGludWUgd2l0aCBPcGVuU3RyZWV0TWFwIGFzIGZhbGxiYWNrXG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgaC1mdWxsIHctZnVsbFwiPlxuICAgICAgey8qIFByb3BlcnR5IGNvdW50IGluZm9ybWF0aW9uIC0gRU5IQU5DRUQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IHJpZ2h0LTQgei0xMCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgc2hhZG93LW1kIHAtMiBweC0zIHRleHQtc21cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+XG4gICAgICAgICAgU2hvd2luZyB7ZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aH0gb2Yge3Byb3BlcnRpZXM/Lmxlbmd0aCB8fCAwfSBwcm9wZXJ0aWVzXG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7ZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aCA8IChwcm9wZXJ0aWVzPy5sZW5ndGggfHwgMCkgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICB7cHJvcGVydGllcz8ubGVuZ3RoIC0gZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aH0gcHJvcGVydGllcyBmaWx0ZXJlZCBvdXQgb3IgbGFja2luZyB2YWxpZCBjb29yZGluYXRlc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB7dmFsaWRQcm9wZXJ0aWVzLmxlbmd0aCA8IChwcm9wZXJ0aWVzPy5sZW5ndGggfHwgMCkgJiYgKFxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTEgdGV4dC1ibHVlLTUwMCBob3Zlcjp0ZXh0LWJsdWUtNzAwIGZvY3VzOm91dGxpbmUtbm9uZSB1bmRlcmxpbmVcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIENvdW50IGlzc3VlcyB3aXRoIGNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgICBjb25zdCBtaXNzaW5nQ29vcmRzID0gcHJvcGVydGllcz8uZmlsdGVyKHAgPT4gIXAubGF0aXR1ZGUgfHwgIXAubG9uZ2l0dWRlKS5sZW5ndGggfHwgMDtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHplcm9Db29yZHMgPSBwcm9wZXJ0aWVzPy5maWx0ZXIocCA9PiBwLmxhdGl0dWRlID09PSAwICYmIHAubG9uZ2l0dWRlID09PSAwKS5sZW5ndGggfHwgMDtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGludmFsaWRSYW5nZSA9IHByb3BlcnRpZXM/LmZpbHRlcihwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwLmxhdGl0dWRlIHx8ICFwLmxvbmdpdHVkZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXQgPSB0eXBlb2YgcC5sYXRpdHVkZSA9PT0gJ251bWJlcicgPyBwLmxhdGl0dWRlIDogcGFyc2VGbG9hdChTdHJpbmcocC5sYXRpdHVkZSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsbmcgPSB0eXBlb2YgcC5sb25naXR1ZGUgPT09ICdudW1iZXInID8gcC5sb25naXR1ZGUgOiBwYXJzZUZsb2F0KFN0cmluZyhwLmxvbmdpdHVkZSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGxhdCA8IC05MCB8fCBsYXQgPiA5MCB8fCBsbmcgPCAtMTgwIHx8IGxuZyA+IDE4MCk7XG4gICAgICAgICAgICAgICAgICB9KS5sZW5ndGggfHwgMDtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gRGlzcGxheSBhbiBhbGVydCB3aXRoIHRoZSBicmVha2Rvd25cbiAgICAgICAgICAgICAgICAgIGFsZXJ0KFxuICAgICAgICAgICAgICAgICAgICBgUHJvcGVydGllcyBub3Qgc2hvd24gb24gbWFwOlxcblxcbmAgK1xuICAgICAgICAgICAgICAgICAgICBgLSBNaXNzaW5nIGNvb3JkaW5hdGVzOiAke21pc3NpbmdDb29yZHN9XFxuYCArXG4gICAgICAgICAgICAgICAgICAgIGAtIFplcm8gY29vcmRpbmF0ZXM6ICR7emVyb0Nvb3Jkc31cXG5gICtcbiAgICAgICAgICAgICAgICAgICAgYC0gSW52YWxpZCBjb29yZGluYXRlIHJhbmdlOiAke2ludmFsaWRSYW5nZX1cXG5gICtcbiAgICAgICAgICAgICAgICAgICAgYC0gRmlsdGVyZWQgYnkgc3RhdHVzIG9yIHByaWNlOiAkeyhwcm9wZXJ0aWVzPy5sZW5ndGggfHwgMCkgLSB2YWxpZFByb3BlcnRpZXMubGVuZ3RoIC0gbWlzc2luZ0Nvb3JkcyAtIHplcm9Db29yZHMgLSBpbnZhbGlkUmFuZ2V9XFxuXFxuYCArXG4gICAgICAgICAgICAgICAgICAgIGBUbyBpbXByb3ZlIG1hcCBjb3ZlcmFnZSwgdHJ5IGdlb2NvZGluZyBwcm9wZXJ0aWVzIHdpdGggbWlzc2luZyBjb29yZGluYXRlcy5gXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAoZGV0YWlscylcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgey8qIEFkZCBhIG5vdGUgYWJvdXQgcHJvcGVydHkgY2x1c3RlcnMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5UaXA6PC9zcGFuPiBDbGljayBvbiBjbHVzdGVyZWQgbWFya2VycyB0byBleHBhbmQgdGhlbS4gTWFueSBwcm9wZXJ0aWVzIHNoYXJlIHRoZSBleGFjdCBzYW1lIGNvb3JkaW5hdGVzLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7LyogU2VhcmNoIGJveCAqL31cbiAgICAgIDxNYXBTZWFyY2ggcHJvcGVydGllcz17cHJvcGVydGllc30gb25Qcm9wZXJ0eVNlbGVjdD17c2V0U2VsZWN0ZWRQcm9wZXJ0eX0gLz5cbiAgICAgIFxuICAgICAgey8qIFF1aWNrIGZpbHRlciAqL31cbiAgICAgIDxNYXBGaWx0ZXIgb25GaWx0ZXJDaGFuZ2U9e3NldE1hcEZpbHRlcnN9IC8+XG4gICAgICBcbiAgICAgIHsvKiBNYXAgTGVnZW5kICovfVxuICAgICAgPE1hcExlZ2VuZCAvPlxuICAgICAgXG4gICAgICB7LyogR2VvY29kaW5nIHN0YXR1cyBpbmRpY2F0b3IgKi99XG4gICAgICB7Z2VvY29kaW5nU3RhdHVzLmlzR2VvY29kaW5nICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMTYgbGVmdC00IHotMTAgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy1tZCBwLTIgcHgtMyBmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtXCI+XG4gICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gaC00IHctNCBtci0yIHRleHQtYmx1ZS01MDBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8Y2lyY2xlIGNsYXNzTmFtZT1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiNFwiPjwvY2lyY2xlPlxuICAgICAgICAgICAgPHBhdGggY2xhc3NOYW1lPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LThWMEM1LjM3MyAwIDAgNS4zNzMgMCAxMmg0em0yIDUuMjkxQTcuOTYyIDcuOTYyIDAgMDE0IDEySDBjMCAzLjA0MiAxLjEzNSA1LjgyNCAzIDcuOTM4bDMtMi42NDd6XCI+PC9wYXRoPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDxzcGFuPkxvY2F0aW5nIHByb3BlcnRpZXMgb24gbWFwLi4uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBObyBwcm9wZXJ0aWVzIHdpdGggdmFsaWQgY29vcmRpbmF0ZXMgbWVzc2FnZSAqL31cbiAgICAgIHtmaWx0ZXJlZFByb3BlcnRpZXMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB6LTEwIHRvcC0xLzIgbGVmdC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHAtNCByb3VuZGVkLWxnIHNoYWRvdy1tZCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtOCB3LTggbXgtYXV0byBtYi0yIHRleHQtZ3JheS00MDBcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xNy42NTcgMTYuNjU3TDEzLjQxNCAyMC45YTEuOTk4IDEuOTk4IDAgMDEtMi44MjcgMGwtNC4yNDQtNC4yNDNhOCA4IDAgMTExMS4zMTQgMHpcIiAvPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE1IDExYTMgMyAwIDExLTYgMCAzIDMgMCAwMTYgMHpcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtbGdcIj5ObyBQcm9wZXJ0aWVzIE1hdGNoIEZpbHRlcnM8L2gzPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5UcnkgYWRqdXN0aW5nIHlvdXIgZmlsdGVycyB0byBzZWUgbW9yZSBwcm9wZXJ0aWVzLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICA8TWFwQ29udGFpbmVyIFxuICAgICAgICBjZW50ZXI9e2RlZmF1bHRDZW50ZXJ9IFxuICAgICAgICB6b29tPXtkZWZhdWx0Wm9vbX1cbiAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnMTAwJScsIHdpZHRoOiAnMTAwJScgfX1cbiAgICAgICAgem9vbUNvbnRyb2w9e2ZhbHNlfVxuICAgICAgICB3aGVuUmVhZHk9e2hhbmRsZU1hcExvYWR9XG4gICAgICA+XG4gICAgICAgIDxNYXBJbml0aWFsaXplciAvPlxuICAgICAgICBcbiAgICAgICAgey8qIFVzZSBNYXBib3ggaWYgdG9rZW4gaXMgcHJvdmlkZWQgYW5kIHZhbGlkLCBvdGhlcndpc2UgdXNlIE9wZW5TdHJlZXRNYXAgKi99XG4gICAgICAgIHtpc1ZhbGlkTWFwYm94VG9rZW4gPyAoXG4gICAgICAgICAgPFRpbGVMYXllclxuICAgICAgICAgICAgYXR0cmlidXRpb249J8KpIDxhIGhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL2Fib3V0L21hcHMvXCI+TWFwYm94PC9hPidcbiAgICAgICAgICAgIHVybD17YGh0dHBzOi8vYXBpLm1hcGJveC5jb20vc3R5bGVzL3YxL21hcGJveC9zdHJlZXRzLXYxMS90aWxlcy97en0ve3h9L3t5fT9hY2Nlc3NfdG9rZW49JHttYXBib3hUb2tlbkVudn1gfVxuICAgICAgICAgICAgdGlsZVNpemU9ezUxMn1cbiAgICAgICAgICAgIHpvb21PZmZzZXQ9ey0xfVxuICAgICAgICAgICAgZXZlbnRIYW5kbGVycz17e1xuICAgICAgICAgICAgICBlcnJvcjogaGFuZGxlTWFwRXJyb3JcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8VGlsZUxheWVyXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbj0nJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnXG4gICAgICAgICAgICB1cmw9XCJodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZ1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBTaG93IG1hcCBlcnJvciBpZiB0aGVyZSBpcyBvbmUgKi99XG4gICAgICAgIHttYXBFcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiBiZy1yZWQtMTAwIHRleHQtcmVkLTcwMCBweC00IHB5LTIgcm91bmRlZC1tZCBzaGFkb3ctbWQgei01MFwiPlxuICAgICAgICAgICAge21hcEVycm9yfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgey8qIE1hcCBtYXJrZXJzIGZvciBwcm9wZXJ0aWVzICovfVxuICAgICAgICB7ZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxDdXN0b21NYXJrZXJDbHVzdGVyR3JvdXBcbiAgICAgICAgICAgIC8vIFRoZXNlIHByb3BzIHdpbGwgYmUgbWVyZ2VkIHdpdGggdGhlIGVuaGFuY2VkIHByb3BzIGluIEN1c3RvbU1hcmtlckNsdXN0ZXJHcm91cFxuICAgICAgICAgICAgY2h1bmtlZExvYWRpbmc9e3RydWV9XG4gICAgICAgICAgICBzaG93Q292ZXJhZ2VPbkhvdmVyPXtmYWxzZX0gIC8vIERpc2FibGUgY292ZXJhZ2UgZGlzcGxheSB3aGljaCBjYW4gYmUgZGlzdHJhY3RpbmdcbiAgICAgICAgICAgIGRpc2FibGVDbHVzdGVyaW5nQXRab29tPXsxOH0gLy8gRGlzYWJsZSBjbHVzdGVyaW5nIGF0IG1heGltdW0gem9vbVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtmaWx0ZXJlZFByb3BlcnRpZXMubWFwKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgICAgICAgICAvLyBGaW5kIHByb3BlcnRpZXMgYXQgc2FtZSBsb2NhdGlvblxuICAgICAgICAgICAgICBjb25zdCBzYW1lTG9jYXRpb25Qcm9wZXJ0aWVzID0gZmluZFByb3BlcnRpZXNBdFNhbWVMb2NhdGlvbihwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgIGNvbnN0IGhhc011bHRpcGxlUHJvcGVydGllcyA9IHNhbWVMb2NhdGlvblByb3BlcnRpZXMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxNYXJrZXJcbiAgICAgICAgICAgICAgICBrZXk9e3Byb3BlcnR5LmlkfVxuICAgICAgICAgICAgICAgIHBvc2l0aW9uPXtbcHJvcGVydHkubGF0aXR1ZGUsIHByb3BlcnR5LmxvbmdpdHVkZV19XG4gICAgICAgICAgICAgICAgaWNvbj17Z2V0TWFya2VySWNvbihwcm9wZXJ0eSl9XG4gICAgICAgICAgICAgICAgZXZlbnRIYW5kbGVycz17e1xuICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgb3JpZ2luYWwgcHJvcGVydHkgaW4gdGhlIHByb3BlcnRpZXMgYXJyYXkgdG8gbWFrZSBzdXJlIHdlIGhhdmUgdGhlIGxhdGVzdCBkYXRhXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUHJvcGVydHkgPSBwcm9wZXJ0aWVzLmZpbmQocCA9PiBwLmlkID09PSBwcm9wZXJ0eS5pZCkgfHwgcHJvcGVydHk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUHJvcGVydHkob3JpZ2luYWxQcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8UG9wdXA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LVsyMjBweF1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnXCI+e3Byb3BlcnR5Lm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IHZlcmlmaWVkIGFkZHJlc3MgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2Ugc2hvdyByZWd1bGFyIGFkZHJlc3MgKi99XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7cHJvcGVydHkudmVyaWZpZWRfYWRkcmVzcyB8fCBwcm9wZXJ0eS5hZGRyZXNzfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogQWRkIHZlcmlmaWNhdGlvbiBzdGF0dXMgaW5kaWNhdG9yICovfVxuICAgICAgICAgICAgICAgICAgICB7cHJvcGVydHkudmVyaWZpZWRfYWRkcmVzcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyZWVuLTYwMCBmbGV4IGl0ZW1zLWNlbnRlciBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTMgdy0zIG1yLTFcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTE2LjcwNyA1LjI5M2ExIDEgMCAwMTAgMS40MTRsLTggOGExIDEgMCAwMS0xLjQxNCAwbC00LTRhMSAxIDAgMDExLjQxNC0xLjQxNEw4IDEyLjU4Nmw3LjI5My03LjI5M2ExIDEgMCAwMTEuNDE0IDEuNDE0TDEwIDExLjQxNGwxLjI5MyAxLjI5M2ExIDEgMCAwMDEuNDE0LTEuNDE0TDExLjQxNCAxMGwxLjI5My0xLjI5M2ExIDEgMCAwMC0xLjQxNC0xLjQxNEwxMCA4LjU4NiA4LjcwNyA3LjI5M3pcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICBWZXJpZmllZCB3aXRoIEdvb2dsZSBNYXBzXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IGdlb2NvZGluZyBzb3VyY2UgaW5mb3JtYXRpb24gKi99XG4gICAgICAgICAgICAgICAgICAgIHtwcm9wZXJ0eS5fZ2VvY29kaW5nX3NvdXJjZSAmJiAhcHJvcGVydHkudmVyaWZpZWRfYWRkcmVzcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJsdWUtNjAwIGZsZXggaXRlbXMtY2VudGVyIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtMyB3LTMgbXItMVwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNNS4wNSA0LjA1YTcgNyAwIDExOS45IDkuOUwxMCAxOC45bC00Ljk1LTQuOTVhNyA3IDAgMDEwLTkuOXpNMTAgMTFhMiAyIDAgMTAwLTQgMiAyIDAgMDAwIDR6XCIgY2xpcFJ1bGU9XCJldmVub2RkXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAge3Byb3BlcnR5Ll9nZW9jb2Rpbmdfc291cmNlID09PSAnZXhpc3RpbmcnICYmICdDb29yZGluYXRlcyBmcm9tIGRhdGFiYXNlJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wZXJ0eS5fZ2VvY29kaW5nX3NvdXJjZSA9PT0gJ3ZlcmlmaWVkX2FkZHJlc3MnICYmICdHZW9jb2RlZCBmcm9tIHZlcmlmaWVkIGFkZHJlc3MnfVxuICAgICAgICAgICAgICAgICAgICAgICAge3Byb3BlcnR5Ll9nZW9jb2Rpbmdfc291cmNlID09PSAnZnVsbF9hZGRyZXNzJyAmJiAnR2VvY29kZWQgZnJvbSBmdWxsIGFkZHJlc3MnfVxuICAgICAgICAgICAgICAgICAgICAgICAge3Byb3BlcnR5Ll9nZW9jb2Rpbmdfc291cmNlID09PSAncHJvcGVydHlfbmFtZScgJiYgJ0FwcHJveGltYXRlZCBmcm9tIHByb3BlcnR5IG5hbWUnfVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHshcHJvcGVydHkudmVyaWZpZWRfYWRkcmVzcyAmJiAhcHJvcGVydHkuX2dlb2NvZGluZ19zb3VyY2UgJiYgcHJvcGVydHkuZ2VvY29kZWRfYXQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTYwMCBmbGV4IGl0ZW1zLWNlbnRlciBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTMgdy0zIG1yLTFcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTUuMDUgNC4wNWE3IDcgMCAxMTkuOSA5LjlMMTAgMTguOWwtNC45NS00Ljk1YTcgNyAwIDAxMC05Ljl6TTEwIDExYTIgMiAwIDEwMC00IDIgMiAwIDAwMCA0elwiIGNsaXBSdWxlPVwiZXZlbm9kZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgIExvY2F0aW9uIGVzdGltYXRlZCBmcm9tIGFkZHJlc3NcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTEgbXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc21cIj5Vbml0czo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntwcm9wZXJ0eS5udW1fdW5pdHMgfHwgcHJvcGVydHkudW5pdHN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc21cIj5ZZWFyIEJ1aWx0Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3Byb3BlcnR5LnllYXJfYnVpbHQgfHwgJ04vQSd9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHB0LTIgYm9yZGVyLXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BweC0yIHB5LTEgcm91bmRlZC1mdWxsIHRleHQteHMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgfHwgcHJvcGVydHkuc3RhdHVzID09PSAnQWN0aXZlbHkgTWFya2V0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogcHJvcGVydHkuc3RhdHVzID09PSAndW5kZXJfY29udHJhY3QnIHx8IHByb3BlcnR5LnN0YXR1cyA9PT0gJ1VuZGVyIENvbnRyYWN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy15ZWxsb3ctMTAwIHRleHQteWVsbG93LTgwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXJlZC0xMDAgdGV4dC1yZWQtODAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wZXJ0eS5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IGxpbmsgdG8gcHJvcGVydHkgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlByb3BlcnR5IExpbms6IDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e2AvcHJvcGVydGllcy8ke3Byb3BlcnR5LmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnRleHQtYmx1ZS04MDAgaG92ZXI6dW5kZXJsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBWaWV3IERldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9Qb3B1cD5cbiAgICAgICAgICAgICAgPC9NYXJrZXI+XG4gICAgICAgICAgICApfSl9XG4gICAgICAgICAgPC9DdXN0b21NYXJrZXJDbHVzdGVyR3JvdXA+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogTWFwIGNvbnRyb2xsZXJzICovfVxuICAgICAgICA8TWFwUmVjZW50ZXIgc2VsZWN0ZWRQcm9wZXJ0eT17c2VsZWN0ZWRQcm9wZXJ0eX0gLz5cbiAgICAgICAge29uQm91bmRzQ2hhbmdlICYmIDxNYXBCb3VuZHNVcGRhdGVyIG9uQm91bmRzQ2hhbmdlPXtvbkJvdW5kc0NoYW5nZX0gLz59XG4gICAgICAgIFxuICAgICAgICB7LyogQWRkIFpvb21Db250cm9sIGluIHRvcC1yaWdodCAqL31cbiAgICAgICAgPFpvb21Db250cm9sIHBvc2l0aW9uPVwidG9wcmlnaHRcIiAvPlxuICAgICAgPC9NYXBDb250YWluZXI+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYXBDb21wb25lbnQ7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZU1lbW8iLCJ1c2VSZWYiLCJNYXBDb250YWluZXIiLCJUaWxlTGF5ZXIiLCJNYXJrZXIiLCJQb3B1cCIsInVzZU1hcCIsIlpvb21Db250cm9sIiwiTCIsImVuaGFuY2VkR2VvY29kZVByb3BlcnRpZXMiLCJDdXN0b21NYXJrZXJDbHVzdGVyR3JvdXAiLCJNYXBMZWdlbmQiLCJleHBhbmRlZCIsInNldEV4cGFuZGVkIiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsInN2ZyIsInhtbG5zIiwiZmlsbCIsInZpZXdCb3giLCJzdHJva2UiLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkIiwic3BhbiIsImJ1dHRvbiIsImNvbG9yIiwibGFiZWwiLCJ2YWx1ZSIsIm1hcCIsInJhbmdlIiwiaW5wdXQiLCJ0eXBlIiwic3RhdHVzIiwiTWFwSW5pdGlhbGl6ZXIiLCJJY29uIiwiRGVmYXVsdCIsInByb3RvdHlwZSIsIl9nZXRJY29uVXJsIiwibWVyZ2VPcHRpb25zIiwiaWNvblVybCIsImljb25SZXRpbmFVcmwiLCJzaGFkb3dVcmwiLCJlIiwiY29uc29sZSIsImVycm9yIiwiY3JlYXRlU3RhdHVzSWNvbiIsImljb25TaXplIiwiaWNvbkFuY2hvciIsInBvcHVwQW5jaG9yIiwic2hhZG93U2l6ZSIsInN0YXR1c0ljb25zIiwiTWFwUmVjZW50ZXIiLCJzZWxlY3RlZFByb3BlcnR5IiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJoYXNDb29yZGluYXRlcyIsImlzTm90WmVybyIsImZyb21SZXNlYXJjaCIsIl9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoIiwiaXNWYWxpZCIsIl9jb29yZGluYXRlc19taXNzaW5nIiwiX2lzX2dyaWRfcGF0dGVybiIsInNldFZpZXciLCJhbmltYXRlIiwiTWFwQm91bmRzVXBkYXRlciIsIm9uQm91bmRzQ2hhbmdlIiwibGFzdEJvdW5kcyIsInNldExhc3RCb3VuZHMiLCJoYXNCb3VuZHNDaGFuZ2VkU2lnbmlmaWNhbnRseSIsIm5ld0JvdW5kcyIsIm9sZEJvdW5kcyIsIm9sZEFyZWEiLCJub3J0aCIsInNvdXRoIiwiZWFzdCIsIndlc3QiLCJuZXdBcmVhIiwib2xkQ2VudGVyTGF0Iiwib2xkQ2VudGVyTG5nIiwibmV3Q2VudGVyTGF0IiwibmV3Q2VudGVyTG5nIiwiY2VudGVyU2hpZnQiLCJNYXRoIiwic3FydCIsInBvdyIsImFyZWFSYXRpbyIsIm1heCIsInVwZGF0ZUJvdW5kc1JlZiIsImJvdW5kcyIsImdldEJvdW5kcyIsImdldE5vcnRoIiwiZ2V0U291dGgiLCJnZXRFYXN0IiwiZ2V0V2VzdCIsImxvZyIsImluaXRpYWxUaW1lb3V0Iiwic2V0VGltZW91dCIsIm9uIiwiY2xlYXJUaW1lb3V0Iiwib2ZmIiwiTWFwRmlsdGVyIiwib25GaWx0ZXJDaGFuZ2UiLCJmaWx0ZXJzIiwic2V0RmlsdGVycyIsInNob3dQcmVtaXVtIiwic2hvd0F2YWlsYWJsZSIsInNob3dVbmRlckNvbnRyYWN0Iiwic2hvd1NvbGQiLCJoYW5kbGVGaWx0ZXJDaGFuZ2UiLCJrZXkiLCJuZXdGaWx0ZXJzIiwiY2hlY2tlZCIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwiTWFwU2VhcmNoIiwicHJvcGVydGllcyIsIm9uUHJvcGVydHlTZWxlY3QiLCJzZWFyY2hUZXJtIiwic2V0U2VhcmNoVGVybSIsInNob3dSZXN1bHRzIiwic2V0U2hvd1Jlc3VsdHMiLCJzZWFyY2hSZWYiLCJoYW5kbGVDbGlja091dHNpZGUiLCJldmVudCIsImN1cnJlbnQiLCJjb250YWlucyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTZWFyY2hDaGFuZ2UiLCJmaWx0ZXJlZFByb3BlcnRpZXMiLCJzZWFyY2hMb3dlciIsInRvTG93ZXJDYXNlIiwiZmlsdGVyIiwicHJvcGVydHkiLCJtYXRjaE5hbWUiLCJuYW1lIiwiaW5jbHVkZXMiLCJtYXRjaEFkZHJlc3MiLCJhZGRyZXNzIiwibWF0Y2hCcm9rZXIiLCJicm9rZXIiLCJzbGljZSIsImhhbmRsZVNlbGVjdCIsImZvcm1hdFByaWNlIiwicHJpY2UiLCJ0b0ZpeGVkIiwicmVmIiwicGxhY2Vob2xkZXIiLCJmaWxsUnVsZSIsImNsaXBSdWxlIiwibGVuZ3RoIiwiaW1hZ2VfdXJsIiwiaW1nIiwic3JjIiwiYWx0IiwidW5pdHMiLCJpZCIsIk1hcENvbXBvbmVudCIsInNldFNlbGVjdGVkUHJvcGVydHkiLCJtYXBib3hUb2tlbiIsInByb2Nlc3NlZFByb3BlcnRpZXMiLCJzZXRQcm9jZXNzZWRQcm9wZXJ0aWVzIiwiZ2VvY29kaW5nU3RhdHVzIiwic2V0R2VvY29kaW5nU3RhdHVzIiwiaXNHZW9jb2RpbmciLCJjb3VudCIsInRvdGFsIiwibWFwRmlsdGVycyIsInNldE1hcEZpbHRlcnMiLCJtYXBib3hUb2tlbkVudiIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19NQVBCT1hfVE9LRU4iLCJtYXBMb2FkZWQiLCJzZXRNYXBMb2FkZWQiLCJtYXBFcnJvciIsInNldE1hcEVycm9yIiwiaXNWYWxpZE1hcGJveFRva2VuIiwic3RhcnRzV2l0aCIsImRlZmF1bHRDZW50ZXIiLCJkZWZhdWx0Wm9vbSIsIkFycmF5IiwiaXNBcnJheSIsIndpdGhMYXQiLCJwIiwid2l0aExuZyIsIndpdGhCb3RoIiwidmFsaWROdW1iZXJzIiwibm9uWmVybyIsInBhc3Nlc1ZhbGlkYXRpb24iLCJoYXNWYWxpZENvb3JkaW5hdGVzIiwicHJvcGVydGllc1dpdGhDb29yZGluYXRlcyIsImJhdGNoVG9HZW9jb2RlIiwiX25lZWRzX2dlb2NvZGluZyIsIl9nZW9jb2RpbmdfZmFpbGVkIiwiZ2VvY29kZVJlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImdlb2NvZGVkUHJvcGVydGllcyIsIkVycm9yIiwibmV3bHlHZW9jb2RlZENvdW50IiwiX2dlb2NvZGVkIiwidXBkYXRlZFByb3BlcnRpZXMiLCJmb3JFYWNoIiwiZ2VvY29kZWRQcm9wZXJ0eSIsImluZGV4IiwiZmluZEluZGV4IiwiY2F0Y2giLCJvcHRpb25zIiwiaWNvbiIsImdldE1hcmtlckljb24iLCJ2ZXJpZmllZF9hZGRyZXNzIiwiX2lzX2ludmFsaWRfcmFuZ2UiLCJfb3V0c2lkZV9hdXN0aW4iLCJfaXNfdGVzdF9wcm9wZXJ0eSIsImZvcm1hdFByaWNlUGVyVW5pdCIsInJvdW5kIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWxpZFByb3BlcnRpZXMiLCJ1bmRlZmluZWQiLCJsYXQiLCJwYXJzZUZsb2F0IiwiU3RyaW5nIiwibG5nIiwiaXNOYU4iLCJwcm9wZXJ0aWVzV2l0aFJlc2VhcmNoQ29vcmRzIiwicHJvcGVydGllc1dpdGhHcmlkUGF0dGVybiIsImZpbmRQcm9wZXJ0aWVzQXRTYW1lTG9jYXRpb24iLCJ0YXJnZXRQcm9wZXJ0eSIsInNhbWVMb2NhdGlvbkNvdW50IiwiY2hlY2tlZElkcyIsIlNldCIsImhhcyIsInNhbWVMb2NhdGlvblByb3BzIiwiYWRkIiwic2l6ZSIsImhhbmRsZU1hcExvYWQiLCJoYW5kbGVNYXBFcnJvciIsIm1pc3NpbmdDb29yZHMiLCJ6ZXJvQ29vcmRzIiwiaW52YWxpZFJhbmdlIiwiYWxlcnQiLCJjaXJjbGUiLCJjeCIsImN5IiwiciIsImgzIiwiY2VudGVyIiwiem9vbSIsInN0eWxlIiwiaGVpZ2h0Iiwid2lkdGgiLCJ6b29tQ29udHJvbCIsIndoZW5SZWFkeSIsImF0dHJpYnV0aW9uIiwidXJsIiwidGlsZVNpemUiLCJ6b29tT2Zmc2V0IiwiZXZlbnRIYW5kbGVycyIsImNodW5rZWRMb2FkaW5nIiwic2hvd0NvdmVyYWdlT25Ib3ZlciIsImRpc2FibGVDbHVzdGVyaW5nQXRab29tIiwic2FtZUxvY2F0aW9uUHJvcGVydGllcyIsImhhc011bHRpcGxlUHJvcGVydGllcyIsInBvc2l0aW9uIiwiY2xpY2siLCJvcmlnaW5hbFByb3BlcnR5IiwiZmluZCIsIl9nZW9jb2Rpbmdfc291cmNlIiwiZ2VvY29kZWRfYXQiLCJudW1fdW5pdHMiLCJ5ZWFyX2J1aWx0IiwiYSIsImhyZWYiLCJyZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/MapComponent.tsx\n");

/***/ }),

/***/ "./src/components/map/CustomMarkerCluster.tsx":
/*!****************************************************!*\
  !*** ./src/components/map/CustomMarkerCluster.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_leaflet_cluster__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-leaflet-cluster */ \"react-leaflet-cluster\");\n/* harmony import */ var react_leaflet_cluster__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_leaflet_cluster__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! leaflet */ \"leaflet\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_3__);\n\n\n// @ts-ignore - to avoid TypeScript errors\n\n\n// This is a wrapper component around react-leaflet-cluster\n// We've patched the original module to remove CSS imports\n// The CSS is loaded in _app.js globally instead\nconst CustomMarkerClusterGroup = (props)=>{\n    // Enhanced props for better clustering behavior\n    const enhancedProps = {\n        ...props,\n        // Revert to default clustering radius for better grouping of nearby properties\n        maxClusterRadius: 40,\n        // Ensure clusters expand nicely when clicked\n        spiderfyOnMaxZoom: true,\n        // Makes the spider legs longer for better separation when many markers are at same point\n        spiderfyDistanceMultiplier: 3,\n        // This ensures properties at exact same coordinates are accessible when expanded\n        zoomToBoundsOnClick: true,\n        // Custom icon creation for clusters\n        iconCreateFunction: (cluster)=>{\n            const count = cluster.getChildCount();\n            let className = \"marker-cluster \";\n            // Add different classes based on the number of markers in the cluster\n            if (count < 5) {\n                className += \"marker-cluster-small\";\n            } else if (count < 15) {\n                className += \"marker-cluster-medium\";\n            } else {\n                className += \"marker-cluster-large\";\n            }\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().divIcon({\n                html: `<div><span>${count}</span></div>`,\n                className: className,\n                iconSize: leaflet__WEBPACK_IMPORTED_MODULE_3___default().point(40, 40)\n            });\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react_leaflet_cluster__WEBPACK_IMPORTED_MODULE_2___default()), {\n        ...enhancedProps\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/map/CustomMarkerCluster.tsx\",\n        lineNumber: 43,\n        columnNumber: 10\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CustomMarkerClusterGroup);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9tYXAvQ3VzdG9tTWFya2VyQ2x1c3Rlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEwQjtBQUMxQiwwQ0FBMEM7QUFDYTtBQUMvQjtBQUV4QiwyREFBMkQ7QUFDM0QsMERBQTBEO0FBQzFELGdEQUFnRDtBQUNoRCxNQUFNRywyQkFBMEMsQ0FBQ0M7SUFDL0MsZ0RBQWdEO0lBQ2hELE1BQU1DLGdCQUFnQjtRQUNwQixHQUFHRCxLQUFLO1FBQ1IsK0VBQStFO1FBQy9FRSxrQkFBa0I7UUFDbEIsNkNBQTZDO1FBQzdDQyxtQkFBbUI7UUFDbkIseUZBQXlGO1FBQ3pGQyw0QkFBNEI7UUFDNUIsaUZBQWlGO1FBQ2pGQyxxQkFBcUI7UUFDckIsb0NBQW9DO1FBQ3BDQyxvQkFBb0IsQ0FBQ0M7WUFDbkIsTUFBTUMsUUFBUUQsUUFBUUUsYUFBYTtZQUNuQyxJQUFJQyxZQUFZO1lBRWhCLHNFQUFzRTtZQUN0RSxJQUFJRixRQUFRLEdBQUc7Z0JBQ2JFLGFBQWE7WUFDZixPQUFPLElBQUlGLFFBQVEsSUFBSTtnQkFDckJFLGFBQWE7WUFDZixPQUFPO2dCQUNMQSxhQUFhO1lBQ2Y7WUFFQSxPQUFPWixzREFBUyxDQUFDO2dCQUNmYyxNQUFNLENBQUMsV0FBVyxFQUFFSixNQUFNLGFBQWEsQ0FBQztnQkFDeENFLFdBQVdBO2dCQUNYRyxVQUFVZixvREFBTyxDQUFDLElBQUk7WUFDeEI7UUFDRjtJQUNGO0lBRUEscUJBQU8sOERBQUNELDhEQUFrQkE7UUFBRSxHQUFHSSxhQUFhOzs7Ozs7QUFDOUM7QUFFQSxpRUFBZUYsd0JBQXdCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWNxdWlyZS1hcGFydG1lbnRzLy4vc3JjL2NvbXBvbmVudHMvbWFwL0N1c3RvbU1hcmtlckNsdXN0ZXIudHN4P2ZlY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0Jztcbi8vIEB0cy1pZ25vcmUgLSB0byBhdm9pZCBUeXBlU2NyaXB0IGVycm9yc1xuaW1wb3J0IE1hcmtlckNsdXN0ZXJHcm91cCBmcm9tICdyZWFjdC1sZWFmbGV0LWNsdXN0ZXInO1xuaW1wb3J0IEwgZnJvbSAnbGVhZmxldCc7XG5cbi8vIFRoaXMgaXMgYSB3cmFwcGVyIGNvbXBvbmVudCBhcm91bmQgcmVhY3QtbGVhZmxldC1jbHVzdGVyXG4vLyBXZSd2ZSBwYXRjaGVkIHRoZSBvcmlnaW5hbCBtb2R1bGUgdG8gcmVtb3ZlIENTUyBpbXBvcnRzXG4vLyBUaGUgQ1NTIGlzIGxvYWRlZCBpbiBfYXBwLmpzIGdsb2JhbGx5IGluc3RlYWRcbmNvbnN0IEN1c3RvbU1hcmtlckNsdXN0ZXJHcm91cDogUmVhY3QuRkM8YW55PiA9IChwcm9wcykgPT4ge1xuICAvLyBFbmhhbmNlZCBwcm9wcyBmb3IgYmV0dGVyIGNsdXN0ZXJpbmcgYmVoYXZpb3JcbiAgY29uc3QgZW5oYW5jZWRQcm9wcyA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICAvLyBSZXZlcnQgdG8gZGVmYXVsdCBjbHVzdGVyaW5nIHJhZGl1cyBmb3IgYmV0dGVyIGdyb3VwaW5nIG9mIG5lYXJieSBwcm9wZXJ0aWVzXG4gICAgbWF4Q2x1c3RlclJhZGl1czogNDAsXG4gICAgLy8gRW5zdXJlIGNsdXN0ZXJzIGV4cGFuZCBuaWNlbHkgd2hlbiBjbGlja2VkXG4gICAgc3BpZGVyZnlPbk1heFpvb206IHRydWUsXG4gICAgLy8gTWFrZXMgdGhlIHNwaWRlciBsZWdzIGxvbmdlciBmb3IgYmV0dGVyIHNlcGFyYXRpb24gd2hlbiBtYW55IG1hcmtlcnMgYXJlIGF0IHNhbWUgcG9pbnRcbiAgICBzcGlkZXJmeURpc3RhbmNlTXVsdGlwbGllcjogMyxcbiAgICAvLyBUaGlzIGVuc3VyZXMgcHJvcGVydGllcyBhdCBleGFjdCBzYW1lIGNvb3JkaW5hdGVzIGFyZSBhY2Nlc3NpYmxlIHdoZW4gZXhwYW5kZWRcbiAgICB6b29tVG9Cb3VuZHNPbkNsaWNrOiB0cnVlLFxuICAgIC8vIEN1c3RvbSBpY29uIGNyZWF0aW9uIGZvciBjbHVzdGVyc1xuICAgIGljb25DcmVhdGVGdW5jdGlvbjogKGNsdXN0ZXI6IGFueSkgPT4ge1xuICAgICAgY29uc3QgY291bnQgPSBjbHVzdGVyLmdldENoaWxkQ291bnQoKTtcbiAgICAgIGxldCBjbGFzc05hbWUgPSAnbWFya2VyLWNsdXN0ZXIgJztcbiAgICAgIFxuICAgICAgLy8gQWRkIGRpZmZlcmVudCBjbGFzc2VzIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgbWFya2VycyBpbiB0aGUgY2x1c3RlclxuICAgICAgaWYgKGNvdW50IDwgNSkge1xuICAgICAgICBjbGFzc05hbWUgKz0gJ21hcmtlci1jbHVzdGVyLXNtYWxsJztcbiAgICAgIH0gZWxzZSBpZiAoY291bnQgPCAxNSkge1xuICAgICAgICBjbGFzc05hbWUgKz0gJ21hcmtlci1jbHVzdGVyLW1lZGl1bSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGFzc05hbWUgKz0gJ21hcmtlci1jbHVzdGVyLWxhcmdlJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIEwuZGl2SWNvbih7XG4gICAgICAgIGh0bWw6IGA8ZGl2PjxzcGFuPiR7Y291bnR9PC9zcGFuPjwvZGl2PmAsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBpY29uU2l6ZTogTC5wb2ludCg0MCwgNDApXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIFxuICByZXR1cm4gPE1hcmtlckNsdXN0ZXJHcm91cCB7Li4uZW5oYW5jZWRQcm9wc30gLz47XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDdXN0b21NYXJrZXJDbHVzdGVyR3JvdXA7ICJdLCJuYW1lcyI6WyJSZWFjdCIsIk1hcmtlckNsdXN0ZXJHcm91cCIsIkwiLCJDdXN0b21NYXJrZXJDbHVzdGVyR3JvdXAiLCJwcm9wcyIsImVuaGFuY2VkUHJvcHMiLCJtYXhDbHVzdGVyUmFkaXVzIiwic3BpZGVyZnlPbk1heFpvb20iLCJzcGlkZXJmeURpc3RhbmNlTXVsdGlwbGllciIsInpvb21Ub0JvdW5kc09uQ2xpY2siLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJjbHVzdGVyIiwiY291bnQiLCJnZXRDaGlsZENvdW50IiwiY2xhc3NOYW1lIiwiZGl2SWNvbiIsImh0bWwiLCJpY29uU2l6ZSIsInBvaW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/map/CustomMarkerCluster.tsx\n");

/***/ })

};
;
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "src_components_MapComponent_tsx";
exports.ids = ["src_components_MapComponent_tsx"];
exports.modules = {

/***/ "./src/components/MapComponent.tsx":
/*!*****************************************!*\
  !*** ./src/components/MapComponent.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-leaflet */ \"react-leaflet\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! leaflet */ \"leaflet\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! leaflet/dist/leaflet.css */ \"./node_modules/leaflet/dist/leaflet.css\");\n/* harmony import */ var leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils_geocoding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/geocoding */ \"./src/utils/geocoding.ts\");\n/* harmony import */ var _map_CustomMarkerCluster__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./map/CustomMarkerCluster */ \"./src/components/map/CustomMarkerCluster.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_leaflet__WEBPACK_IMPORTED_MODULE_2__]);\nreact_leaflet__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n// MarkerCluster CSS is loaded in _app.js/tsx instead of here to avoid Next.js CSS import restrictions\n// Original import: import 'react-leaflet-cluster/lib/assets/MarkerCluster.Default.css';\n// Map Legend component to show what the different marker colors mean\nconst MapLegend = ()=>{\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"absolute bottom-4 left-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-3 py-2 font-semibold text-sm flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700\",\n                onClick: ()=>setExpanded(!expanded),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                className: \"h-5 w-5 mr-2 text-gray-600\",\n                                fill: \"none\",\n                                viewBox: \"0 0 24 24\",\n                                stroke: \"currentColor\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeWidth: 2,\n                                    d: \"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 23,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 22,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Legend & Filters\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 25,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 21,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        className: `h-5 w-5 transform transition-transform ${expanded ? \"rotate-180\" : \"\"}`,\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        stroke: \"currentColor\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            strokeWidth: 2,\n                            d: \"M19 9l-7 7-7-7\"\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 28,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 17,\n                columnNumber: 7\n            }, undefined),\n            expanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-3 py-2 border-t border-gray-200 dark:border-gray-700\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Price Range\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 37,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-primary hover:text-primary/80 text-xs\",\n                                        children: \"Reset\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 38,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 36,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    {\n                                        color: \"purple-500\",\n                                        label: \"Premium ($20M+)\",\n                                        value: \"premium\"\n                                    },\n                                    {\n                                        color: \"blue-800\",\n                                        label: \"High ($10M-$20M)\",\n                                        value: \"high\"\n                                    },\n                                    {\n                                        color: \"blue-500\",\n                                        label: \"Mid-High ($5M-$10M)\",\n                                        value: \"mid-high\"\n                                    },\n                                    {\n                                        color: \"green-500\",\n                                        label: \"Medium ($1M-$5M)\",\n                                        value: \"medium\"\n                                    },\n                                    {\n                                        color: \"yellow-500\",\n                                        label: \"Affordable (Under $1M)\",\n                                        value: \"affordable\"\n                                    }\n                                ].map((range)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center text-xs cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                className: \"form-checkbox h-3 w-3 text-primary rounded border-gray-300\",\n                                                value: range.value\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 49,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `w-3 h-3 rounded-full bg-${range.color} mx-2`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 54,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: range.label\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 55,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, range.value, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 48,\n                                        columnNumber: 17\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 40,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Status\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 64,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"text-primary hover:text-primary/80 text-xs\",\n                                        children: \"Reset\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 65,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 63,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    {\n                                        color: \"green-500\",\n                                        label: \"Available\",\n                                        value: \"available\"\n                                    },\n                                    {\n                                        color: \"yellow-500\",\n                                        label: \"Under Contract\",\n                                        value: \"under_contract\"\n                                    },\n                                    {\n                                        color: \"red-500\",\n                                        label: \"Sold\",\n                                        value: \"sold\"\n                                    }\n                                ].map((status)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center text-xs cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                className: \"form-checkbox h-3 w-3 text-primary rounded border-gray-300\",\n                                                value: status.value\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 74,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `w-3 h-3 rounded-full bg-${status.color} mx-2`\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 79,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: status.label\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 80,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, status.value, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 73,\n                                        columnNumber: 17\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 67,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 62,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2\",\n                                children: \"Additional Filters\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 88,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center text-xs cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                className: \"form-checkbox h-3 w-3 text-primary rounded border-gray-300\",\n                                                value: \"has_price\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 93,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-2\",\n                                                children: \"Has Price Listed\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 98,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 92,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center text-xs cursor-pointer\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                className: \"form-checkbox h-3 w-3 text-primary rounded border-gray-300\",\n                                                value: \"has_units\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 101,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-2\",\n                                                children: \"Has Unit Count\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 106,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 100,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 91,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 87,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 33,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n        lineNumber: 16,\n        columnNumber: 5\n    }, undefined);\n};\n// Component to handle map initialization effects\nconst MapInitializer = ()=>{\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Fix Leaflet marker icon issue in Next.js\n        try {\n            // @ts-ignore\n            delete (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon).Default.prototype._getIconUrl;\n            leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon.Default.mergeOptions({\n                iconUrl: \"/icons/marker-blue.png\",\n                iconRetinaUrl: \"/icons/marker-blue.png\",\n                shadowUrl: \"/icons/marker-shadow.png\"\n            });\n        } catch (e) {\n            console.error(\"Error fixing Leaflet icon issue:\", e);\n        }\n    }, []);\n    return null;\n};\n// Custom marker icons for different property statuses\nconst createStatusIcon = (color)=>new (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon)({\n        iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,\n        shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png\",\n        iconSize: [\n            25,\n            41\n        ],\n        iconAnchor: [\n            12,\n            41\n        ],\n        popupAnchor: [\n            1,\n            -34\n        ],\n        shadowSize: [\n            41,\n            41\n        ]\n    });\n// Status icon mapping\nconst statusIcons = {\n    \"available\": createStatusIcon(\"green\"),\n    \"pending\": createStatusIcon(\"yellow\"),\n    \"under_contract\": createStatusIcon(\"orange\"),\n    \"sold\": createStatusIcon(\"red\"),\n    \"Actively Marketed\": createStatusIcon(\"green\"),\n    \"Under Contract\": createStatusIcon(\"orange\"),\n    \"Sold\": createStatusIcon(\"red\"),\n    \"default\": new (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon).Default()\n};\n// Component to recenter map when selectedProperty changes\nconst MapRecenter = ({ selectedProperty })=>{\n    const map = (0,react_leaflet__WEBPACK_IMPORTED_MODULE_2__.useMap)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedProperty && selectedProperty.latitude && selectedProperty.longitude) {\n            // Check if coordinates are valid (either from research or regular valid coordinates)\n            const hasCoordinates = typeof selectedProperty.latitude === \"number\" && typeof selectedProperty.longitude === \"number\";\n            const isNotZero = !(selectedProperty.latitude === 0 && selectedProperty.longitude === 0);\n            const fromResearch = selectedProperty._coordinates_from_research === true;\n            const isValid = fromResearch || hasCoordinates && isNotZero && !selectedProperty._coordinates_missing && !selectedProperty._is_grid_pattern;\n            if (isValid) {\n                map.setView([\n                    selectedProperty.latitude,\n                    selectedProperty.longitude\n                ], 15, {\n                    animate: true\n                });\n            }\n        }\n    }, [\n        selectedProperty,\n        map\n    ]);\n    return null;\n};\n// Component to track map bounds for filtering\nconst MapBoundsUpdater = ({ onBoundsChange })=>{\n    const map = (0,react_leaflet__WEBPACK_IMPORTED_MODULE_2__.useMap)();\n    const [lastBounds, setLastBounds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Check if bounds have changed significantly to avoid too many reloads\n    const hasBoundsChangedSignificantly = (newBounds, oldBounds)=>{\n        if (!oldBounds) return true;\n        // Calculate area change ratio\n        const oldArea = (oldBounds.north - oldBounds.south) * (oldBounds.east - oldBounds.west);\n        const newArea = (newBounds.north - newBounds.south) * (newBounds.east - newBounds.west);\n        // Calculate center shift distance\n        const oldCenterLat = (oldBounds.north + oldBounds.south) / 2;\n        const oldCenterLng = (oldBounds.east + oldBounds.west) / 2;\n        const newCenterLat = (newBounds.north + newBounds.south) / 2;\n        const newCenterLng = (newBounds.east + newBounds.west) / 2;\n        const centerShift = Math.sqrt(Math.pow(newCenterLat - oldCenterLat, 2) + Math.pow(newCenterLng - oldCenterLng, 2));\n        // Determine if bounds have changed enough to trigger a reload\n        // Either the area has changed by 50% or more, or the center has shifted significantly\n        const areaRatio = Math.max(newArea / oldArea, oldArea / newArea);\n        return areaRatio > 1.5 || centerShift > 0.1;\n    };\n    const updateBoundsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const bounds = map.getBounds();\n        const newBounds = {\n            north: bounds.getNorth(),\n            south: bounds.getSouth(),\n            east: bounds.getEast(),\n            west: bounds.getWest()\n        };\n        // Check if bounds have changed significantly\n        if (hasBoundsChangedSignificantly(newBounds, lastBounds)) {\n            console.log(\"Map bounds changed significantly, triggering update\");\n            setLastBounds(newBounds);\n            onBoundsChange(newBounds);\n        }\n    }, [\n        map,\n        onBoundsChange,\n        lastBounds\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only run the initial update after a slight delay to ensure the map is fully loaded\n        const initialTimeout = setTimeout(()=>{\n            updateBoundsRef();\n        }, 500);\n        // Add event listeners\n        map.on(\"moveend\", updateBoundsRef);\n        map.on(\"zoomend\", updateBoundsRef);\n        // Cleanup listeners and timeout\n        return ()=>{\n            clearTimeout(initialTimeout);\n            map.off(\"moveend\", updateBoundsRef);\n            map.off(\"zoomend\", updateBoundsRef);\n        };\n    }, [\n        map,\n        updateBoundsRef\n    ]);\n    return null;\n};\n// Add a simple filter component for the map\nconst MapFilter = ({ onFilterChange })=>{\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        showPremium: true,\n        showAvailable: true,\n        showUnderContract: true,\n        showSold: true\n    });\n    const handleFilterChange = (key, value)=>{\n        const newFilters = {\n            ...filters,\n            [key]: value\n        };\n        setFilters(newFilters);\n        onFilterChange(newFilters);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"absolute top-20 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-3 py-2 font-semibold text-sm flex items-center justify-between cursor-pointer\",\n                onClick: ()=>setExpanded(!expanded),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                xmlns: \"http://www.w3.org/2000/svg\",\n                                className: \"h-5 w-5 mr-2 text-gray-600\",\n                                fill: \"none\",\n                                viewBox: \"0 0 24 24\",\n                                stroke: \"currentColor\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeWidth: 2,\n                                    d: \"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 294,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 293,\n                                columnNumber: 11\n                            }, undefined),\n                            \"Quick Filter\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 292,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        className: `h-5 w-5 transform transition-transform ${expanded ? \"rotate-180\" : \"\"}`,\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        stroke: \"currentColor\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            strokeWidth: 2,\n                            d: \"M19 9l-7 7-7-7\"\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 299,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 298,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 288,\n                columnNumber: 7\n            }, undefined),\n            expanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-3 py-2 border-t border-gray-200 dark:border-gray-700\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 gap-1\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex items-center text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    className: \"form-checkbox h-4 w-4 mr-2 text-blue-600\",\n                                    checked: filters.showPremium,\n                                    onChange: (e)=>handleFilterChange(\"showPremium\", e.target.checked)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 307,\n                                    columnNumber: 15\n                                }, undefined),\n                                \"Premium Properties\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 306,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex items-center text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    className: \"form-checkbox h-4 w-4 mr-2 text-green-600\",\n                                    checked: filters.showAvailable,\n                                    onChange: (e)=>handleFilterChange(\"showAvailable\", e.target.checked)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 316,\n                                    columnNumber: 15\n                                }, undefined),\n                                \"Available Properties\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 315,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex items-center text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    className: \"form-checkbox h-4 w-4 mr-2 text-yellow-600\",\n                                    checked: filters.showUnderContract,\n                                    onChange: (e)=>handleFilterChange(\"showUnderContract\", e.target.checked)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 325,\n                                    columnNumber: 15\n                                }, undefined),\n                                \"Under Contract\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 324,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                            className: \"flex items-center text-sm\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"checkbox\",\n                                    className: \"form-checkbox h-4 w-4 mr-2 text-red-600\",\n                                    checked: filters.showSold,\n                                    onChange: (e)=>handleFilterChange(\"showSold\", e.target.checked)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 334,\n                                    columnNumber: 15\n                                }, undefined),\n                                \"Sold Properties\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 333,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                    lineNumber: 305,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 304,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n        lineNumber: 287,\n        columnNumber: 5\n    }, undefined);\n};\n// Add a search component\nconst MapSearch = ({ properties, onPropertySelect })=>{\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showResults, setShowResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const searchRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Close search results when clicking outside\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function handleClickOutside(event) {\n            if (searchRef.current && !searchRef.current.contains(event.target)) {\n                setShowResults(false);\n            }\n        }\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, []);\n    const handleSearchChange = (e)=>{\n        setSearchTerm(e.target.value);\n        setShowResults(true);\n    };\n    const filteredProperties = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!searchTerm) return [];\n        const searchLower = searchTerm.toLowerCase();\n        return properties.filter((property)=>{\n            const matchName = property.name?.toLowerCase().includes(searchLower);\n            const matchAddress = property.address?.toLowerCase().includes(searchLower);\n            const matchBroker = property.broker?.toLowerCase().includes(searchLower);\n            return matchName || matchAddress || matchBroker;\n        }).slice(0, 5); // Limit to 5 results for better performance\n    }, [\n        properties,\n        searchTerm\n    ]);\n    const handleSelect = (property)=>{\n        onPropertySelect(property);\n        setSearchTerm(\"\");\n        setShowResults(false);\n    };\n    const formatPrice = (price)=>{\n        if (!price) return \"Price on request\";\n        return price >= 1000000 ? `$${(price / 1000000).toFixed(1)}M` : `$${(price / 1000).toFixed(0)}K`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: searchRef,\n        className: \"absolute top-4 left-4 z-10 w-80\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        value: searchTerm,\n                        onChange: handleSearchChange,\n                        placeholder: \"Search properties by name, address, or broker...\",\n                        className: \"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm focus:ring-2 focus:ring-primary focus:border-transparent\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 405,\n                        columnNumber: 9\n                    }, undefined),\n                    searchTerm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            setSearchTerm(\"\");\n                            setShowResults(false);\n                        },\n                        className: \"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            className: \"h-5 w-5\",\n                            viewBox: \"0 0 20 20\",\n                            fill: \"currentColor\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                fillRule: \"evenodd\",\n                                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                                clipRule: \"evenodd\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 421,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 420,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 413,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 404,\n                columnNumber: 7\n            }, undefined),\n            showResults && filteredProperties.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg overflow-hidden\",\n                children: filteredProperties.map((property)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>handleSelect(property),\n                        className: \"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 border-b last:border-b-0 border-gray-200 dark:border-gray-700 flex items-start gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-shrink-0 w-12 h-12 bg-gray-100 dark:bg-gray-600 rounded overflow-hidden\",\n                                children: property.image_url ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: property.image_url,\n                                    alt: property.name,\n                                    className: \"w-full h-full object-cover\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 437,\n                                    columnNumber: 19\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-full h-full flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                        className: \"h-6 w-6 text-gray-400\",\n                                        fill: \"none\",\n                                        viewBox: \"0 0 24 24\",\n                                        stroke: \"currentColor\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                            lineNumber: 445,\n                                            columnNumber: 23\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 444,\n                                        columnNumber: 21\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 443,\n                                    columnNumber: 19\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 435,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 min-w-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-medium text-sm truncate\",\n                                        children: property.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 451,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs text-gray-500 dark:text-gray-400 truncate\",\n                                        children: property.address\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 452,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-1 flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs font-medium\",\n                                                children: formatPrice(property.price)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 454,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            property.units && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                children: [\n                                                    property.units,\n                                                    \" units\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 456,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 453,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 450,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, property.id, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 430,\n                        columnNumber: 13\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 428,\n                columnNumber: 9\n            }, undefined),\n            showResults && searchTerm && filteredProperties.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center\",\n                    children: [\n                        'No properties found matching \"',\n                        searchTerm,\n                        '\"'\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                    lineNumber: 467,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 466,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n        lineNumber: 403,\n        columnNumber: 5\n    }, undefined);\n};\n// Add new PropertiesList component\nconst PropertiesList = ({ properties, onPropertySelect, mapFilters, setMapFilters })=>{\n    const [sortBy, setSortBy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"recent\");\n    const [unitFilter, setUnitFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        0,\n        1000\n    ]);\n    const [yearFilter, setYearFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        1900,\n        new Date().getFullYear()\n    ]);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Calculate ranges for filters\n    const ranges = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const units = properties.map((p)=>p.num_units || p.units || 0);\n        const years = properties.map((p)=>p.year_built || 0).filter((y)=>y > 0);\n        return {\n            units: {\n                min: Math.min(...units),\n                max: Math.max(...units)\n            },\n            years: {\n                min: Math.min(...years),\n                max: Math.max(...years)\n            }\n        };\n    }, [\n        properties\n    ]);\n    // Filter and sort properties\n    const filteredAndSortedProperties = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return properties.filter((property)=>{\n            // Status filters\n            const status = (property.status || \"\").toLowerCase();\n            if (status.includes(\"contract\") || status.includes(\"pending\")) {\n                if (!mapFilters.showUnderContract) return false;\n            } else if (status.includes(\"sold\")) {\n                if (!mapFilters.showSold) return false;\n            } else {\n                if (!mapFilters.showAvailable) return false;\n            }\n            // Premium filter\n            if (property.price && property.price >= 10000000) {\n                if (!mapFilters.showPremium) return false;\n            }\n            // Unit filter\n            const units = property.num_units || property.units || 0;\n            if (units < unitFilter[0] || units > unitFilter[1]) return false;\n            // Year filter\n            const year = property.year_built || 0;\n            if (year && (year < yearFilter[0] || year > yearFilter[1])) return false;\n            // Search term\n            if (searchTerm) {\n                const searchLower = searchTerm.toLowerCase();\n                return property.name?.toLowerCase().includes(searchLower) || property.address?.toLowerCase().includes(searchLower) || property.broker?.toLowerCase().includes(searchLower);\n            }\n            return true;\n        }).sort((a, b)=>{\n            switch(sortBy){\n                case \"units-high\":\n                    return (b.num_units || b.units || 0) - (a.num_units || a.units || 0);\n                case \"units-low\":\n                    return (a.num_units || a.units || 0) - (b.num_units || b.units || 0);\n                case \"year-new\":\n                    return (b.year_built || 0) - (a.year_built || 0);\n                case \"year-old\":\n                    return (a.year_built || 0) - (b.year_built || 0);\n                case \"recent\":\n                default:\n                    return new Date(b.created_at || 0).getTime() - new Date(a.created_at || 0).getTime();\n            }\n        });\n    }, [\n        properties,\n        mapFilters,\n        unitFilter,\n        yearFilter,\n        searchTerm,\n        sortBy\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"absolute left-0 top-0 h-full w-96 bg-white dark:bg-gray-800 shadow-lg flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-b border-gray-200 dark:border-gray-700\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-lg font-semibold mb-2\",\n                        children: \"Properties\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 569,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: searchTerm,\n                                onChange: (e)=>setSearchTerm(e.target.value),\n                                placeholder: \"Search properties...\",\n                                className: \"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 571,\n                                columnNumber: 11\n                            }, undefined),\n                            searchTerm && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setSearchTerm(\"\"),\n                                className: \"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                    className: \"h-4 w-4\",\n                                    viewBox: \"0 0 20 20\",\n                                    fill: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        fillRule: \"evenodd\",\n                                        d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                                        clipRule: \"evenodd\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 584,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 583,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 579,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 570,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 568,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-b border-gray-200 dark:border-gray-700 space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-sm font-medium mb-1\",\n                                children: \"Sort By\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 595,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                value: sortBy,\n                                onChange: (e)=>setSortBy(e.target.value),\n                                className: \"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"recent\",\n                                        children: \"Most Recent\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 601,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"units-high\",\n                                        children: \"Units (High to Low)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 602,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"units-low\",\n                                        children: \"Units (Low to High)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 603,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"year-new\",\n                                        children: \"Year Built (Newest)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 604,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"year-old\",\n                                        children: \"Year Built (Oldest)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 605,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 596,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 594,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-sm font-medium mb-2\",\n                                children: \"Status\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 611,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: mapFilters.showAvailable,\n                                                onChange: (e)=>setMapFilters({\n                                                        ...mapFilters,\n                                                        showAvailable: e.target.checked\n                                                    }),\n                                                className: \"form-checkbox h-4 w-4 text-blue-600\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 614,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-2 text-sm\",\n                                                children: \"Available\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 620,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 613,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: mapFilters.showUnderContract,\n                                                onChange: (e)=>setMapFilters({\n                                                        ...mapFilters,\n                                                        showUnderContract: e.target.checked\n                                                    }),\n                                                className: \"form-checkbox h-4 w-4 text-yellow-600\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 623,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-2 text-sm\",\n                                                children: \"Under Contract\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 629,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 622,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"flex items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"checkbox\",\n                                                checked: mapFilters.showSold,\n                                                onChange: (e)=>setMapFilters({\n                                                        ...mapFilters,\n                                                        showSold: e.target.checked\n                                                    }),\n                                                className: \"form-checkbox h-4 w-4 text-red-600\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 632,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-2 text-sm\",\n                                                children: \"Sold\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 638,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 631,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 612,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 610,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-sm font-medium mb-2\",\n                                children: [\n                                    \"Units Range: \",\n                                    unitFilter[0],\n                                    \" - \",\n                                    unitFilter[1]\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 645,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: ranges.units.min,\n                                        max: ranges.units.max,\n                                        value: unitFilter[0],\n                                        onChange: (e)=>setUnitFilter([\n                                                parseInt(e.target.value),\n                                                unitFilter[1]\n                                            ]),\n                                        className: \"w-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 649,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: ranges.units.min,\n                                        max: ranges.units.max,\n                                        value: unitFilter[1],\n                                        onChange: (e)=>setUnitFilter([\n                                                unitFilter[0],\n                                                parseInt(e.target.value)\n                                            ]),\n                                        className: \"w-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 657,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 648,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 644,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-sm font-medium mb-2\",\n                                children: [\n                                    \"Year Built: \",\n                                    yearFilter[0],\n                                    \" - \",\n                                    yearFilter[1]\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 670,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: ranges.years.min,\n                                        max: ranges.years.max,\n                                        value: yearFilter[0],\n                                        onChange: (e)=>setYearFilter([\n                                                parseInt(e.target.value),\n                                                yearFilter[1]\n                                            ]),\n                                        className: \"w-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 674,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: ranges.years.min,\n                                        max: ranges.years.max,\n                                        value: yearFilter[1],\n                                        onChange: (e)=>setYearFilter([\n                                                yearFilter[0],\n                                                parseInt(e.target.value)\n                                            ]),\n                                        className: \"w-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 682,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 673,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 669,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 592,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto\",\n                children: filteredAndSortedProperties.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 text-center text-gray-500\",\n                    children: \"No properties match your filters\"\n                }, void 0, false, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                    lineNumber: 697,\n                    columnNumber: 11\n                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"divide-y divide-gray-200 dark:divide-gray-700\",\n                    children: filteredAndSortedProperties.map((property)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            onClick: ()=>onPropertySelect(property),\n                            className: \"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-start gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-shrink-0 w-16 h-16 bg-gray-100 dark:bg-gray-600 rounded overflow-hidden\",\n                                        children: property.image_url ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: property.image_url,\n                                            alt: property.name,\n                                            className: \"w-full h-full object-cover\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                            lineNumber: 711,\n                                            columnNumber: 23\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-full h-full flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                className: \"h-8 w-8 text-gray-400\",\n                                                fill: \"none\",\n                                                viewBox: \"0 0 24 24\",\n                                                stroke: \"currentColor\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    strokeLinecap: \"round\",\n                                                    strokeLinejoin: \"round\",\n                                                    strokeWidth: 2,\n                                                    d: \"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                    lineNumber: 719,\n                                                    columnNumber: 27\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 718,\n                                                columnNumber: 25\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                            lineNumber: 717,\n                                            columnNumber: 23\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 709,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 min-w-0\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-sm font-medium truncate\",\n                                                children: property.name\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 725,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1 truncate\",\n                                                children: property.address\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 726,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: `px-2 py-0.5 rounded-full text-xs ${property.status?.toLowerCase().includes(\"available\") || property.status?.toLowerCase().includes(\"active\") ? \"bg-green-100 text-green-800\" : property.status?.toLowerCase().includes(\"contract\") ? \"bg-yellow-100 text-yellow-800\" : \"bg-red-100 text-red-800\"}`,\n                                                        children: property.status?.toLowerCase().includes(\"available\") || property.status?.toLowerCase().includes(\"active\") ? \"Available\" : property.status?.toLowerCase().includes(\"contract\") ? \"Under Contract\" : property.status || \"Unknown\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 730,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    (property.num_units || property.units) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-gray-500\",\n                                                        children: [\n                                                            property.num_units || property.units,\n                                                            \" units\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 746,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    property.year_built && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xs text-gray-500\",\n                                                        children: [\n                                                            \"Built \",\n                                                            property.year_built\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 751,\n                                                        columnNumber: 25\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 729,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 724,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 708,\n                                columnNumber: 17\n                            }, undefined)\n                        }, property.id, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 703,\n                            columnNumber: 15\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                    lineNumber: 701,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 695,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n        lineNumber: 566,\n        columnNumber: 5\n    }, undefined);\n};\nconst MapComponent = ({ properties, selectedProperty, setSelectedProperty, onBoundsChange, mapboxToken })=>{\n    // State for geocoded properties\n    const [processedProperties, setProcessedProperties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(properties || []);\n    const [geocodingStatus, setGeocodingStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isGeocoding: false,\n        count: 0,\n        total: 0\n    });\n    // Filter state\n    const [mapFilters, setMapFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        showPremium: true,\n        showAvailable: true,\n        showUnderContract: true,\n        showSold: true\n    });\n    // Get Mapbox token from environment, with fallback to ensure map loads\n    const mapboxTokenEnv = \"pk.eyJ1IjoiYWNxdWlyZWFwYXJ0bWVudHMiLCJhIjoiY204NTRvMjZ5MGx1dDJrb2t0MXo5c2QxNSJ9.-B71BMKr2rwUBCvvqDRbmg\" || 0;\n    const [mapLoaded, setMapLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mapError, setMapError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Properly verify token format to avoid map loading issues\n    const isValidMapboxToken = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return mapboxTokenEnv && mapboxTokenEnv.startsWith(\"pk.\") && mapboxTokenEnv.length > 20;\n    }, [\n        mapboxTokenEnv\n    ]);\n    // For Austin, TX\n    const defaultCenter = [\n        30.2672,\n        -97.7431\n    ];\n    const defaultZoom = 12;\n    // Debug variables\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!properties || !Array.isArray(properties)) {\n            console.log(\"No properties available\");\n            return;\n        }\n        console.log(`===== MAP COMPONENT DEBUG =====`);\n        console.log(`Received ${properties.length} properties from parent`);\n        // Analyze properties before filtering\n        const withLat = properties.filter((p)=>p.latitude).length;\n        const withLng = properties.filter((p)=>p.longitude).length;\n        const withBoth = properties.filter((p)=>p.latitude && p.longitude).length;\n        const validNumbers = properties.filter((p)=>typeof p.latitude === \"number\" && typeof p.longitude === \"number\").length;\n        const nonZero = properties.filter((p)=>p.latitude !== 0 && p.longitude !== 0).length;\n        console.log(`Properties with lat: ${withLat}, with lng: ${withLng}, with both: ${withBoth}`);\n        console.log(`Properties with numeric coordinates: ${validNumbers}`);\n        console.log(`Properties with non-zero coordinates: ${nonZero}`);\n        // Check validity using our internal function\n        const passesValidation = properties.filter((p)=>hasValidCoordinates(p)).length;\n        console.log(`Properties that pass hasValidCoordinates(): ${passesValidation}`);\n        // Check final filtered result\n        setTimeout(()=>{\n            console.log(`RESULT: Displaying ${propertiesWithCoordinates.length} properties on map`);\n            console.log(`===== END MAP COMPONENT DEBUG =====`);\n        }, 100); // Small delay to ensure propertiesWithCoordinates has been calculated\n    }, [\n        properties\n    ]);\n    // Fix for properties geocoding with Promise.then\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (geocodingStatus.isGeocoding && properties) {\n            // Find properties needing geocoding (filter out those with valid coordinates)\n            const batchToGeocode = properties.filter((property)=>{\n                return (!property.latitude || !property.longitude || property.latitude === 0 || property.longitude === 0 || property._is_grid_pattern || property._needs_geocoding) && !property._geocoding_failed;\n            });\n            console.log(`MapComponent: Geocoding batch of ${batchToGeocode.length} properties`);\n            // Use enhanced geocoding with multiple methods (fixed Promise handling)\n            if (batchToGeocode.length > 0) {\n                try {\n                    // Call the geocoding function, but don't rely on its direct return type\n                    const geocodeResult = (0,_utils_geocoding__WEBPACK_IMPORTED_MODULE_5__.enhancedGeocodeProperties)(batchToGeocode);\n                    // Use a safer approach - create a Promise that will handle the result appropriately\n                    Promise.resolve(geocodeResult).then((geocodedProperties)=>{\n                        // Safety check that we got an array of properties back\n                        if (!Array.isArray(geocodedProperties)) {\n                            throw new Error(\"Geocoding did not return an array of properties\");\n                        }\n                        // Count how many were successfully geocoded\n                        const newlyGeocodedCount = geocodedProperties.filter((p)=>p._geocoded).length;\n                        console.log(`MapComponent: Successfully geocoded ${newlyGeocodedCount} properties`);\n                        // Merge geocoded properties with existing properties\n                        const updatedProperties = [\n                            ...properties\n                        ];\n                        geocodedProperties.forEach((geocodedProperty)=>{\n                            const index = updatedProperties.findIndex((p)=>p.id === geocodedProperty.id);\n                            if (index !== -1) {\n                                updatedProperties[index] = geocodedProperty;\n                            }\n                        });\n                        setProcessedProperties(updatedProperties);\n                        setGeocodingStatus({\n                            isGeocoding: false,\n                            count: newlyGeocodedCount,\n                            total: batchToGeocode.length\n                        });\n                    }).catch((error)=>{\n                        console.error(\"Error geocoding properties:\", error);\n                        setGeocodingStatus({\n                            isGeocoding: false,\n                            count: 0,\n                            total: batchToGeocode.length\n                        });\n                    });\n                } catch (error) {\n                    console.error(\"Error initiating geocoding:\", error);\n                    setGeocodingStatus({\n                        isGeocoding: false,\n                        count: 0,\n                        total: batchToGeocode.length\n                    });\n                }\n            } else {\n                // No properties to geocode\n                setGeocodingStatus({\n                    isGeocoding: false,\n                    count: 0,\n                    total: 0\n                });\n            }\n        }\n    }, [\n        properties,\n        geocodingStatus.isGeocoding\n    ]);\n    // Setup default marker icons\n    (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Marker).prototype.options.icon = leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n        iconUrl: \"/icons/marker-blue.png\",\n        iconSize: [\n            25,\n            41\n        ],\n        iconAnchor: [\n            12,\n            41\n        ],\n        popupAnchor: [\n            1,\n            -34\n        ],\n        shadowSize: [\n            41,\n            41\n        ]\n    });\n    // Add helper function to get the right marker icon based on property status and price\n    const getMarkerIcon = (property)=>{\n        // If the property has verified coordinates, use a verified icon\n        if (property.verified_address) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-verified.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // If the property has coordinate issues, use a warning icon\n        if (property._is_grid_pattern || property._is_invalid_range || property._outside_austin || property._coordinates_from_research) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-warning.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // For test properties\n        if (property._is_test_property) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-test.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // For geocoded properties\n        if (property._geocoded) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-geocoded.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // Color code by price range if price is available\n        if (property.price) {\n            const price = property.price;\n            // Premium properties (>$20M)\n            if (price >= 20000000) {\n                return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                    iconUrl: \"/icons/marker-purple.png\",\n                    iconSize: [\n                        25,\n                        41\n                    ],\n                    iconAnchor: [\n                        12,\n                        41\n                    ],\n                    popupAnchor: [\n                        1,\n                        -34\n                    ],\n                    shadowSize: [\n                        41,\n                        41\n                    ]\n                });\n            }\n            // High-value properties ($10M-$20M)\n            if (price >= 10000000) {\n                return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                    iconUrl: \"/icons/marker-dark-blue.png\",\n                    iconSize: [\n                        25,\n                        41\n                    ],\n                    iconAnchor: [\n                        12,\n                        41\n                    ],\n                    popupAnchor: [\n                        1,\n                        -34\n                    ],\n                    shadowSize: [\n                        41,\n                        41\n                    ]\n                });\n            }\n            // Mid-high properties ($5M-$10M)\n            if (price >= 5000000) {\n                return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                    iconUrl: \"/icons/marker-blue.png\",\n                    iconSize: [\n                        25,\n                        41\n                    ],\n                    iconAnchor: [\n                        12,\n                        41\n                    ],\n                    popupAnchor: [\n                        1,\n                        -34\n                    ],\n                    shadowSize: [\n                        41,\n                        41\n                    ]\n                });\n            }\n            // Medium properties ($1M-$5M)\n            if (price >= 1000000) {\n                return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                    iconUrl: \"/icons/marker-green.png\",\n                    iconSize: [\n                        25,\n                        41\n                    ],\n                    iconAnchor: [\n                        12,\n                        41\n                    ],\n                    popupAnchor: [\n                        1,\n                        -34\n                    ],\n                    shadowSize: [\n                        41,\n                        41\n                    ]\n                });\n            }\n            // Affordable properties (<$1M)\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-yellow.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // Default marker icons based on status if no price\n        const status = property.status?.toLowerCase() || \"\";\n        if (status === \"active\" || status === \"listed\" || status === \"available\" || status === \"actively marketed\") {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-green.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        } else if (status.includes(\"contract\") || status.includes(\"pending\")) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-yellow.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        } else if (status.includes(\"sold\")) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-red.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // Default fallback\n        return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n            iconUrl: \"/icons/marker-blue.png\",\n            iconSize: [\n                25,\n                41\n            ],\n            iconAnchor: [\n                12,\n                41\n            ],\n            popupAnchor: [\n                1,\n                -34\n            ],\n            shadowSize: [\n                41,\n                41\n            ]\n        });\n    };\n    // Format price as $X.XM\n    const formatPrice = (price)=>{\n        if (!price) return \"Price not available\";\n        if (price >= 1000000) {\n            return `$${(price / 1000000).toFixed(1)}M`;\n        }\n        return `$${(price / 1000).toFixed(0)}K`;\n    };\n    // Format price per unit\n    const formatPricePerUnit = (price, units)=>{\n        if (!price || !units || units === 0) return \"N/A\";\n        return `$${Math.round(price / units).toLocaleString()}/unit`;\n    };\n    // Add code to check coordinates and filter out invalid ones\n    const validProperties = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!properties || !Array.isArray(properties)) {\n            return [];\n        }\n        // MODIFIED: Use much less strict filtering to show more properties\n        return properties.filter((property)=>{\n            // We need latitude and longitude to be defined\n            if (!property || property.latitude === undefined || property.longitude === undefined) {\n                return false;\n            }\n            // Convert string coordinates to numbers if needed\n            const lat = typeof property.latitude === \"number\" ? property.latitude : parseFloat(String(property.latitude));\n            const lng = typeof property.longitude === \"number\" ? property.longitude : parseFloat(String(property.longitude));\n            // Check if coordinates are valid numbers\n            if (isNaN(lat) || isNaN(lng)) {\n                return false;\n            }\n            // Only exclude coordinates that are exactly zero (as these are likely placeholder data)\n            // This allows for coordinates near zero but not exactly zero\n            if (lat === 0 && lng === 0) {\n                return false;\n            }\n            // Check if coordinates are within reasonable global ranges\n            if (lat < -90 || lat > 90 || lng < -180 || lng > 180) {\n                return false;\n            }\n            // Include all valid properties regardless of whether they're in Austin\n            // Include properties even if they have grid patterns or are from research\n            return true;\n        });\n    }, [\n        properties\n    ]);\n    // Check if property has valid coordinates - MODIFIED to be much less strict\n    const hasValidCoordinates = (property)=>{\n        if (!property) return false;\n        // Basic existence checks\n        if (property.latitude === undefined || property.longitude === undefined) return false;\n        // Convert to numbers if needed\n        const lat = typeof property.latitude === \"number\" ? property.latitude : parseFloat(String(property.latitude));\n        const lng = typeof property.longitude === \"number\" ? property.longitude : parseFloat(String(property.longitude));\n        // Check for NaN\n        if (isNaN(lat) || isNaN(lng)) return false;\n        // Check for zero values (often default)\n        if (lat === 0 && lng === 0) return false;\n        // Check for reasonable coordinate ranges\n        if (lat < -90 || lat > 90 || lng < -180 || lng > 180) return false;\n        // Don't filter out properties based on location or data source\n        // Include properties with _is_grid_pattern and _coordinates_from_research\n        return true;\n    };\n    // Get properties with valid coordinates - MODIFIED to directly use validProperties\n    const propertiesWithCoordinates = validProperties;\n    // Add filter logic for properties\n    const filteredProperties = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        // Log the number of valid properties\n        console.log(`Valid properties before filtering: ${validProperties.length} of ${properties?.length || 0}`);\n        // Count properties by some key attributes\n        const propertiesWithResearchCoords = validProperties.filter((p)=>p._coordinates_from_research).length;\n        const propertiesWithGridPattern = validProperties.filter((p)=>p._is_grid_pattern).length;\n        console.log(`Properties with research coordinates: ${propertiesWithResearchCoords}`);\n        console.log(`Properties with grid pattern: ${propertiesWithGridPattern}`);\n        // Apply less strict filtering to show more properties on the map\n        return validProperties.filter((property)=>{\n            // Filter by price for premium properties (over $10M)\n            if (property.price && property.price >= 10000000) {\n                if (!mapFilters.showPremium) return false;\n            }\n            // Filter by status\n            const status = (property.status || \"\").toLowerCase();\n            if (status.includes(\"contract\") || status.includes(\"pending\")) {\n                return mapFilters.showUnderContract;\n            } else if (status.includes(\"sold\")) {\n                return mapFilters.showSold;\n            } else {\n                // Available, listed, etc.\n                return mapFilters.showAvailable;\n            }\n        });\n    }, [\n        validProperties,\n        mapFilters,\n        properties?.length\n    ]);\n    // New function to check if there are multiple properties at the same location\n    const findPropertiesAtSameLocation = (targetProperty)=>{\n        if (!targetProperty || !targetProperty.latitude || !targetProperty.longitude) {\n            return [];\n        }\n        const lat = targetProperty.latitude;\n        const lng = targetProperty.longitude;\n        // Find properties that have the exact same coordinates (using exact match)\n        // This is important for properties that have exactly the same coordinates\n        return filteredProperties.filter((p)=>p.id !== targetProperty.id && p.latitude === lat && p.longitude === lng);\n    };\n    // Debug the number of properties at the same locations - useful for understanding clustering issues\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (filteredProperties.length === 0) return;\n        // Count how many properties are at the same coordinates as others\n        let sameLocationCount = 0;\n        const checkedIds = new Set();\n        filteredProperties.forEach((property)=>{\n            if (checkedIds.has(property.id)) return;\n            const sameLocationProps = findPropertiesAtSameLocation(property);\n            if (sameLocationProps.length > 0) {\n                sameLocationCount += sameLocationProps.length + 1; // Include the current property\n                // Mark all these properties as checked\n                checkedIds.add(property.id);\n                sameLocationProps.forEach((p)=>checkedIds.add(p.id));\n                // Log the first few instances of exact-coordinate properties for debugging\n                if (checkedIds.size < 20) {\n                    console.log(`Found ${sameLocationProps.length + 1} properties at the same location: ${property.latitude}, ${property.longitude}`);\n                    console.log(`  First property: ${property.name || property.id}`);\n                    sameLocationProps.slice(0, 3).forEach((p)=>{\n                        console.log(`  Other property: ${p.name || p.id}`);\n                    });\n                    if (sameLocationProps.length > 3) {\n                        console.log(`  ...and ${sameLocationProps.length - 3} more`);\n                    }\n                }\n            }\n        });\n        console.log(`Total properties at the same locations: ${sameLocationCount} (${Math.round(sameLocationCount / filteredProperties.length * 100)}% of all displayed properties)`);\n    }, [\n        filteredProperties\n    ]);\n    // Handle map load success\n    const handleMapLoad = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setMapLoaded(true);\n        setMapError(null);\n    }, []);\n    // Handle map load error\n    const handleMapError = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e)=>{\n        console.error(\"Map tile loading error:\", e);\n        setMapError(\"Failed to load map tiles. Using fallback map provider.\");\n    // Continue with OpenStreetMap as fallback\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative h-full w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PropertiesList, {\n                properties: properties,\n                onPropertySelect: setSelectedProperty,\n                mapFilters: mapFilters,\n                setMapFilters: setMapFilters\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 1264,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"ml-96 h-full\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.MapContainer, {\n                    center: defaultCenter,\n                    zoom: defaultZoom,\n                    style: {\n                        height: \"100%\",\n                        width: \"100%\"\n                    },\n                    zoomControl: false,\n                    whenReady: handleMapLoad,\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapInitializer, {}, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 1280,\n                            columnNumber: 11\n                        }, undefined),\n                        isValidMapboxToken ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.TileLayer, {\n                            attribution: '\\xa9 <a href=\"https://www.mapbox.com/about/maps/\">Mapbox</a>',\n                            url: `https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${mapboxTokenEnv}`,\n                            tileSize: 512,\n                            zoomOffset: -1,\n                            eventHandlers: {\n                                error: handleMapError\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 1284,\n                            columnNumber: 13\n                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.TileLayer, {\n                            attribution: '\\xa9 <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n                            url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 1294,\n                            columnNumber: 13\n                        }, undefined),\n                        mapError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute top-4 left-1/2 transform -translate-x-1/2 bg-red-100 text-red-700 px-4 py-2 rounded-md shadow-md z-50\",\n                            children: mapError\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 1302,\n                            columnNumber: 13\n                        }, undefined),\n                        filteredProperties.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_map_CustomMarkerCluster__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            // These props will be merged with the enhanced props in CustomMarkerClusterGroup\n                            chunkedLoading: true,\n                            showCoverageOnHover: false,\n                            disableClusteringAtZoom: 18,\n                            children: filteredProperties.map((property)=>{\n                                // Find properties at same location\n                                const sameLocationProperties = findPropertiesAtSameLocation(property);\n                                const hasMultipleProperties = sameLocationProperties.length > 0;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.Marker, {\n                                    position: [\n                                        property.latitude,\n                                        property.longitude\n                                    ],\n                                    icon: getMarkerIcon(property),\n                                    eventHandlers: {\n                                        click: ()=>{\n                                            // Find the original property in the properties array to make sure we have the latest data\n                                            const originalProperty = properties.find((p)=>p.id === property.id) || property;\n                                            setSelectedProperty(originalProperty);\n                                        }\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.Popup, {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"min-w-[220px]\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                            className: \"font-bold text-lg\",\n                                                            children: property.name\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 1336,\n                                                            columnNumber: 25\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: `px-2 py-1 rounded-full text-xs ${property.status?.toLowerCase().includes(\"available\") || property.status?.toLowerCase().includes(\"active\") || property.status === \"Actively Marketed\" ? \"bg-green-100 text-green-800\" : property.status?.toLowerCase().includes(\"contract\") || property.status?.toLowerCase().includes(\"pending\") ? \"bg-yellow-100 text-yellow-800\" : \"bg-red-100 text-red-800\"}`,\n                                                            children: property.status?.toLowerCase().includes(\"available\") || property.status?.toLowerCase().includes(\"active\") ? \"Available\" : property.status?.toLowerCase().includes(\"contract\") ? \"Under Contract\" : property.status || \"Unknown\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 1338,\n                                                            columnNumber: 25\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                    lineNumber: 1335,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-gray-600 flex items-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                className: \"h-4 w-4 mr-1 text-gray-400\",\n                                                                fill: \"none\",\n                                                                viewBox: \"0 0 24 24\",\n                                                                stroke: \"currentColor\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        strokeLinecap: \"round\",\n                                                                        strokeLinejoin: \"round\",\n                                                                        strokeWidth: 2,\n                                                                        d: \"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                        lineNumber: 1361,\n                                                                        columnNumber: 29\n                                                                    }, undefined),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        strokeLinecap: \"round\",\n                                                                        strokeLinejoin: \"round\",\n                                                                        strokeWidth: 2,\n                                                                        d: \"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                        lineNumber: 1362,\n                                                                        columnNumber: 29\n                                                                    }, undefined)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 1360,\n                                                                columnNumber: 27\n                                                            }, undefined),\n                                                            property.verified_address || property.address,\n                                                            property.verified_address && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                className: \"h-4 w-4 ml-1 text-green-500\",\n                                                                viewBox: \"0 0 20 20\",\n                                                                fill: \"currentColor\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                    fillRule: \"evenodd\",\n                                                                    d: \"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n                                                                    clipRule: \"evenodd\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                    lineNumber: 1367,\n                                                                    columnNumber: 31\n                                                                }, undefined)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 1366,\n                                                                columnNumber: 29\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 1359,\n                                                        columnNumber: 25\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                    lineNumber: 1358,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"grid grid-cols-2 gap-3 mt-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"bg-gray-50 p-2 rounded\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-500 text-xs block\",\n                                                                    children: \"Units\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                    lineNumber: 1376,\n                                                                    columnNumber: 27\n                                                                }, undefined),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"font-medium\",\n                                                                    children: property.num_units || property.units || \"N/A\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                    lineNumber: 1377,\n                                                                    columnNumber: 27\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 1375,\n                                                            columnNumber: 25\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"bg-gray-50 p-2 rounded\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-500 text-xs block\",\n                                                                    children: \"Year Built\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                    lineNumber: 1380,\n                                                                    columnNumber: 27\n                                                                }, undefined),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"font-medium\",\n                                                                    children: property.year_built || \"N/A\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                    lineNumber: 1381,\n                                                                    columnNumber: 27\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 1379,\n                                                            columnNumber: 25\n                                                        }, undefined),\n                                                        property.square_feet && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"bg-gray-50 p-2 rounded\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-500 text-xs block\",\n                                                                    children: \"Square Feet\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                    lineNumber: 1385,\n                                                                    columnNumber: 29\n                                                                }, undefined),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"font-medium\",\n                                                                    children: property.square_feet.toLocaleString()\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                    lineNumber: 1386,\n                                                                    columnNumber: 29\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 1384,\n                                                            columnNumber: 27\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                    lineNumber: 1374,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                hasMultipleProperties && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-3 bg-blue-50 p-2 rounded\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm text-blue-700 font-medium\",\n                                                            children: [\n                                                                sameLocationProperties.length + 1,\n                                                                \" properties at this location\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 1394,\n                                                            columnNumber: 27\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"mt-1 max-h-32 overflow-y-auto\",\n                                                            children: sameLocationProperties.map((relatedProperty)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-xs p-1 hover:bg-blue-100 rounded cursor-pointer\",\n                                                                    onClick: ()=>{\n                                                                        const originalRelatedProperty = properties.find((p)=>p.id === relatedProperty.id) || relatedProperty;\n                                                                        setSelectedProperty(originalRelatedProperty);\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"font-medium\",\n                                                                            children: relatedProperty.name\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                            lineNumber: 1407,\n                                                                            columnNumber: 33\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-blue-600\",\n                                                                            children: [\n                                                                                relatedProperty.num_units || relatedProperty.units,\n                                                                                \" units\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                            lineNumber: 1408,\n                                                                            columnNumber: 33\n                                                                        }, undefined)\n                                                                    ]\n                                                                }, relatedProperty.id, true, {\n                                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                    lineNumber: 1399,\n                                                                    columnNumber: 31\n                                                                }, undefined))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 1397,\n                                                            columnNumber: 27\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                    lineNumber: 1393,\n                                                    columnNumber: 25\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-3 pt-3 border-t border-gray-200\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        href: `/properties/${property.id}`,\n                                                        target: \"_blank\",\n                                                        rel: \"noopener noreferrer\",\n                                                        className: \"text-blue-600 hover:text-blue-800 text-sm flex items-center\",\n                                                        children: [\n                                                            \"View Full Details\",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                                className: \"h-4 w-4 ml-1\",\n                                                                fill: \"none\",\n                                                                viewBox: \"0 0 24 24\",\n                                                                stroke: \"currentColor\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                    strokeLinecap: \"round\",\n                                                                    strokeLinejoin: \"round\",\n                                                                    strokeWidth: 2,\n                                                                    d: \"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                    lineNumber: 1425,\n                                                                    columnNumber: 29\n                                                                }, undefined)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 1424,\n                                                                columnNumber: 27\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 1417,\n                                                        columnNumber: 25\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                    lineNumber: 1416,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                            lineNumber: 1334,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 1333,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, property.id, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 1321,\n                                    columnNumber: 17\n                                }, undefined);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 1309,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapRecenter, {\n                            selectedProperty: selectedProperty\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 1437,\n                            columnNumber: 11\n                        }, undefined),\n                        onBoundsChange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapBoundsUpdater, {\n                            onBoundsChange: onBoundsChange\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 1438,\n                            columnNumber: 30\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.ZoomControl, {\n                            position: \"topright\"\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                            lineNumber: 1441,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                    lineNumber: 1273,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 1272,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n        lineNumber: 1262,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapComponent);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YixFQUFFLEtBQUtvSSxnQkFBZ0JwSSxFQUFFLEtBQUtvSTt3RUFDckZwRyxvQkFBb0JxRztvRUFDdEI7O3NGQUVBLDhEQUFDeFI7NEVBQUlDLFdBQVU7c0ZBQWVzUixnQkFBZ0J6SixJQUFJOzs7Ozs7c0ZBQ2xELDhEQUFDOUg7NEVBQUlDLFdBQVU7O2dGQUFpQnNSLGdCQUFnQnRILFNBQVMsSUFBSXNILGdCQUFnQnJJLEtBQUs7Z0ZBQUM7Ozs7Ozs7O21FQVI5RXFJLGdCQUFnQnBJLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7OERBZ0JqQyw4REFBQ25KO29EQUFJQyxXQUFVOzhEQUNiLDRFQUFDd0s7d0RBQ0NnSCxNQUFNLENBQUMsWUFBWSxFQUFFN0osU0FBU3VCLEVBQUUsQ0FBQyxDQUFDO3dEQUNsQzVDLFFBQU87d0RBQ1BtTCxLQUFJO3dEQUNKelIsV0FBVTs7NERBQ1g7MEVBRUMsOERBQUNFO2dFQUFJQyxPQUFNO2dFQUE2QkgsV0FBVTtnRUFBZUksTUFBSztnRUFBT0MsU0FBUTtnRUFBWUMsUUFBTzswRUFDdEcsNEVBQUNDO29FQUFLQyxlQUFjO29FQUFRQyxnQkFBZTtvRUFBUUMsYUFBYTtvRUFBR0MsR0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O21DQXZHMUVnSCxTQUFTdUIsRUFBRTs7Ozs7NEJBOEduQjs7Ozs7O3NDQUtMLDhEQUFDMUc7NEJBQVlDLGtCQUFrQkE7Ozs7Ozt3QkFDOUJhLGdDQUFrQiw4REFBQ0Q7NEJBQWlCQyxnQkFBZ0JBOzs7Ozs7c0NBR3JELDhEQUFDOUQsc0RBQVdBOzRCQUFDeVIsVUFBUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLaEM7QUFFQSxpRUFBZWhHLFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hY3F1aXJlLWFwYXJ0bWVudHMvLi9zcmMvY29tcG9uZW50cy9NYXBDb21wb25lbnQudHN4P2VjM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIEZDLCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTWFwQ29udGFpbmVyLCBUaWxlTGF5ZXIsIE1hcmtlciwgUG9wdXAsIHVzZU1hcCwgWm9vbUNvbnRyb2wgfSBmcm9tICdyZWFjdC1sZWFmbGV0JztcbmltcG9ydCBMIGZyb20gJ2xlYWZsZXQnO1xuaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnO1xuaW1wb3J0IHsgUHJvcGVydHkgfSBmcm9tICcuLi90eXBlcy9wcm9wZXJ0eSc7XG5pbXBvcnQgeyBnZW9jb2RlUHJvcGVydGllcywgZW5oYW5jZWRHZW9jb2RlUHJvcGVydGllcyB9IGZyb20gJy4uL3V0aWxzL2dlb2NvZGluZyc7XG5pbXBvcnQgQ3VzdG9tTWFya2VyQ2x1c3Rlckdyb3VwIGZyb20gJy4vbWFwL0N1c3RvbU1hcmtlckNsdXN0ZXInO1xuLy8gTWFya2VyQ2x1c3RlciBDU1MgaXMgbG9hZGVkIGluIF9hcHAuanMvdHN4IGluc3RlYWQgb2YgaGVyZSB0byBhdm9pZCBOZXh0LmpzIENTUyBpbXBvcnQgcmVzdHJpY3Rpb25zXG4vLyBPcmlnaW5hbCBpbXBvcnQ6IGltcG9ydCAncmVhY3QtbGVhZmxldC1jbHVzdGVyL2xpYi9hc3NldHMvTWFya2VyQ2x1c3Rlci5EZWZhdWx0LmNzcyc7XG5cbi8vIE1hcCBMZWdlbmQgY29tcG9uZW50IHRvIHNob3cgd2hhdCB0aGUgZGlmZmVyZW50IG1hcmtlciBjb2xvcnMgbWVhblxuY29uc3QgTWFwTGVnZW5kOiBGQyA9ICgpID0+IHtcbiAgY29uc3QgW2V4cGFuZGVkLCBzZXRFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgbGVmdC00IHotMTAgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy1tZCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMiBmb250LXNlbWlib2xkIHRleHQtc20gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktNTAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEV4cGFuZGVkKCFleHBhbmRlZCl9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTUgdy01IG1yLTIgdGV4dC1ncmF5LTYwMFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTkgMjBsLTUuNDQ3LTIuNzI0QTEgMSAwIDAxMyAxNi4zODJWNS42MThhMSAxIDAgMDExLjQ0Ny0uODk0TDkgN20wIDEzbDYtM20tNiAzVjdtNiAxMGw0LjU1MyAyLjI3NkExIDEgMCAwMDIxIDE4LjM4MlY3LjYxOGExIDEgMCAwMC0uNTUzLS44OTRMMTUgNG0wIDEzVjRtMCAwTDkgN1wiIC8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPHNwYW4+TGVnZW5kICYgRmlsdGVyczwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT17YGgtNSB3LTUgdHJhbnNmb3JtIHRyYW5zaXRpb24tdHJhbnNmb3JtICR7ZXhwYW5kZWQgPyAncm90YXRlLTE4MCcgOiAnJ31gfSBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTkgOWwtNyA3LTctN1wiIC8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHtleHBhbmRlZCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMyBweS0yIGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMFwiPlxuICAgICAgICAgIHsvKiBQcmljZSBSYW5nZSBGaWx0ZXIgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPHNwYW4+UHJpY2UgUmFuZ2U8L3NwYW4+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwidGV4dC1wcmltYXJ5IGhvdmVyOnRleHQtcHJpbWFyeS84MCB0ZXh0LXhzXCI+UmVzZXQ8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAge1tcbiAgICAgICAgICAgICAgICB7IGNvbG9yOiAncHVycGxlLTUwMCcsIGxhYmVsOiAnUHJlbWl1bSAoJDIwTSspJywgdmFsdWU6ICdwcmVtaXVtJyB9LFxuICAgICAgICAgICAgICAgIHsgY29sb3I6ICdibHVlLTgwMCcsIGxhYmVsOiAnSGlnaCAoJDEwTS0kMjBNKScsIHZhbHVlOiAnaGlnaCcgfSxcbiAgICAgICAgICAgICAgICB7IGNvbG9yOiAnYmx1ZS01MDAnLCBsYWJlbDogJ01pZC1IaWdoICgkNU0tJDEwTSknLCB2YWx1ZTogJ21pZC1oaWdoJyB9LFxuICAgICAgICAgICAgICAgIHsgY29sb3I6ICdncmVlbi01MDAnLCBsYWJlbDogJ01lZGl1bSAoJDFNLSQ1TSknLCB2YWx1ZTogJ21lZGl1bScgfSxcbiAgICAgICAgICAgICAgICB7IGNvbG9yOiAneWVsbG93LTUwMCcsIGxhYmVsOiAnQWZmb3JkYWJsZSAoVW5kZXIgJDFNKScsIHZhbHVlOiAnYWZmb3JkYWJsZScgfVxuICAgICAgICAgICAgICBdLm1hcChyYW5nZSA9PiAoXG4gICAgICAgICAgICAgICAgPGxhYmVsIGtleT17cmFuZ2UudmFsdWV9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHMgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrYm94IGgtMyB3LTMgdGV4dC1wcmltYXJ5IHJvdW5kZWQgYm9yZGVyLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3JhbmdlLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0zIGgtMyByb3VuZGVkLWZ1bGwgYmctJHtyYW5nZS5jb2xvcn0gbXgtMmB9PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHNwYW4+e3JhbmdlLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFN0YXR1cyBGaWx0ZXIgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPHNwYW4+U3RhdHVzPC9zcGFuPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeSBob3Zlcjp0ZXh0LXByaW1hcnkvODAgdGV4dC14c1wiPlJlc2V0PC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIHtbXG4gICAgICAgICAgICAgICAgeyBjb2xvcjogJ2dyZWVuLTUwMCcsIGxhYmVsOiAnQXZhaWxhYmxlJywgdmFsdWU6ICdhdmFpbGFibGUnIH0sXG4gICAgICAgICAgICAgICAgeyBjb2xvcjogJ3llbGxvdy01MDAnLCBsYWJlbDogJ1VuZGVyIENvbnRyYWN0JywgdmFsdWU6ICd1bmRlcl9jb250cmFjdCcgfSxcbiAgICAgICAgICAgICAgICB7IGNvbG9yOiAncmVkLTUwMCcsIGxhYmVsOiAnU29sZCcsIHZhbHVlOiAnc29sZCcgfVxuICAgICAgICAgICAgICBdLm1hcChzdGF0dXMgPT4gKFxuICAgICAgICAgICAgICAgIDxsYWJlbCBrZXk9e3N0YXR1cy52YWx1ZX0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC14cyBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY2hlY2tib3ggaC0zIHctMyB0ZXh0LXByaW1hcnkgcm91bmRlZCBib3JkZXItZ3JheS0zMDBcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3RhdHVzLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0zIGgtMyByb3VuZGVkLWZ1bGwgYmctJHtzdGF0dXMuY29sb3J9IG14LTJgfT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPntzdGF0dXMubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQWRkaXRpb25hbCBGaWx0ZXJzICovfVxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItMlwiPlxuICAgICAgICAgICAgICBBZGRpdGlvbmFsIEZpbHRlcnNcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHMgY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrYm94IGgtMyB3LTMgdGV4dC1wcmltYXJ5IHJvdW5kZWQgYm9yZGVyLWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPVwiaGFzX3ByaWNlXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTJcIj5IYXMgUHJpY2UgTGlzdGVkPC9zcGFuPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC14cyBjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY2hlY2tib3ggaC0zIHctMyB0ZXh0LXByaW1hcnkgcm91bmRlZCBib3JkZXItZ3JheS0zMDBcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9XCJoYXNfdW5pdHNcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMlwiPkhhcyBVbml0IENvdW50PC9zcGFuPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIENvbXBvbmVudCB0byBoYW5kbGUgbWFwIGluaXRpYWxpemF0aW9uIGVmZmVjdHNcbmNvbnN0IE1hcEluaXRpYWxpemVyOiBGQyA9ICgpID0+IHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBGaXggTGVhZmxldCBtYXJrZXIgaWNvbiBpc3N1ZSBpbiBOZXh0LmpzXG4gICAgdHJ5IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGRlbGV0ZSBMLkljb24uRGVmYXVsdC5wcm90b3R5cGUuX2dldEljb25Vcmw7XG4gICAgICBMLkljb24uRGVmYXVsdC5tZXJnZU9wdGlvbnMoe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci1ibHVlLnBuZycsXG4gICAgICAgIGljb25SZXRpbmFVcmw6ICcvaWNvbnMvbWFya2VyLWJsdWUucG5nJyxcbiAgICAgICAgc2hhZG93VXJsOiAnL2ljb25zL21hcmtlci1zaGFkb3cucG5nJyxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZpeGluZyBMZWFmbGV0IGljb24gaXNzdWU6JywgZSk7XG4gICAgfVxuICB9LCBbXSk7XG4gIFxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIEN1c3RvbSBtYXJrZXIgaWNvbnMgZm9yIGRpZmZlcmVudCBwcm9wZXJ0eSBzdGF0dXNlc1xuY29uc3QgY3JlYXRlU3RhdHVzSWNvbiA9IChjb2xvcjogc3RyaW5nKSA9PiBuZXcgTC5JY29uKHtcbiAgaWNvblVybDogYGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9wb2ludGhpL2xlYWZsZXQtY29sb3ItbWFya2Vycy9tYXN0ZXIvaW1nL21hcmtlci1pY29uLTJ4LSR7Y29sb3J9LnBuZ2AsXG4gIHNoYWRvd1VybDogJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQvMC43LjcvaW1hZ2VzL21hcmtlci1zaGFkb3cucG5nJyxcbiAgaWNvblNpemU6IFsyNSwgNDFdLFxuICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICBzaGFkb3dTaXplOiBbNDEsIDQxXVxufSk7XG5cbi8vIFN0YXR1cyBpY29uIG1hcHBpbmdcbmNvbnN0IHN0YXR1c0ljb25zID0ge1xuICAnYXZhaWxhYmxlJzogY3JlYXRlU3RhdHVzSWNvbignZ3JlZW4nKSxcbiAgJ3BlbmRpbmcnOiBjcmVhdGVTdGF0dXNJY29uKCd5ZWxsb3cnKSxcbiAgJ3VuZGVyX2NvbnRyYWN0JzogY3JlYXRlU3RhdHVzSWNvbignb3JhbmdlJyksXG4gICdzb2xkJzogY3JlYXRlU3RhdHVzSWNvbigncmVkJyksXG4gICdBY3RpdmVseSBNYXJrZXRlZCc6IGNyZWF0ZVN0YXR1c0ljb24oJ2dyZWVuJyksXG4gICdVbmRlciBDb250cmFjdCc6IGNyZWF0ZVN0YXR1c0ljb24oJ29yYW5nZScpLFxuICAnU29sZCc6IGNyZWF0ZVN0YXR1c0ljb24oJ3JlZCcpLFxuICAnZGVmYXVsdCc6IG5ldyBMLkljb24uRGVmYXVsdCgpLFxufTtcblxuaW50ZXJmYWNlIE1hcFJlY2VudGVyUHJvcHMge1xuICBzZWxlY3RlZFByb3BlcnR5OiBQcm9wZXJ0eSB8IG51bGw7XG59XG5cbi8vIENvbXBvbmVudCB0byByZWNlbnRlciBtYXAgd2hlbiBzZWxlY3RlZFByb3BlcnR5IGNoYW5nZXNcbmNvbnN0IE1hcFJlY2VudGVyOiBGQzxNYXBSZWNlbnRlclByb3BzPiA9ICh7IHNlbGVjdGVkUHJvcGVydHkgfSkgPT4ge1xuICBjb25zdCBtYXAgPSB1c2VNYXAoKTtcbiAgXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkUHJvcGVydHkgJiYgXG4gICAgICAgIHNlbGVjdGVkUHJvcGVydHkubGF0aXR1ZGUgJiYgXG4gICAgICAgIHNlbGVjdGVkUHJvcGVydHkubG9uZ2l0dWRlKSB7XG4gICAgICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBjb29yZGluYXRlcyBhcmUgdmFsaWQgKGVpdGhlciBmcm9tIHJlc2VhcmNoIG9yIHJlZ3VsYXIgdmFsaWQgY29vcmRpbmF0ZXMpXG4gICAgICBjb25zdCBoYXNDb29yZGluYXRlcyA9IHR5cGVvZiBzZWxlY3RlZFByb3BlcnR5LmxhdGl0dWRlID09PSAnbnVtYmVyJyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygc2VsZWN0ZWRQcm9wZXJ0eS5sb25naXR1ZGUgPT09ICdudW1iZXInO1xuICAgICAgY29uc3QgaXNOb3RaZXJvID0gIShzZWxlY3RlZFByb3BlcnR5LmxhdGl0dWRlID09PSAwICYmIHNlbGVjdGVkUHJvcGVydHkubG9uZ2l0dWRlID09PSAwKTtcbiAgICAgIGNvbnN0IGZyb21SZXNlYXJjaCA9IHNlbGVjdGVkUHJvcGVydHkuX2Nvb3JkaW5hdGVzX2Zyb21fcmVzZWFyY2ggPT09IHRydWU7XG4gICAgICBjb25zdCBpc1ZhbGlkID0gZnJvbVJlc2VhcmNoIHx8IFxuICAgICAgICAgICAgICAgICAgICAgKGhhc0Nvb3JkaW5hdGVzICYmIGlzTm90WmVybyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAhc2VsZWN0ZWRQcm9wZXJ0eS5fY29vcmRpbmF0ZXNfbWlzc2luZyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAhc2VsZWN0ZWRQcm9wZXJ0eS5faXNfZ3JpZF9wYXR0ZXJuKTtcbiAgICAgIFxuICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgbWFwLnNldFZpZXcoXG4gICAgICAgICAgW3NlbGVjdGVkUHJvcGVydHkubGF0aXR1ZGUsIHNlbGVjdGVkUHJvcGVydHkubG9uZ2l0dWRlXSxcbiAgICAgICAgICAxNSxcbiAgICAgICAgICB7IGFuaW1hdGU6IHRydWUgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3NlbGVjdGVkUHJvcGVydHksIG1hcF0pO1xuICBcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5pbnRlcmZhY2UgTWFwQm91bmRzVXBkYXRlclByb3BzIHtcbiAgb25Cb3VuZHNDaGFuZ2U6IChib3VuZHM6IGFueSkgPT4gdm9pZDtcbn1cblxuLy8gQ29tcG9uZW50IHRvIHRyYWNrIG1hcCBib3VuZHMgZm9yIGZpbHRlcmluZ1xuY29uc3QgTWFwQm91bmRzVXBkYXRlcjogRkM8TWFwQm91bmRzVXBkYXRlclByb3BzPiA9ICh7IG9uQm91bmRzQ2hhbmdlIH0pID0+IHtcbiAgY29uc3QgbWFwID0gdXNlTWFwKCk7XG4gIGNvbnN0IFtsYXN0Qm91bmRzLCBzZXRMYXN0Qm91bmRzXSA9IHVzZVN0YXRlPGFueT4obnVsbCk7XG4gIFxuICAvLyBDaGVjayBpZiBib3VuZHMgaGF2ZSBjaGFuZ2VkIHNpZ25pZmljYW50bHkgdG8gYXZvaWQgdG9vIG1hbnkgcmVsb2Fkc1xuICBjb25zdCBoYXNCb3VuZHNDaGFuZ2VkU2lnbmlmaWNhbnRseSA9IChuZXdCb3VuZHM6IGFueSwgb2xkQm91bmRzOiBhbnkpID0+IHtcbiAgICBpZiAoIW9sZEJvdW5kcykgcmV0dXJuIHRydWU7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIGFyZWEgY2hhbmdlIHJhdGlvXG4gICAgY29uc3Qgb2xkQXJlYSA9IChvbGRCb3VuZHMubm9ydGggLSBvbGRCb3VuZHMuc291dGgpICogKG9sZEJvdW5kcy5lYXN0IC0gb2xkQm91bmRzLndlc3QpO1xuICAgIGNvbnN0IG5ld0FyZWEgPSAobmV3Qm91bmRzLm5vcnRoIC0gbmV3Qm91bmRzLnNvdXRoKSAqIChuZXdCb3VuZHMuZWFzdCAtIG5ld0JvdW5kcy53ZXN0KTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgY2VudGVyIHNoaWZ0IGRpc3RhbmNlXG4gICAgY29uc3Qgb2xkQ2VudGVyTGF0ID0gKG9sZEJvdW5kcy5ub3J0aCArIG9sZEJvdW5kcy5zb3V0aCkgLyAyO1xuICAgIGNvbnN0IG9sZENlbnRlckxuZyA9IChvbGRCb3VuZHMuZWFzdCArIG9sZEJvdW5kcy53ZXN0KSAvIDI7XG4gICAgY29uc3QgbmV3Q2VudGVyTGF0ID0gKG5ld0JvdW5kcy5ub3J0aCArIG5ld0JvdW5kcy5zb3V0aCkgLyAyO1xuICAgIGNvbnN0IG5ld0NlbnRlckxuZyA9IChuZXdCb3VuZHMuZWFzdCArIG5ld0JvdW5kcy53ZXN0KSAvIDI7XG4gICAgXG4gICAgY29uc3QgY2VudGVyU2hpZnQgPSBNYXRoLnNxcnQoXG4gICAgICBNYXRoLnBvdyhuZXdDZW50ZXJMYXQgLSBvbGRDZW50ZXJMYXQsIDIpICsgXG4gICAgICBNYXRoLnBvdyhuZXdDZW50ZXJMbmcgLSBvbGRDZW50ZXJMbmcsIDIpXG4gICAgKTtcbiAgICBcbiAgICAvLyBEZXRlcm1pbmUgaWYgYm91bmRzIGhhdmUgY2hhbmdlZCBlbm91Z2ggdG8gdHJpZ2dlciBhIHJlbG9hZFxuICAgIC8vIEVpdGhlciB0aGUgYXJlYSBoYXMgY2hhbmdlZCBieSA1MCUgb3IgbW9yZSwgb3IgdGhlIGNlbnRlciBoYXMgc2hpZnRlZCBzaWduaWZpY2FudGx5XG4gICAgY29uc3QgYXJlYVJhdGlvID0gTWF0aC5tYXgobmV3QXJlYSAvIG9sZEFyZWEsIG9sZEFyZWEgLyBuZXdBcmVhKTtcbiAgICByZXR1cm4gYXJlYVJhdGlvID4gMS41IHx8IGNlbnRlclNoaWZ0ID4gMC4xO1xuICB9O1xuICBcbiAgY29uc3QgdXBkYXRlQm91bmRzUmVmID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGJvdW5kcyA9IG1hcC5nZXRCb3VuZHMoKTtcbiAgICBjb25zdCBuZXdCb3VuZHMgPSB7XG4gICAgICBub3J0aDogYm91bmRzLmdldE5vcnRoKCksXG4gICAgICBzb3V0aDogYm91bmRzLmdldFNvdXRoKCksXG4gICAgICBlYXN0OiBib3VuZHMuZ2V0RWFzdCgpLFxuICAgICAgd2VzdDogYm91bmRzLmdldFdlc3QoKSxcbiAgICB9O1xuICAgIFxuICAgIC8vIENoZWNrIGlmIGJvdW5kcyBoYXZlIGNoYW5nZWQgc2lnbmlmaWNhbnRseVxuICAgIGlmIChoYXNCb3VuZHNDaGFuZ2VkU2lnbmlmaWNhbnRseShuZXdCb3VuZHMsIGxhc3RCb3VuZHMpKSB7XG4gICAgICBjb25zb2xlLmxvZygnTWFwIGJvdW5kcyBjaGFuZ2VkIHNpZ25pZmljYW50bHksIHRyaWdnZXJpbmcgdXBkYXRlJyk7XG4gICAgICBzZXRMYXN0Qm91bmRzKG5ld0JvdW5kcyk7XG4gICAgICBvbkJvdW5kc0NoYW5nZShuZXdCb3VuZHMpO1xuICAgIH1cbiAgfSwgW21hcCwgb25Cb3VuZHNDaGFuZ2UsIGxhc3RCb3VuZHNdKTtcbiAgXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gT25seSBydW4gdGhlIGluaXRpYWwgdXBkYXRlIGFmdGVyIGEgc2xpZ2h0IGRlbGF5IHRvIGVuc3VyZSB0aGUgbWFwIGlzIGZ1bGx5IGxvYWRlZFxuICAgIGNvbnN0IGluaXRpYWxUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB1cGRhdGVCb3VuZHNSZWYoKTtcbiAgICB9LCA1MDApO1xuICAgIFxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICBtYXAub24oJ21vdmVlbmQnLCB1cGRhdGVCb3VuZHNSZWYpO1xuICAgIG1hcC5vbignem9vbWVuZCcsIHVwZGF0ZUJvdW5kc1JlZik7XG4gICAgXG4gICAgLy8gQ2xlYW51cCBsaXN0ZW5lcnMgYW5kIHRpbWVvdXRcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KGluaXRpYWxUaW1lb3V0KTtcbiAgICAgIG1hcC5vZmYoJ21vdmVlbmQnLCB1cGRhdGVCb3VuZHNSZWYpO1xuICAgICAgbWFwLm9mZignem9vbWVuZCcsIHVwZGF0ZUJvdW5kc1JlZik7XG4gICAgfTtcbiAgfSwgW21hcCwgdXBkYXRlQm91bmRzUmVmXSk7XG4gIFxuICByZXR1cm4gbnVsbDtcbn07XG5cbmludGVyZmFjZSBNYXBGaWx0ZXJQcm9wcyB7XG4gIG9uRmlsdGVyQ2hhbmdlOiAoZmlsdGVyczogeyBzaG93UHJlbWl1bTogYm9vbGVhbjsgc2hvd0F2YWlsYWJsZTogYm9vbGVhbjsgc2hvd1VuZGVyQ29udHJhY3Q6IGJvb2xlYW47IHNob3dTb2xkOiBib29sZWFuIH0pID0+IHZvaWRcbn1cblxuLy8gQWRkIGEgc2ltcGxlIGZpbHRlciBjb21wb25lbnQgZm9yIHRoZSBtYXBcbmNvbnN0IE1hcEZpbHRlcjogRkM8TWFwRmlsdGVyUHJvcHM+ID0gKHsgb25GaWx0ZXJDaGFuZ2UgfSkgPT4ge1xuICBjb25zdCBbZXhwYW5kZWQsIHNldEV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ZpbHRlcnMsIHNldEZpbHRlcnNdID0gdXNlU3RhdGUoe1xuICAgIHNob3dQcmVtaXVtOiB0cnVlLFxuICAgIHNob3dBdmFpbGFibGU6IHRydWUsXG4gICAgc2hvd1VuZGVyQ29udHJhY3Q6IHRydWUsXG4gICAgc2hvd1NvbGQ6IHRydWVcbiAgfSk7XG4gIFxuICBjb25zdCBoYW5kbGVGaWx0ZXJDaGFuZ2UgPSAoa2V5OiBzdHJpbmcsIHZhbHVlOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgbmV3RmlsdGVycyA9IHsgLi4uZmlsdGVycywgW2tleV06IHZhbHVlIH07XG4gICAgc2V0RmlsdGVycyhuZXdGaWx0ZXJzKTtcbiAgICBvbkZpbHRlckNoYW5nZShuZXdGaWx0ZXJzKTtcbiAgfTtcbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMjAgcmlnaHQtNCB6LTEwIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3ctbWQgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgZm9udC1zZW1pYm9sZCB0ZXh0LXNtIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEV4cGFuZGVkKCFleHBhbmRlZCl9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTUgdy01IG1yLTIgdGV4dC1ncmF5LTYwMFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTMgNGExIDEgMCAwMTEtMWgxNmExIDEgMCAwMTEgMXYyLjU4NmExIDEgMCAwMS0uMjkzLjcwN2wtNi40MTQgNi40MTRhMSAxIDAgMDAtLjI5My43MDdWMTdsLTQgNHYtNi41ODZhMSAxIDAgMDAtLjI5My0uNzA3TDMuMjkzIDcuMjkzQTEgMSAwIDAxMyA2LjU4NlY0elwiIC8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgUXVpY2sgRmlsdGVyXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9e2BoLTUgdy01IHRyYW5zZm9ybSB0cmFuc2l0aW9uLXRyYW5zZm9ybSAke2V4cGFuZGVkID8gJ3JvdGF0ZS0xODAnIDogJyd9YH0gZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE5IDlsLTcgNy03LTdcIiAvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7ZXhwYW5kZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTMgcHktMiBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgZ2FwLTFcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrYm94IGgtNCB3LTQgbXItMiB0ZXh0LWJsdWUtNjAwXCIgXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17ZmlsdGVycy5zaG93UHJlbWl1bX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUZpbHRlckNoYW5nZSgnc2hvd1ByZW1pdW0nLCBlLnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgUHJlbWl1bSBQcm9wZXJ0aWVzXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY2hlY2tib3ggaC00IHctNCBtci0yIHRleHQtZ3JlZW4tNjAwXCIgXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17ZmlsdGVycy5zaG93QXZhaWxhYmxlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlRmlsdGVyQ2hhbmdlKCdzaG93QXZhaWxhYmxlJywgZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIEF2YWlsYWJsZSBQcm9wZXJ0aWVzXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY2hlY2tib3ggaC00IHctNCBtci0yIHRleHQteWVsbG93LTYwMFwiIFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2ZpbHRlcnMuc2hvd1VuZGVyQ29udHJhY3R9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVGaWx0ZXJDaGFuZ2UoJ3Nob3dVbmRlckNvbnRyYWN0JywgZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIFVuZGVyIENvbnRyYWN0XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY2hlY2tib3ggaC00IHctNCBtci0yIHRleHQtcmVkLTYwMFwiIFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2ZpbHRlcnMuc2hvd1NvbGR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVGaWx0ZXJDaGFuZ2UoJ3Nob3dTb2xkJywgZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIFNvbGQgUHJvcGVydGllc1xuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gQWRkIGEgc2VhcmNoIGNvbXBvbmVudFxuY29uc3QgTWFwU2VhcmNoOiBGQzx7XG4gIHByb3BlcnRpZXM6IFByb3BlcnR5W107XG4gIG9uUHJvcGVydHlTZWxlY3Q6IChwcm9wZXJ0eTogUHJvcGVydHkpID0+IHZvaWQ7XG59PiA9ICh7IHByb3BlcnRpZXMsIG9uUHJvcGVydHlTZWxlY3QgfSkgPT4ge1xuICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtzaG93UmVzdWx0cywgc2V0U2hvd1Jlc3VsdHNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBzZWFyY2hSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIC8vIENsb3NlIHNlYXJjaCByZXN1bHRzIHdoZW4gY2xpY2tpbmcgb3V0c2lkZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrT3V0c2lkZShldmVudDogTW91c2VFdmVudCkge1xuICAgICAgaWYgKHNlYXJjaFJlZi5jdXJyZW50ICYmICFzZWFyY2hSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0U2hvd1Jlc3VsdHMoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgcmV0dXJuICgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVTZWFyY2hDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKTtcbiAgICBzZXRTaG93UmVzdWx0cyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBmaWx0ZXJlZFByb3BlcnRpZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXNlYXJjaFRlcm0pIHJldHVybiBbXTtcbiAgICBcbiAgICBjb25zdCBzZWFyY2hMb3dlciA9IHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gcHJvcGVydGllc1xuICAgICAgLmZpbHRlcihwcm9wZXJ0eSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoTmFtZSA9IHByb3BlcnR5Lm5hbWU/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpO1xuICAgICAgICBjb25zdCBtYXRjaEFkZHJlc3MgPSBwcm9wZXJ0eS5hZGRyZXNzPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKTtcbiAgICAgICAgY29uc3QgbWF0Y2hCcm9rZXIgPSBwcm9wZXJ0eS5icm9rZXI/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpO1xuICAgICAgICByZXR1cm4gbWF0Y2hOYW1lIHx8IG1hdGNoQWRkcmVzcyB8fCBtYXRjaEJyb2tlcjtcbiAgICAgIH0pXG4gICAgICAuc2xpY2UoMCwgNSk7IC8vIExpbWl0IHRvIDUgcmVzdWx0cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gIH0sIFtwcm9wZXJ0aWVzLCBzZWFyY2hUZXJtXSk7XG5cbiAgY29uc3QgaGFuZGxlU2VsZWN0ID0gKHByb3BlcnR5OiBQcm9wZXJ0eSkgPT4ge1xuICAgIG9uUHJvcGVydHlTZWxlY3QocHJvcGVydHkpO1xuICAgIHNldFNlYXJjaFRlcm0oJycpO1xuICAgIHNldFNob3dSZXN1bHRzKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBmb3JtYXRQcmljZSA9IChwcmljZTogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCFwcmljZSkgcmV0dXJuICdQcmljZSBvbiByZXF1ZXN0JztcbiAgICByZXR1cm4gcHJpY2UgPj0gMTAwMDAwMCBcbiAgICAgID8gYCQkeyhwcmljZSAvIDEwMDAwMDApLnRvRml4ZWQoMSl9TWAgXG4gICAgICA6IGAkJHsocHJpY2UgLyAxMDAwKS50b0ZpeGVkKDApfUtgO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiByZWY9e3NlYXJjaFJlZn0gY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTQgbGVmdC00IHotMTAgdy04MFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19XG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVNlYXJjaENoYW5nZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBwcm9wZXJ0aWVzIGJ5IG5hbWUsIGFkZHJlc3MsIG9yIGJyb2tlci4uLlwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS03MDAgcm91bmRlZC1sZyBzaGFkb3ctc20gZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeSBmb2N1czpib3JkZXItdHJhbnNwYXJlbnRcIlxuICAgICAgICAvPlxuICAgICAgICB7c2VhcmNoVGVybSAmJiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBzZXRTZWFyY2hUZXJtKCcnKTtcbiAgICAgICAgICAgICAgc2V0U2hvd1Jlc3VsdHMoZmFsc2UpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTYwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC01IHctNVwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTAgMThhOCA4IDAgMTAwLTE2IDggOCAwIDAwMCAxNnpNOC43MDcgNy4yOTNhMSAxIDAgMDAtMS40MTQgMS40MTRMOC41ODYgMTBsLTEuMjkzIDEuMjkzYTEgMSAwIDEwMS40MTQgMS40MTRMMTAgMTEuNDE0bDEuMjkzIDEuMjkzYTEgMSAwIDAwMS40MTQtMS40MTRMMTEuNDE0IDEwbDEuMjkzLTEuMjkzYTEgMSAwIDAwLTEuNDE0LTEuNDE0TDEwIDguNTg2IDguNzA3IDcuMjkzelwiIGNsaXBSdWxlPVwiZXZlbm9kZFwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7c2hvd1Jlc3VsdHMgJiYgZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHctZnVsbCBtdC0xIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCByb3VuZGVkLWxnIHNoYWRvdy1sZyBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICB7ZmlsdGVyZWRQcm9wZXJ0aWVzLm1hcCgocHJvcGVydHkpID0+IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAga2V5PXtwcm9wZXJ0eS5pZH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2VsZWN0KHByb3BlcnR5KX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyB0ZXh0LWxlZnQgaG92ZXI6YmctZ3JheS01MCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwIGJvcmRlci1iIGxhc3Q6Ym9yZGVyLWItMCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCB3LTEyIGgtMTIgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTYwMCByb3VuZGVkIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgIHtwcm9wZXJ0eS5pbWFnZV91cmwgPyAoXG4gICAgICAgICAgICAgICAgICA8aW1nIFxuICAgICAgICAgICAgICAgICAgICBzcmM9e3Byb3BlcnR5LmltYWdlX3VybH0gXG4gICAgICAgICAgICAgICAgICAgIGFsdD17cHJvcGVydHkubmFtZX0gXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTYgdy02IHRleHQtZ3JheS00MDBcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTkgMjFWNWEyIDIgMCAwMC0yLTJIN2EyIDIgMCAwMC0yIDJ2MTZtMTQgMGgybS0yIDBoLTVtLTkgMEgzbTIgMGg1TTkgN2gxbS0xIDRoMW00LTRoMW0tMSA0aDFtLTUgMTB2LTVhMSAxIDAgMDExLTFoMmExIDEgMCAwMTEgMXY1bS00IDBoNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtc20gdHJ1bmNhdGVcIj57cHJvcGVydHkubmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgdHJ1bmNhdGVcIj57cHJvcGVydHkuYWRkcmVzc308L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW1cIj57Zm9ybWF0UHJpY2UocHJvcGVydHkucHJpY2UpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIHtwcm9wZXJ0eS51bml0cyAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj57cHJvcGVydHkudW5pdHN9IHVuaXRzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7c2hvd1Jlc3VsdHMgJiYgc2VhcmNoVGVybSAmJiBmaWx0ZXJlZFByb3BlcnRpZXMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LWZ1bGwgbXQtMSBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcm91bmRlZC1sZyBzaGFkb3ctbGdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMyB0ZXh0LXNtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICBObyBwcm9wZXJ0aWVzIGZvdW5kIG1hdGNoaW5nIFwie3NlYXJjaFRlcm19XCJcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gQWRkIG5ldyBQcm9wZXJ0aWVzTGlzdCBjb21wb25lbnRcbmNvbnN0IFByb3BlcnRpZXNMaXN0OiBGQzx7XG4gIHByb3BlcnRpZXM6IFByb3BlcnR5W107XG4gIG9uUHJvcGVydHlTZWxlY3Q6IChwcm9wZXJ0eTogUHJvcGVydHkpID0+IHZvaWQ7XG4gIG1hcEZpbHRlcnM6IHtcbiAgICBzaG93UHJlbWl1bTogYm9vbGVhbjtcbiAgICBzaG93QXZhaWxhYmxlOiBib29sZWFuO1xuICAgIHNob3dVbmRlckNvbnRyYWN0OiBib29sZWFuO1xuICAgIHNob3dTb2xkOiBib29sZWFuO1xuICB9O1xuICBzZXRNYXBGaWx0ZXJzOiAoZmlsdGVyczogYW55KSA9PiB2b2lkO1xufT4gPSAoeyBwcm9wZXJ0aWVzLCBvblByb3BlcnR5U2VsZWN0LCBtYXBGaWx0ZXJzLCBzZXRNYXBGaWx0ZXJzIH0pID0+IHtcbiAgY29uc3QgW3NvcnRCeSwgc2V0U29ydEJ5XSA9IHVzZVN0YXRlPHN0cmluZz4oJ3JlY2VudCcpO1xuICBjb25zdCBbdW5pdEZpbHRlciwgc2V0VW5pdEZpbHRlcl0gPSB1c2VTdGF0ZTxbbnVtYmVyLCBudW1iZXJdPihbMCwgMTAwMF0pO1xuICBjb25zdCBbeWVhckZpbHRlciwgc2V0WWVhckZpbHRlcl0gPSB1c2VTdGF0ZTxbbnVtYmVyLCBudW1iZXJdPihbMTkwMCwgbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpXSk7XG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKTtcblxuICAvLyBDYWxjdWxhdGUgcmFuZ2VzIGZvciBmaWx0ZXJzXG4gIGNvbnN0IHJhbmdlcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHVuaXRzID0gcHJvcGVydGllcy5tYXAocCA9PiBwLm51bV91bml0cyB8fCBwLnVuaXRzIHx8IDApO1xuICAgIGNvbnN0IHllYXJzID0gcHJvcGVydGllcy5tYXAocCA9PiBwLnllYXJfYnVpbHQgfHwgMCkuZmlsdGVyKHkgPT4geSA+IDApO1xuICAgIHJldHVybiB7XG4gICAgICB1bml0czoge1xuICAgICAgICBtaW46IE1hdGgubWluKC4uLnVuaXRzKSxcbiAgICAgICAgbWF4OiBNYXRoLm1heCguLi51bml0cylcbiAgICAgIH0sXG4gICAgICB5ZWFyczoge1xuICAgICAgICBtaW46IE1hdGgubWluKC4uLnllYXJzKSxcbiAgICAgICAgbWF4OiBNYXRoLm1heCguLi55ZWFycylcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbcHJvcGVydGllc10pO1xuXG4gIC8vIEZpbHRlciBhbmQgc29ydCBwcm9wZXJ0aWVzXG4gIGNvbnN0IGZpbHRlcmVkQW5kU29ydGVkUHJvcGVydGllcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzXG4gICAgICAuZmlsdGVyKHByb3BlcnR5ID0+IHtcbiAgICAgICAgLy8gU3RhdHVzIGZpbHRlcnNcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gKHByb3BlcnR5LnN0YXR1cyB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKHN0YXR1cy5pbmNsdWRlcygnY29udHJhY3QnKSB8fCBzdGF0dXMuaW5jbHVkZXMoJ3BlbmRpbmcnKSkge1xuICAgICAgICAgIGlmICghbWFwRmlsdGVycy5zaG93VW5kZXJDb250cmFjdCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cy5pbmNsdWRlcygnc29sZCcpKSB7XG4gICAgICAgICAgaWYgKCFtYXBGaWx0ZXJzLnNob3dTb2xkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFtYXBGaWx0ZXJzLnNob3dBdmFpbGFibGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZW1pdW0gZmlsdGVyXG4gICAgICAgIGlmIChwcm9wZXJ0eS5wcmljZSAmJiBwcm9wZXJ0eS5wcmljZSA+PSAxMDAwMDAwMCkge1xuICAgICAgICAgIGlmICghbWFwRmlsdGVycy5zaG93UHJlbWl1bSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5pdCBmaWx0ZXJcbiAgICAgICAgY29uc3QgdW5pdHMgPSBwcm9wZXJ0eS5udW1fdW5pdHMgfHwgcHJvcGVydHkudW5pdHMgfHwgMDtcbiAgICAgICAgaWYgKHVuaXRzIDwgdW5pdEZpbHRlclswXSB8fCB1bml0cyA+IHVuaXRGaWx0ZXJbMV0pIHJldHVybiBmYWxzZTtcblxuICAgICAgICAvLyBZZWFyIGZpbHRlclxuICAgICAgICBjb25zdCB5ZWFyID0gcHJvcGVydHkueWVhcl9idWlsdCB8fCAwO1xuICAgICAgICBpZiAoeWVhciAmJiAoeWVhciA8IHllYXJGaWx0ZXJbMF0gfHwgeWVhciA+IHllYXJGaWx0ZXJbMV0pKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgLy8gU2VhcmNoIHRlcm1cbiAgICAgICAgaWYgKHNlYXJjaFRlcm0pIHtcbiAgICAgICAgICBjb25zdCBzZWFyY2hMb3dlciA9IHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcHJvcGVydHkubmFtZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikgfHxcbiAgICAgICAgICAgIHByb3BlcnR5LmFkZHJlc3M/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpIHx8XG4gICAgICAgICAgICBwcm9wZXJ0eS5icm9rZXI/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoc29ydEJ5KSB7XG4gICAgICAgICAgY2FzZSAndW5pdHMtaGlnaCc6XG4gICAgICAgICAgICByZXR1cm4gKGIubnVtX3VuaXRzIHx8IGIudW5pdHMgfHwgMCkgLSAoYS5udW1fdW5pdHMgfHwgYS51bml0cyB8fCAwKTtcbiAgICAgICAgICBjYXNlICd1bml0cy1sb3cnOlxuICAgICAgICAgICAgcmV0dXJuIChhLm51bV91bml0cyB8fCBhLnVuaXRzIHx8IDApIC0gKGIubnVtX3VuaXRzIHx8IGIudW5pdHMgfHwgMCk7XG4gICAgICAgICAgY2FzZSAneWVhci1uZXcnOlxuICAgICAgICAgICAgcmV0dXJuIChiLnllYXJfYnVpbHQgfHwgMCkgLSAoYS55ZWFyX2J1aWx0IHx8IDApO1xuICAgICAgICAgIGNhc2UgJ3llYXItb2xkJzpcbiAgICAgICAgICAgIHJldHVybiAoYS55ZWFyX2J1aWx0IHx8IDApIC0gKGIueWVhcl9idWlsdCB8fCAwKTtcbiAgICAgICAgICBjYXNlICdyZWNlbnQnOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoYi5jcmVhdGVkX2F0IHx8IDApLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuY3JlYXRlZF9hdCB8fCAwKS5nZXRUaW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9LCBbcHJvcGVydGllcywgbWFwRmlsdGVycywgdW5pdEZpbHRlciwgeWVhckZpbHRlciwgc2VhcmNoVGVybSwgc29ydEJ5XSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMCB0b3AtMCBoLWZ1bGwgdy05NiBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHNoYWRvdy1sZyBmbGV4IGZsZXgtY29sXCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItMlwiPlByb3BlcnRpZXM8L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17c2VhcmNoVGVybX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBwcm9wZXJ0aWVzLi4uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktNzAwIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICB7c2VhcmNoVGVybSAmJiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlYXJjaFRlcm0oJycpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTQgdy00XCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEwIDE4YTggOCAwIDEwMC0xNiA4IDggMCAwMDAgMTZ6TTguNzA3IDcuMjkzYTEgMSAwIDAwLTEuNDE0IDEuNDE0TDguNTg2IDEwbC0xLjI5MyAxLjI5M2ExIDEgMCAxMDEuNDE0IDEuNDE0TDEwIDExLjQxNGwxLjI5MyAxLjI5M2ExIDEgMCAwMDEuNDE0LTEuNDE0TDExLjQxNCAxMGwxLjI5My0xLjI5M2ExIDEgMCAwMC0xLjQxNC0xLjQxNEwxMCA4LjU4NiA4LjcwNyA3LjI5M3pcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBGaWx0ZXJzICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHNwYWNlLXktNFwiPlxuICAgICAgICB7LyogU29ydCBkcm9wZG93biAqL31cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0xXCI+U29ydCBCeTwvbGFiZWw+XG4gICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgdmFsdWU9e3NvcnRCeX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U29ydEJ5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktNzAwIHJvdW5kZWQtbGcgdGV4dC1zbVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJlY2VudFwiPk1vc3QgUmVjZW50PC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidW5pdHMtaGlnaFwiPlVuaXRzIChIaWdoIHRvIExvdyk8L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ1bml0cy1sb3dcIj5Vbml0cyAoTG93IHRvIEhpZ2gpPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwieWVhci1uZXdcIj5ZZWFyIEJ1aWx0IChOZXdlc3QpPC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwieWVhci1vbGRcIj5ZZWFyIEJ1aWx0IChPbGRlc3QpPC9vcHRpb24+XG4gICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTdGF0dXMgZmlsdGVycyAqL31cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0yXCI+U3RhdHVzPC9sYWJlbD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bWFwRmlsdGVycy5zaG93QXZhaWxhYmxlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TWFwRmlsdGVycyh7IC4uLm1hcEZpbHRlcnMsIHNob3dBdmFpbGFibGU6IGUudGFyZ2V0LmNoZWNrZWQgfSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jaGVja2JveCBoLTQgdy00IHRleHQtYmx1ZS02MDBcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtc21cIj5BdmFpbGFibGU8L3NwYW4+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bWFwRmlsdGVycy5zaG93VW5kZXJDb250cmFjdH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE1hcEZpbHRlcnMoeyAuLi5tYXBGaWx0ZXJzLCBzaG93VW5kZXJDb250cmFjdDogZS50YXJnZXQuY2hlY2tlZCB9KX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrYm94IGgtNCB3LTQgdGV4dC15ZWxsb3ctNjAwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiB0ZXh0LXNtXCI+VW5kZXIgQ29udHJhY3Q8L3NwYW4+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17bWFwRmlsdGVycy5zaG93U29sZH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE1hcEZpbHRlcnMoeyAuLi5tYXBGaWx0ZXJzLCBzaG93U29sZDogZS50YXJnZXQuY2hlY2tlZCB9KX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNoZWNrYm94IGgtNCB3LTQgdGV4dC1yZWQtNjAwXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiB0ZXh0LXNtXCI+U29sZDwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBVbml0IHJhbmdlIGZpbHRlciAqL31cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0yXCI+XG4gICAgICAgICAgICBVbml0cyBSYW5nZToge3VuaXRGaWx0ZXJbMF19IC0ge3VuaXRGaWx0ZXJbMV19XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTJcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICBtaW49e3Jhbmdlcy51bml0cy5taW59XG4gICAgICAgICAgICAgIG1heD17cmFuZ2VzLnVuaXRzLm1heH1cbiAgICAgICAgICAgICAgdmFsdWU9e3VuaXRGaWx0ZXJbMF19XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VW5pdEZpbHRlcihbcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpLCB1bml0RmlsdGVyWzFdXSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIG1pbj17cmFuZ2VzLnVuaXRzLm1pbn1cbiAgICAgICAgICAgICAgbWF4PXtyYW5nZXMudW5pdHMubWF4fVxuICAgICAgICAgICAgICB2YWx1ZT17dW5pdEZpbHRlclsxXX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRVbml0RmlsdGVyKFt1bml0RmlsdGVyWzBdLCBwYXJzZUludChlLnRhcmdldC52YWx1ZSldKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBZZWFyIGJ1aWx0IGZpbHRlciAqL31cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSBtYi0yXCI+XG4gICAgICAgICAgICBZZWFyIEJ1aWx0OiB7eWVhckZpbHRlclswXX0gLSB7eWVhckZpbHRlclsxXX1cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMlwiPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIG1pbj17cmFuZ2VzLnllYXJzLm1pbn1cbiAgICAgICAgICAgICAgbWF4PXtyYW5nZXMueWVhcnMubWF4fVxuICAgICAgICAgICAgICB2YWx1ZT17eWVhckZpbHRlclswXX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRZZWFyRmlsdGVyKFtwYXJzZUludChlLnRhcmdldC52YWx1ZSksIHllYXJGaWx0ZXJbMV1dKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgbWluPXtyYW5nZXMueWVhcnMubWlufVxuICAgICAgICAgICAgICBtYXg9e3Jhbmdlcy55ZWFycy5tYXh9XG4gICAgICAgICAgICAgIHZhbHVlPXt5ZWFyRmlsdGVyWzFdfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFllYXJGaWx0ZXIoW3llYXJGaWx0ZXJbMF0sIHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKV0pfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFByb3BlcnRpZXMgbGlzdCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICB7ZmlsdGVyZWRBbmRTb3J0ZWRQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICBObyBwcm9wZXJ0aWVzIG1hdGNoIHlvdXIgZmlsdGVyc1xuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGl2aWRlLXkgZGl2aWRlLWdyYXktMjAwIGRhcms6ZGl2aWRlLWdyYXktNzAwXCI+XG4gICAgICAgICAgICB7ZmlsdGVyZWRBbmRTb3J0ZWRQcm9wZXJ0aWVzLm1hcCgocHJvcGVydHkpID0+IChcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGtleT17cHJvcGVydHkuaWR9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25Qcm9wZXJ0eVNlbGVjdChwcm9wZXJ0eSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC00IGhvdmVyOmJnLWdyYXktNTAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCB3LTE2IGgtMTYgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTYwMCByb3VuZGVkIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICB7cHJvcGVydHkuaW1hZ2VfdXJsID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17cHJvcGVydHkuaW1hZ2VfdXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtwcm9wZXJ0eS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTggdy04IHRleHQtZ3JheS00MDBcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE5IDIxVjVhMiAyIDAgMDAtMi0ySDdhMiAyIDAgMDAtMiAydjE2bTE0IDBoMm0tMiAwaC01bS05IDBIM20yIDBoNU05IDdoMW0tMSA0aDFtNC00aDFtLTEgNGgxbS01IDEwdi01YTEgMSAwIDAxMS0xaDJhMSAxIDAgMDExIDF2NW0tNCAwaDRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdHJ1bmNhdGVcIj57cHJvcGVydHkubmFtZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTEgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7cHJvcGVydHkuYWRkcmVzc31cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BweC0yIHB5LTAuNSByb3VuZGVkLWZ1bGwgdGV4dC14cyAke1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuc3RhdHVzPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdhdmFpbGFibGUnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnN0YXR1cz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYWN0aXZlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBwcm9wZXJ0eS5zdGF0dXM/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2NvbnRyYWN0JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmcteWVsbG93LTEwMCB0ZXh0LXllbGxvdy04MDAnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1yZWQtMTAwIHRleHQtcmVkLTgwMCdcbiAgICAgICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cHJvcGVydHkuc3RhdHVzPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdhdmFpbGFibGUnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zdGF0dXM/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2FjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ0F2YWlsYWJsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBwcm9wZXJ0eS5zdGF0dXM/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2NvbnRyYWN0JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnVW5kZXIgQ29udHJhY3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogcHJvcGVydHkuc3RhdHVzIHx8ICdVbmtub3duJ31cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgeyhwcm9wZXJ0eS5udW1fdW5pdHMgfHwgcHJvcGVydHkudW5pdHMpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvcGVydHkubnVtX3VuaXRzIHx8IHByb3BlcnR5LnVuaXRzfSB1bml0c1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge3Byb3BlcnR5LnllYXJfYnVpbHQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEJ1aWx0IHtwcm9wZXJ0eS55ZWFyX2J1aWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmludGVyZmFjZSBNYXBDb21wb25lbnRQcm9wcyB7XG4gIHByb3BlcnRpZXM6IFByb3BlcnR5W107XG4gIHNlbGVjdGVkUHJvcGVydHk6IFByb3BlcnR5IHwgbnVsbDtcbiAgc2V0U2VsZWN0ZWRQcm9wZXJ0eTogKHByb3BlcnR5OiBQcm9wZXJ0eSB8IG51bGwpID0+IHZvaWQ7XG4gIG9uQm91bmRzQ2hhbmdlPzogKGJvdW5kczogYW55KSA9PiB2b2lkO1xuICBtYXBib3hUb2tlbj86IHN0cmluZztcbn1cblxuY29uc3QgTWFwQ29tcG9uZW50OiBGQzxNYXBDb21wb25lbnRQcm9wcz4gPSAoeyBcbiAgcHJvcGVydGllcywgXG4gIHNlbGVjdGVkUHJvcGVydHksIFxuICBzZXRTZWxlY3RlZFByb3BlcnR5LFxuICBvbkJvdW5kc0NoYW5nZSxcbiAgbWFwYm94VG9rZW4gXG59KSA9PiB7XG4gIC8vIFN0YXRlIGZvciBnZW9jb2RlZCBwcm9wZXJ0aWVzXG4gIGNvbnN0IFtwcm9jZXNzZWRQcm9wZXJ0aWVzLCBzZXRQcm9jZXNzZWRQcm9wZXJ0aWVzXSA9IHVzZVN0YXRlPFByb3BlcnR5W10+KHByb3BlcnRpZXMgfHwgW10pO1xuICBjb25zdCBbZ2VvY29kaW5nU3RhdHVzLCBzZXRHZW9jb2RpbmdTdGF0dXNdID0gdXNlU3RhdGUoe1xuICAgIGlzR2VvY29kaW5nOiBmYWxzZSxcbiAgICBjb3VudDogMCxcbiAgICB0b3RhbDogMFxuICB9KTtcbiAgXG4gIC8vIEZpbHRlciBzdGF0ZVxuICBjb25zdCBbbWFwRmlsdGVycywgc2V0TWFwRmlsdGVyc10gPSB1c2VTdGF0ZSh7XG4gICAgc2hvd1ByZW1pdW06IHRydWUsXG4gICAgc2hvd0F2YWlsYWJsZTogdHJ1ZSxcbiAgICBzaG93VW5kZXJDb250cmFjdDogdHJ1ZSxcbiAgICBzaG93U29sZDogdHJ1ZVxuICB9KTtcbiAgXG4gIC8vIEdldCBNYXBib3ggdG9rZW4gZnJvbSBlbnZpcm9ubWVudCwgd2l0aCBmYWxsYmFjayB0byBlbnN1cmUgbWFwIGxvYWRzXG4gIGNvbnN0IG1hcGJveFRva2VuRW52ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTUFQQk9YX1RPS0VOIHx8ICcnO1xuICBjb25zdCBbbWFwTG9hZGVkLCBzZXRNYXBMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWFwRXJyb3IsIHNldE1hcEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBcbiAgLy8gUHJvcGVybHkgdmVyaWZ5IHRva2VuIGZvcm1hdCB0byBhdm9pZCBtYXAgbG9hZGluZyBpc3N1ZXNcbiAgY29uc3QgaXNWYWxpZE1hcGJveFRva2VuID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIG1hcGJveFRva2VuRW52ICYmIG1hcGJveFRva2VuRW52LnN0YXJ0c1dpdGgoJ3BrLicpICYmIG1hcGJveFRva2VuRW52Lmxlbmd0aCA+IDIwO1xuICB9LCBbbWFwYm94VG9rZW5FbnZdKTtcblxuICAvLyBGb3IgQXVzdGluLCBUWFxuICBjb25zdCBkZWZhdWx0Q2VudGVyOiBbbnVtYmVyLCBudW1iZXJdID0gWzMwLjI2NzIsIC05Ny43NDMxXTtcbiAgY29uc3QgZGVmYXVsdFpvb20gPSAxMjtcbiAgXG4gIC8vIERlYnVnIHZhcmlhYmxlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcHJvcGVydGllcyB8fCAhQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgICAgY29uc29sZS5sb2coJ05vIHByb3BlcnRpZXMgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGA9PT09PSBNQVAgQ09NUE9ORU5UIERFQlVHID09PT09YCk7XG4gICAgY29uc29sZS5sb2coYFJlY2VpdmVkICR7cHJvcGVydGllcy5sZW5ndGh9IHByb3BlcnRpZXMgZnJvbSBwYXJlbnRgKTtcbiAgICBcbiAgICAvLyBBbmFseXplIHByb3BlcnRpZXMgYmVmb3JlIGZpbHRlcmluZ1xuICAgIGNvbnN0IHdpdGhMYXQgPSBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAubGF0aXR1ZGUpLmxlbmd0aDtcbiAgICBjb25zdCB3aXRoTG5nID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLmxvbmdpdHVkZSkubGVuZ3RoO1xuICAgIGNvbnN0IHdpdGhCb3RoID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLmxhdGl0dWRlICYmIHAubG9uZ2l0dWRlKS5sZW5ndGg7XG4gICAgY29uc3QgdmFsaWROdW1iZXJzID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAgIHR5cGVvZiBwLmxhdGl0dWRlID09PSAnbnVtYmVyJyAmJiBcbiAgICAgIHR5cGVvZiBwLmxvbmdpdHVkZSA9PT0gJ251bWJlcidcbiAgICApLmxlbmd0aDtcbiAgICBjb25zdCBub25aZXJvID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAgIHAubGF0aXR1ZGUgIT09IDAgJiYgXG4gICAgICBwLmxvbmdpdHVkZSAhPT0gMFxuICAgICkubGVuZ3RoO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBQcm9wZXJ0aWVzIHdpdGggbGF0OiAke3dpdGhMYXR9LCB3aXRoIGxuZzogJHt3aXRoTG5nfSwgd2l0aCBib3RoOiAke3dpdGhCb3RofWApO1xuICAgIGNvbnNvbGUubG9nKGBQcm9wZXJ0aWVzIHdpdGggbnVtZXJpYyBjb29yZGluYXRlczogJHt2YWxpZE51bWJlcnN9YCk7XG4gICAgY29uc29sZS5sb2coYFByb3BlcnRpZXMgd2l0aCBub24temVybyBjb29yZGluYXRlczogJHtub25aZXJvfWApO1xuICAgIFxuICAgIC8vIENoZWNrIHZhbGlkaXR5IHVzaW5nIG91ciBpbnRlcm5hbCBmdW5jdGlvblxuICAgIGNvbnN0IHBhc3Nlc1ZhbGlkYXRpb24gPSBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IGhhc1ZhbGlkQ29vcmRpbmF0ZXMocCkpLmxlbmd0aDtcbiAgICBjb25zb2xlLmxvZyhgUHJvcGVydGllcyB0aGF0IHBhc3MgaGFzVmFsaWRDb29yZGluYXRlcygpOiAke3Bhc3Nlc1ZhbGlkYXRpb259YCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZmluYWwgZmlsdGVyZWQgcmVzdWx0XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgUkVTVUxUOiBEaXNwbGF5aW5nICR7cHJvcGVydGllc1dpdGhDb29yZGluYXRlcy5sZW5ndGh9IHByb3BlcnRpZXMgb24gbWFwYCk7XG4gICAgICBjb25zb2xlLmxvZyhgPT09PT0gRU5EIE1BUCBDT01QT05FTlQgREVCVUcgPT09PT1gKTtcbiAgICB9LCAxMDApOyAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgcHJvcGVydGllc1dpdGhDb29yZGluYXRlcyBoYXMgYmVlbiBjYWxjdWxhdGVkXG4gIH0sIFtwcm9wZXJ0aWVzXSk7XG5cbiAgLy8gRml4IGZvciBwcm9wZXJ0aWVzIGdlb2NvZGluZyB3aXRoIFByb21pc2UudGhlblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZW9jb2RpbmdTdGF0dXMuaXNHZW9jb2RpbmcgJiYgcHJvcGVydGllcykge1xuICAgICAgLy8gRmluZCBwcm9wZXJ0aWVzIG5lZWRpbmcgZ2VvY29kaW5nIChmaWx0ZXIgb3V0IHRob3NlIHdpdGggdmFsaWQgY29vcmRpbmF0ZXMpXG4gICAgICBjb25zdCBiYXRjaFRvR2VvY29kZSA9IHByb3BlcnRpZXMuZmlsdGVyKHByb3BlcnR5ID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoIXByb3BlcnR5LmxhdGl0dWRlIHx8ICFwcm9wZXJ0eS5sb25naXR1ZGUgfHwgXG4gICAgICAgICAgIHByb3BlcnR5LmxhdGl0dWRlID09PSAwIHx8IHByb3BlcnR5LmxvbmdpdHVkZSA9PT0gMCB8fFxuICAgICAgICAgICBwcm9wZXJ0eS5faXNfZ3JpZF9wYXR0ZXJuIHx8IHByb3BlcnR5Ll9uZWVkc19nZW9jb2RpbmcpICYmIFxuICAgICAgICAgICFwcm9wZXJ0eS5fZ2VvY29kaW5nX2ZhaWxlZFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBNYXBDb21wb25lbnQ6IEdlb2NvZGluZyBiYXRjaCBvZiAke2JhdGNoVG9HZW9jb2RlLmxlbmd0aH0gcHJvcGVydGllc2ApO1xuICAgICAgXG4gICAgICAvLyBVc2UgZW5oYW5jZWQgZ2VvY29kaW5nIHdpdGggbXVsdGlwbGUgbWV0aG9kcyAoZml4ZWQgUHJvbWlzZSBoYW5kbGluZylcbiAgICAgIGlmIChiYXRjaFRvR2VvY29kZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQ2FsbCB0aGUgZ2VvY29kaW5nIGZ1bmN0aW9uLCBidXQgZG9uJ3QgcmVseSBvbiBpdHMgZGlyZWN0IHJldHVybiB0eXBlXG4gICAgICAgICAgY29uc3QgZ2VvY29kZVJlc3VsdCA9IGVuaGFuY2VkR2VvY29kZVByb3BlcnRpZXMoYmF0Y2hUb0dlb2NvZGUpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVzZSBhIHNhZmVyIGFwcHJvYWNoIC0gY3JlYXRlIGEgUHJvbWlzZSB0aGF0IHdpbGwgaGFuZGxlIHRoZSByZXN1bHQgYXBwcm9wcmlhdGVseVxuICAgICAgICAgIFByb21pc2UucmVzb2x2ZShnZW9jb2RlUmVzdWx0KVxuICAgICAgICAgICAgLnRoZW4oZ2VvY29kZWRQcm9wZXJ0aWVzID0+IHtcbiAgICAgICAgICAgICAgLy8gU2FmZXR5IGNoZWNrIHRoYXQgd2UgZ290IGFuIGFycmF5IG9mIHByb3BlcnRpZXMgYmFja1xuICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ2VvY29kZWRQcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignR2VvY29kaW5nIGRpZCBub3QgcmV0dXJuIGFuIGFycmF5IG9mIHByb3BlcnRpZXMnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ291bnQgaG93IG1hbnkgd2VyZSBzdWNjZXNzZnVsbHkgZ2VvY29kZWRcbiAgICAgICAgICAgICAgY29uc3QgbmV3bHlHZW9jb2RlZENvdW50ID0gZ2VvY29kZWRQcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAuX2dlb2NvZGVkKS5sZW5ndGg7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTWFwQ29tcG9uZW50OiBTdWNjZXNzZnVsbHkgZ2VvY29kZWQgJHtuZXdseUdlb2NvZGVkQ291bnR9IHByb3BlcnRpZXNgKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIE1lcmdlIGdlb2NvZGVkIHByb3BlcnRpZXMgd2l0aCBleGlzdGluZyBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9wZXJ0aWVzID0gWy4uLnByb3BlcnRpZXNdO1xuICAgICAgICAgICAgICBnZW9jb2RlZFByb3BlcnRpZXMuZm9yRWFjaChnZW9jb2RlZFByb3BlcnR5ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHVwZGF0ZWRQcm9wZXJ0aWVzLmZpbmRJbmRleChwID0+IHAuaWQgPT09IGdlb2NvZGVkUHJvcGVydHkuaWQpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRQcm9wZXJ0aWVzW2luZGV4XSA9IGdlb2NvZGVkUHJvcGVydHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHNldFByb2Nlc3NlZFByb3BlcnRpZXModXBkYXRlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICBzZXRHZW9jb2RpbmdTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGlzR2VvY29kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb3VudDogbmV3bHlHZW9jb2RlZENvdW50LFxuICAgICAgICAgICAgICAgIHRvdGFsOiBiYXRjaFRvR2VvY29kZS5sZW5ndGhcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VvY29kaW5nIHByb3BlcnRpZXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgICBzZXRHZW9jb2RpbmdTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGlzR2VvY29kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICB0b3RhbDogYmF0Y2hUb0dlb2NvZGUubGVuZ3RoXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhdGluZyBnZW9jb2Rpbmc6JywgZXJyb3IpO1xuICAgICAgICAgIHNldEdlb2NvZGluZ1N0YXR1cyh7XG4gICAgICAgICAgICBpc0dlb2NvZGluZzogZmFsc2UsXG4gICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgIHRvdGFsOiBiYXRjaFRvR2VvY29kZS5sZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8gcHJvcGVydGllcyB0byBnZW9jb2RlXG4gICAgICAgIHNldEdlb2NvZGluZ1N0YXR1cyh7XG4gICAgICAgICAgaXNHZW9jb2Rpbmc6IGZhbHNlLFxuICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgIHRvdGFsOiAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3Byb3BlcnRpZXMsIGdlb2NvZGluZ1N0YXR1cy5pc0dlb2NvZGluZ10pO1xuICBcbiAgLy8gU2V0dXAgZGVmYXVsdCBtYXJrZXIgaWNvbnNcbiAgTC5NYXJrZXIucHJvdG90eXBlLm9wdGlvbnMuaWNvbiA9IEwuaWNvbih7XG4gICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItYmx1ZS5wbmcnLFxuICAgIGljb25TaXplOiBbMjUsIDQxXSxcbiAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgc2hhZG93U2l6ZTogWzQxLCA0MV1cbiAgfSk7XG5cbiAgLy8gQWRkIGhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIHJpZ2h0IG1hcmtlciBpY29uIGJhc2VkIG9uIHByb3BlcnR5IHN0YXR1cyBhbmQgcHJpY2VcbiAgY29uc3QgZ2V0TWFya2VySWNvbiA9IChwcm9wZXJ0eTogUHJvcGVydHkpID0+IHtcbiAgICAvLyBJZiB0aGUgcHJvcGVydHkgaGFzIHZlcmlmaWVkIGNvb3JkaW5hdGVzLCB1c2UgYSB2ZXJpZmllZCBpY29uXG4gICAgaWYgKHByb3BlcnR5LnZlcmlmaWVkX2FkZHJlc3MpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci12ZXJpZmllZC5wbmcnLFxuICAgICAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgdGhlIHByb3BlcnR5IGhhcyBjb29yZGluYXRlIGlzc3VlcywgdXNlIGEgd2FybmluZyBpY29uXG4gICAgaWYgKHByb3BlcnR5Ll9pc19ncmlkX3BhdHRlcm4gfHwgcHJvcGVydHkuX2lzX2ludmFsaWRfcmFuZ2UgfHwgXG4gICAgICAgIHByb3BlcnR5Ll9vdXRzaWRlX2F1c3RpbiB8fCBwcm9wZXJ0eS5fY29vcmRpbmF0ZXNfZnJvbV9yZXNlYXJjaCkge1xuICAgICAgcmV0dXJuIEwuaWNvbih7XG4gICAgICAgIGljb25Vcmw6ICcvaWNvbnMvbWFya2VyLXdhcm5pbmcucG5nJyxcbiAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEZvciB0ZXN0IHByb3BlcnRpZXNcbiAgICBpZiAocHJvcGVydHkuX2lzX3Rlc3RfcHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci10ZXN0LnBuZycsXG4gICAgICAgIGljb25TaXplOiBbMjUsIDQxXSxcbiAgICAgICAgaWNvbkFuY2hvcjogWzEyLCA0MV0sXG4gICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgICAgICAgc2hhZG93U2l6ZTogWzQxLCA0MV1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBGb3IgZ2VvY29kZWQgcHJvcGVydGllc1xuICAgIGlmIChwcm9wZXJ0eS5fZ2VvY29kZWQpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci1nZW9jb2RlZC5wbmcnLFxuICAgICAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ29sb3IgY29kZSBieSBwcmljZSByYW5nZSBpZiBwcmljZSBpcyBhdmFpbGFibGVcbiAgICBpZiAocHJvcGVydHkucHJpY2UpIHtcbiAgICAgIGNvbnN0IHByaWNlID0gcHJvcGVydHkucHJpY2U7XG4gICAgICBcbiAgICAgIC8vIFByZW1pdW0gcHJvcGVydGllcyAoPiQyME0pXG4gICAgICBpZiAocHJpY2UgPj0gMjAwMDAwMDApIHtcbiAgICAgICAgcmV0dXJuIEwuaWNvbih7XG4gICAgICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItcHVycGxlLnBuZycsXG4gICAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSGlnaC12YWx1ZSBwcm9wZXJ0aWVzICgkMTBNLSQyME0pXG4gICAgICBpZiAocHJpY2UgPj0gMTAwMDAwMDApIHtcbiAgICAgICAgcmV0dXJuIEwuaWNvbih7XG4gICAgICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItZGFyay1ibHVlLnBuZycsXG4gICAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTWlkLWhpZ2ggcHJvcGVydGllcyAoJDVNLSQxME0pXG4gICAgICBpZiAocHJpY2UgPj0gNTAwMDAwMCkge1xuICAgICAgICByZXR1cm4gTC5pY29uKHtcbiAgICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci1ibHVlLnBuZycsXG4gICAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTWVkaXVtIHByb3BlcnRpZXMgKCQxTS0kNU0pXG4gICAgICBpZiAocHJpY2UgPj0gMTAwMDAwMCkge1xuICAgICAgICByZXR1cm4gTC5pY29uKHtcbiAgICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci1ncmVlbi5wbmcnLFxuICAgICAgICAgIGljb25TaXplOiBbMjUsIDQxXSxcbiAgICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgICAgc2hhZG93U2l6ZTogWzQxLCA0MV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFmZm9yZGFibGUgcHJvcGVydGllcyAoPCQxTSlcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci15ZWxsb3cucG5nJyxcbiAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIERlZmF1bHQgbWFya2VyIGljb25zIGJhc2VkIG9uIHN0YXR1cyBpZiBubyBwcmljZVxuICAgIGNvbnN0IHN0YXR1cyA9IHByb3BlcnR5LnN0YXR1cz8udG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgICBpZiAoc3RhdHVzID09PSAnYWN0aXZlJyB8fCBzdGF0dXMgPT09ICdsaXN0ZWQnIHx8IHN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgfHwgc3RhdHVzID09PSAnYWN0aXZlbHkgbWFya2V0ZWQnKSB7XG4gICAgICByZXR1cm4gTC5pY29uKHtcbiAgICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItZ3JlZW4ucG5nJyxcbiAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMuaW5jbHVkZXMoJ2NvbnRyYWN0JykgfHwgc3RhdHVzLmluY2x1ZGVzKCdwZW5kaW5nJykpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci15ZWxsb3cucG5nJyxcbiAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMuaW5jbHVkZXMoJ3NvbGQnKSkge1xuICAgICAgcmV0dXJuIEwuaWNvbih7XG4gICAgICAgIGljb25Vcmw6ICcvaWNvbnMvbWFya2VyLXJlZC5wbmcnLFxuICAgICAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGVmYXVsdCBmYWxsYmFja1xuICAgIHJldHVybiBMLmljb24oe1xuICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItYmx1ZS5wbmcnLFxuICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgaWNvbkFuY2hvcjogWzEyLCA0MV0sXG4gICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIEZvcm1hdCBwcmljZSBhcyAkWC5YTVxuICBjb25zdCBmb3JtYXRQcmljZSA9IChwcmljZTogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCFwcmljZSkgcmV0dXJuICdQcmljZSBub3QgYXZhaWxhYmxlJztcbiAgICBpZiAocHJpY2UgPj0gMTAwMDAwMCkge1xuICAgICAgcmV0dXJuIGAkJHsocHJpY2UgLyAxMDAwMDAwKS50b0ZpeGVkKDEpfU1gO1xuICAgIH1cbiAgICByZXR1cm4gYCQkeyhwcmljZSAvIDEwMDApLnRvRml4ZWQoMCl9S2A7XG4gIH07XG5cbiAgLy8gRm9ybWF0IHByaWNlIHBlciB1bml0XG4gIGNvbnN0IGZvcm1hdFByaWNlUGVyVW5pdCA9IChwcmljZTogbnVtYmVyIHwgdW5kZWZpbmVkLCB1bml0czogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCFwcmljZSB8fCAhdW5pdHMgfHwgdW5pdHMgPT09IDApIHJldHVybiAnTi9BJztcbiAgICByZXR1cm4gYCQke01hdGgucm91bmQocHJpY2UgLyB1bml0cykudG9Mb2NhbGVTdHJpbmcoKX0vdW5pdGA7XG4gIH07XG5cbiAgLy8gQWRkIGNvZGUgdG8gY2hlY2sgY29vcmRpbmF0ZXMgYW5kIGZpbHRlciBvdXQgaW52YWxpZCBvbmVzXG4gIGNvbnN0IHZhbGlkUHJvcGVydGllcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghcHJvcGVydGllcyB8fCAhQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICAvLyBNT0RJRklFRDogVXNlIG11Y2ggbGVzcyBzdHJpY3QgZmlsdGVyaW5nIHRvIHNob3cgbW9yZSBwcm9wZXJ0aWVzXG4gICAgcmV0dXJuIHByb3BlcnRpZXMuZmlsdGVyKHByb3BlcnR5ID0+IHtcbiAgICAgIC8vIFdlIG5lZWQgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSB0byBiZSBkZWZpbmVkXG4gICAgICBpZiAoIXByb3BlcnR5IHx8IHByb3BlcnR5LmxhdGl0dWRlID09PSB1bmRlZmluZWQgfHwgcHJvcGVydHkubG9uZ2l0dWRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IHN0cmluZyBjb29yZGluYXRlcyB0byBudW1iZXJzIGlmIG5lZWRlZFxuICAgICAgY29uc3QgbGF0ID0gdHlwZW9mIHByb3BlcnR5LmxhdGl0dWRlID09PSAnbnVtYmVyJyA/IHByb3BlcnR5LmxhdGl0dWRlIDogcGFyc2VGbG9hdChTdHJpbmcocHJvcGVydHkubGF0aXR1ZGUpKTtcbiAgICAgIGNvbnN0IGxuZyA9IHR5cGVvZiBwcm9wZXJ0eS5sb25naXR1ZGUgPT09ICdudW1iZXInID8gcHJvcGVydHkubG9uZ2l0dWRlIDogcGFyc2VGbG9hdChTdHJpbmcocHJvcGVydHkubG9uZ2l0dWRlKSk7XG5cbiAgICAgIC8vIENoZWNrIGlmIGNvb3JkaW5hdGVzIGFyZSB2YWxpZCBudW1iZXJzXG4gICAgICBpZiAoaXNOYU4obGF0KSB8fCBpc05hTihsbmcpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gT25seSBleGNsdWRlIGNvb3JkaW5hdGVzIHRoYXQgYXJlIGV4YWN0bHkgemVybyAoYXMgdGhlc2UgYXJlIGxpa2VseSBwbGFjZWhvbGRlciBkYXRhKVxuICAgICAgLy8gVGhpcyBhbGxvd3MgZm9yIGNvb3JkaW5hdGVzIG5lYXIgemVybyBidXQgbm90IGV4YWN0bHkgemVyb1xuICAgICAgaWYgKGxhdCA9PT0gMCAmJiBsbmcgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiBjb29yZGluYXRlcyBhcmUgd2l0aGluIHJlYXNvbmFibGUgZ2xvYmFsIHJhbmdlc1xuICAgICAgaWYgKGxhdCA8IC05MCB8fCBsYXQgPiA5MCB8fCBsbmcgPCAtMTgwIHx8IGxuZyA+IDE4MCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIEluY2x1ZGUgYWxsIHZhbGlkIHByb3BlcnRpZXMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZXkncmUgaW4gQXVzdGluXG4gICAgICAvLyBJbmNsdWRlIHByb3BlcnRpZXMgZXZlbiBpZiB0aGV5IGhhdmUgZ3JpZCBwYXR0ZXJucyBvciBhcmUgZnJvbSByZXNlYXJjaFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH0sIFtwcm9wZXJ0aWVzXSk7XG4gIFxuICAvLyBDaGVjayBpZiBwcm9wZXJ0eSBoYXMgdmFsaWQgY29vcmRpbmF0ZXMgLSBNT0RJRklFRCB0byBiZSBtdWNoIGxlc3Mgc3RyaWN0XG4gIGNvbnN0IGhhc1ZhbGlkQ29vcmRpbmF0ZXMgPSAocHJvcGVydHk6IFByb3BlcnR5KTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKCFwcm9wZXJ0eSkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIC8vIEJhc2ljIGV4aXN0ZW5jZSBjaGVja3NcbiAgICBpZiAocHJvcGVydHkubGF0aXR1ZGUgPT09IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS5sb25naXR1ZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIC8vIENvbnZlcnQgdG8gbnVtYmVycyBpZiBuZWVkZWRcbiAgICBjb25zdCBsYXQgPSB0eXBlb2YgcHJvcGVydHkubGF0aXR1ZGUgPT09ICdudW1iZXInID8gcHJvcGVydHkubGF0aXR1ZGUgOiBwYXJzZUZsb2F0KFN0cmluZyhwcm9wZXJ0eS5sYXRpdHVkZSkpO1xuICAgIGNvbnN0IGxuZyA9IHR5cGVvZiBwcm9wZXJ0eS5sb25naXR1ZGUgPT09ICdudW1iZXInID8gcHJvcGVydHkubG9uZ2l0dWRlIDogcGFyc2VGbG9hdChTdHJpbmcocHJvcGVydHkubG9uZ2l0dWRlKSk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIE5hTlxuICAgIGlmIChpc05hTihsYXQpIHx8IGlzTmFOKGxuZykpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgemVybyB2YWx1ZXMgKG9mdGVuIGRlZmF1bHQpXG4gICAgaWYgKGxhdCA9PT0gMCAmJiBsbmcgPT09IDApIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgcmVhc29uYWJsZSBjb29yZGluYXRlIHJhbmdlc1xuICAgIGlmIChsYXQgPCAtOTAgfHwgbGF0ID4gOTAgfHwgbG5nIDwgLTE4MCB8fCBsbmcgPiAxODApIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBEb24ndCBmaWx0ZXIgb3V0IHByb3BlcnRpZXMgYmFzZWQgb24gbG9jYXRpb24gb3IgZGF0YSBzb3VyY2VcbiAgICAvLyBJbmNsdWRlIHByb3BlcnRpZXMgd2l0aCBfaXNfZ3JpZF9wYXR0ZXJuIGFuZCBfY29vcmRpbmF0ZXNfZnJvbV9yZXNlYXJjaFxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBcbiAgLy8gR2V0IHByb3BlcnRpZXMgd2l0aCB2YWxpZCBjb29yZGluYXRlcyAtIE1PRElGSUVEIHRvIGRpcmVjdGx5IHVzZSB2YWxpZFByb3BlcnRpZXNcbiAgY29uc3QgcHJvcGVydGllc1dpdGhDb29yZGluYXRlcyA9IHZhbGlkUHJvcGVydGllcztcblxuICAvLyBBZGQgZmlsdGVyIGxvZ2ljIGZvciBwcm9wZXJ0aWVzXG4gIGNvbnN0IGZpbHRlcmVkUHJvcGVydGllcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIExvZyB0aGUgbnVtYmVyIG9mIHZhbGlkIHByb3BlcnRpZXNcbiAgICBjb25zb2xlLmxvZyhgVmFsaWQgcHJvcGVydGllcyBiZWZvcmUgZmlsdGVyaW5nOiAke3ZhbGlkUHJvcGVydGllcy5sZW5ndGh9IG9mICR7cHJvcGVydGllcz8ubGVuZ3RoIHx8IDB9YCk7XG4gICAgXG4gICAgLy8gQ291bnQgcHJvcGVydGllcyBieSBzb21lIGtleSBhdHRyaWJ1dGVzXG4gICAgY29uc3QgcHJvcGVydGllc1dpdGhSZXNlYXJjaENvb3JkcyA9IHZhbGlkUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLl9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoKS5sZW5ndGg7XG4gICAgY29uc3QgcHJvcGVydGllc1dpdGhHcmlkUGF0dGVybiA9IHZhbGlkUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLl9pc19ncmlkX3BhdHRlcm4pLmxlbmd0aDtcbiAgICBjb25zb2xlLmxvZyhgUHJvcGVydGllcyB3aXRoIHJlc2VhcmNoIGNvb3JkaW5hdGVzOiAke3Byb3BlcnRpZXNXaXRoUmVzZWFyY2hDb29yZHN9YCk7XG4gICAgY29uc29sZS5sb2coYFByb3BlcnRpZXMgd2l0aCBncmlkIHBhdHRlcm46ICR7cHJvcGVydGllc1dpdGhHcmlkUGF0dGVybn1gKTtcbiAgICBcbiAgICAvLyBBcHBseSBsZXNzIHN0cmljdCBmaWx0ZXJpbmcgdG8gc2hvdyBtb3JlIHByb3BlcnRpZXMgb24gdGhlIG1hcFxuICAgIHJldHVybiB2YWxpZFByb3BlcnRpZXMuZmlsdGVyKHByb3BlcnR5ID0+IHtcbiAgICAgIC8vIEZpbHRlciBieSBwcmljZSBmb3IgcHJlbWl1bSBwcm9wZXJ0aWVzIChvdmVyICQxME0pXG4gICAgICBpZiAocHJvcGVydHkucHJpY2UgJiYgcHJvcGVydHkucHJpY2UgPj0gMTAwMDAwMDApIHtcbiAgICAgICAgaWYgKCFtYXBGaWx0ZXJzLnNob3dQcmVtaXVtKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZpbHRlciBieSBzdGF0dXNcbiAgICAgIGNvbnN0IHN0YXR1cyA9IChwcm9wZXJ0eS5zdGF0dXMgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBcbiAgICAgIGlmIChzdGF0dXMuaW5jbHVkZXMoJ2NvbnRyYWN0JykgfHwgc3RhdHVzLmluY2x1ZGVzKCdwZW5kaW5nJykpIHtcbiAgICAgICAgcmV0dXJuIG1hcEZpbHRlcnMuc2hvd1VuZGVyQ29udHJhY3Q7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1cy5pbmNsdWRlcygnc29sZCcpKSB7XG4gICAgICAgIHJldHVybiBtYXBGaWx0ZXJzLnNob3dTb2xkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXZhaWxhYmxlLCBsaXN0ZWQsIGV0Yy5cbiAgICAgICAgcmV0dXJuIG1hcEZpbHRlcnMuc2hvd0F2YWlsYWJsZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW3ZhbGlkUHJvcGVydGllcywgbWFwRmlsdGVycywgcHJvcGVydGllcz8ubGVuZ3RoXSk7XG4gIFxuICAvLyBOZXcgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlcmUgYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgYXQgdGhlIHNhbWUgbG9jYXRpb25cbiAgY29uc3QgZmluZFByb3BlcnRpZXNBdFNhbWVMb2NhdGlvbiA9ICh0YXJnZXRQcm9wZXJ0eTogUHJvcGVydHkpID0+IHtcbiAgICBpZiAoIXRhcmdldFByb3BlcnR5IHx8ICF0YXJnZXRQcm9wZXJ0eS5sYXRpdHVkZSB8fCAhdGFyZ2V0UHJvcGVydHkubG9uZ2l0dWRlKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGxhdCA9IHRhcmdldFByb3BlcnR5LmxhdGl0dWRlO1xuICAgIGNvbnN0IGxuZyA9IHRhcmdldFByb3BlcnR5LmxvbmdpdHVkZTtcbiAgICBcbiAgICAvLyBGaW5kIHByb3BlcnRpZXMgdGhhdCBoYXZlIHRoZSBleGFjdCBzYW1lIGNvb3JkaW5hdGVzICh1c2luZyBleGFjdCBtYXRjaClcbiAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBmb3IgcHJvcGVydGllcyB0aGF0IGhhdmUgZXhhY3RseSB0aGUgc2FtZSBjb29yZGluYXRlc1xuICAgIHJldHVybiBmaWx0ZXJlZFByb3BlcnRpZXMuZmlsdGVyKHAgPT4gXG4gICAgICBwLmlkICE9PSB0YXJnZXRQcm9wZXJ0eS5pZCAmJiBcbiAgICAgIHAubGF0aXR1ZGUgPT09IGxhdCAmJiBcbiAgICAgIHAubG9uZ2l0dWRlID09PSBsbmdcbiAgICApO1xuICB9O1xuXG4gIC8vIERlYnVnIHRoZSBudW1iZXIgb2YgcHJvcGVydGllcyBhdCB0aGUgc2FtZSBsb2NhdGlvbnMgLSB1c2VmdWwgZm9yIHVuZGVyc3RhbmRpbmcgY2x1c3RlcmluZyBpc3N1ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIENvdW50IGhvdyBtYW55IHByb3BlcnRpZXMgYXJlIGF0IHRoZSBzYW1lIGNvb3JkaW5hdGVzIGFzIG90aGVyc1xuICAgIGxldCBzYW1lTG9jYXRpb25Db3VudCA9IDA7XG4gICAgY29uc3QgY2hlY2tlZElkcyA9IG5ldyBTZXQ8c3RyaW5nIHwgbnVtYmVyPigpO1xuICAgIFxuICAgIGZpbHRlcmVkUHJvcGVydGllcy5mb3JFYWNoKHByb3BlcnR5ID0+IHtcbiAgICAgIGlmIChjaGVja2VkSWRzLmhhcyhwcm9wZXJ0eS5pZCkpIHJldHVybjtcbiAgICAgIFxuICAgICAgY29uc3Qgc2FtZUxvY2F0aW9uUHJvcHMgPSBmaW5kUHJvcGVydGllc0F0U2FtZUxvY2F0aW9uKHByb3BlcnR5KTtcbiAgICAgIGlmIChzYW1lTG9jYXRpb25Qcm9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNhbWVMb2NhdGlvbkNvdW50ICs9IHNhbWVMb2NhdGlvblByb3BzLmxlbmd0aCArIDE7IC8vIEluY2x1ZGUgdGhlIGN1cnJlbnQgcHJvcGVydHlcbiAgICAgICAgXG4gICAgICAgIC8vIE1hcmsgYWxsIHRoZXNlIHByb3BlcnRpZXMgYXMgY2hlY2tlZFxuICAgICAgICBjaGVja2VkSWRzLmFkZChwcm9wZXJ0eS5pZCk7XG4gICAgICAgIHNhbWVMb2NhdGlvblByb3BzLmZvckVhY2gocCA9PiBjaGVja2VkSWRzLmFkZChwLmlkKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBMb2cgdGhlIGZpcnN0IGZldyBpbnN0YW5jZXMgb2YgZXhhY3QtY29vcmRpbmF0ZSBwcm9wZXJ0aWVzIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgaWYgKGNoZWNrZWRJZHMuc2l6ZSA8IDIwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7c2FtZUxvY2F0aW9uUHJvcHMubGVuZ3RoICsgMX0gcHJvcGVydGllcyBhdCB0aGUgc2FtZSBsb2NhdGlvbjogJHtwcm9wZXJ0eS5sYXRpdHVkZX0sICR7cHJvcGVydHkubG9uZ2l0dWRlfWApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGAgIEZpcnN0IHByb3BlcnR5OiAke3Byb3BlcnR5Lm5hbWUgfHwgcHJvcGVydHkuaWR9YCk7XG4gICAgICAgICAgc2FtZUxvY2F0aW9uUHJvcHMuc2xpY2UoMCwgMykuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIE90aGVyIHByb3BlcnR5OiAke3AubmFtZSB8fCBwLmlkfWApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChzYW1lTG9jYXRpb25Qcm9wcy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgICAuLi5hbmQgJHtzYW1lTG9jYXRpb25Qcm9wcy5sZW5ndGggLSAzfSBtb3JlYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYFRvdGFsIHByb3BlcnRpZXMgYXQgdGhlIHNhbWUgbG9jYXRpb25zOiAke3NhbWVMb2NhdGlvbkNvdW50fSAoJHtNYXRoLnJvdW5kKHNhbWVMb2NhdGlvbkNvdW50L2ZpbHRlcmVkUHJvcGVydGllcy5sZW5ndGgqMTAwKX0lIG9mIGFsbCBkaXNwbGF5ZWQgcHJvcGVydGllcylgKTtcbiAgICBcbiAgfSwgW2ZpbHRlcmVkUHJvcGVydGllc10pO1xuXG4gIC8vIEhhbmRsZSBtYXAgbG9hZCBzdWNjZXNzXG4gIGNvbnN0IGhhbmRsZU1hcExvYWQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0TWFwTG9hZGVkKHRydWUpO1xuICAgIHNldE1hcEVycm9yKG51bGwpO1xuICB9LCBbXSk7XG4gIFxuICAvLyBIYW5kbGUgbWFwIGxvYWQgZXJyb3JcbiAgY29uc3QgaGFuZGxlTWFwRXJyb3IgPSB1c2VDYWxsYmFjaygoZTogYW55KSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignTWFwIHRpbGUgbG9hZGluZyBlcnJvcjonLCBlKTtcbiAgICBzZXRNYXBFcnJvcignRmFpbGVkIHRvIGxvYWQgbWFwIHRpbGVzLiBVc2luZyBmYWxsYmFjayBtYXAgcHJvdmlkZXIuJyk7XG4gICAgLy8gQ29udGludWUgd2l0aCBPcGVuU3RyZWV0TWFwIGFzIGZhbGxiYWNrXG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgaC1mdWxsIHctZnVsbFwiPlxuICAgICAgey8qIFByb3BlcnRpZXMgTGlzdCBQYW5lbCAqL31cbiAgICAgIDxQcm9wZXJ0aWVzTGlzdCBcbiAgICAgICAgcHJvcGVydGllcz17cHJvcGVydGllc30gXG4gICAgICAgIG9uUHJvcGVydHlTZWxlY3Q9e3NldFNlbGVjdGVkUHJvcGVydHl9XG4gICAgICAgIG1hcEZpbHRlcnM9e21hcEZpbHRlcnN9XG4gICAgICAgIHNldE1hcEZpbHRlcnM9e3NldE1hcEZpbHRlcnN9XG4gICAgICAvPlxuICAgICAgXG4gICAgICB7LyogRXhpc3RpbmcgbWFwIGNvbnRhaW5lciB3aXRoIGFkanVzdGVkIG1hcmdpbiBmb3IgbGlzdCBwYW5lbCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtOTYgaC1mdWxsXCI+XG4gICAgICAgIDxNYXBDb250YWluZXIgXG4gICAgICAgICAgY2VudGVyPXtkZWZhdWx0Q2VudGVyfSBcbiAgICAgICAgICB6b29tPXtkZWZhdWx0Wm9vbX1cbiAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6ICcxMDAlJywgd2lkdGg6ICcxMDAlJyB9fVxuICAgICAgICAgIHpvb21Db250cm9sPXtmYWxzZX1cbiAgICAgICAgICB3aGVuUmVhZHk9e2hhbmRsZU1hcExvYWR9XG4gICAgICAgID5cbiAgICAgICAgICA8TWFwSW5pdGlhbGl6ZXIgLz5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogVXNlIE1hcGJveCBpZiB0b2tlbiBpcyBwcm92aWRlZCBhbmQgdmFsaWQsIG90aGVyd2lzZSB1c2UgT3BlblN0cmVldE1hcCAqL31cbiAgICAgICAgICB7aXNWYWxpZE1hcGJveFRva2VuID8gKFxuICAgICAgICAgICAgPFRpbGVMYXllclxuICAgICAgICAgICAgICBhdHRyaWJ1dGlvbj0nwqkgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vYWJvdXQvbWFwcy9cIj5NYXBib3g8L2E+J1xuICAgICAgICAgICAgICB1cmw9e2BodHRwczovL2FwaS5tYXBib3guY29tL3N0eWxlcy92MS9tYXBib3gvc3RyZWV0cy12MTEvdGlsZXMve3p9L3t4fS97eX0/YWNjZXNzX3Rva2VuPSR7bWFwYm94VG9rZW5FbnZ9YH1cbiAgICAgICAgICAgICAgdGlsZVNpemU9ezUxMn1cbiAgICAgICAgICAgICAgem9vbU9mZnNldD17LTF9XG4gICAgICAgICAgICAgIGV2ZW50SGFuZGxlcnM9e3tcbiAgICAgICAgICAgICAgICBlcnJvcjogaGFuZGxlTWFwRXJyb3JcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxUaWxlTGF5ZXJcbiAgICAgICAgICAgICAgYXR0cmlidXRpb249JyZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJ1xuICAgICAgICAgICAgICB1cmw9XCJodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZ1wiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFNob3cgbWFwIGVycm9yIGlmIHRoZXJlIGlzIG9uZSAqL31cbiAgICAgICAgICB7bWFwRXJyb3IgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiBiZy1yZWQtMTAwIHRleHQtcmVkLTcwMCBweC00IHB5LTIgcm91bmRlZC1tZCBzaGFkb3ctbWQgei01MFwiPlxuICAgICAgICAgICAgICB7bWFwRXJyb3J9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBNYXAgbWFya2VycyBmb3IgcHJvcGVydGllcyAqL31cbiAgICAgICAgICB7ZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPEN1c3RvbU1hcmtlckNsdXN0ZXJHcm91cFxuICAgICAgICAgICAgICAvLyBUaGVzZSBwcm9wcyB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZSBlbmhhbmNlZCBwcm9wcyBpbiBDdXN0b21NYXJrZXJDbHVzdGVyR3JvdXBcbiAgICAgICAgICAgICAgY2h1bmtlZExvYWRpbmc9e3RydWV9XG4gICAgICAgICAgICAgIHNob3dDb3ZlcmFnZU9uSG92ZXI9e2ZhbHNlfSAgLy8gRGlzYWJsZSBjb3ZlcmFnZSBkaXNwbGF5IHdoaWNoIGNhbiBiZSBkaXN0cmFjdGluZ1xuICAgICAgICAgICAgICBkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbT17MTh9IC8vIERpc2FibGUgY2x1c3RlcmluZyBhdCBtYXhpbXVtIHpvb21cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2ZpbHRlcmVkUHJvcGVydGllcy5tYXAoKHByb3BlcnR5KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRmluZCBwcm9wZXJ0aWVzIGF0IHNhbWUgbG9jYXRpb25cbiAgICAgICAgICAgICAgICBjb25zdCBzYW1lTG9jYXRpb25Qcm9wZXJ0aWVzID0gZmluZFByb3BlcnRpZXNBdFNhbWVMb2NhdGlvbihwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzTXVsdGlwbGVQcm9wZXJ0aWVzID0gc2FtZUxvY2F0aW9uUHJvcGVydGllcy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPE1hcmtlclxuICAgICAgICAgICAgICAgICAga2V5PXtwcm9wZXJ0eS5pZH1cbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uPXtbcHJvcGVydHkubGF0aXR1ZGUsIHByb3BlcnR5LmxvbmdpdHVkZV19XG4gICAgICAgICAgICAgICAgICBpY29uPXtnZXRNYXJrZXJJY29uKHByb3BlcnR5KX1cbiAgICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlcnM9e3tcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBvcmlnaW5hbCBwcm9wZXJ0eSBpbiB0aGUgcHJvcGVydGllcyBhcnJheSB0byBtYWtlIHN1cmUgd2UgaGF2ZSB0aGUgbGF0ZXN0IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFByb3BlcnR5ID0gcHJvcGVydGllcy5maW5kKHAgPT4gcC5pZCA9PT0gcHJvcGVydHkuaWQpIHx8IHByb3BlcnR5O1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUHJvcGVydHkob3JpZ2luYWxQcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxQb3B1cD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy1bMjIwcHhdXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnXCI+e3Byb3BlcnR5Lm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBOb3JtYWxpemUgYW5kIGRpc3BsYXkgc3RhdHVzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgcHgtMiBweS0xIHJvdW5kZWQtZnVsbCB0ZXh0LXhzICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnN0YXR1cz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYXZhaWxhYmxlJykgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnN0YXR1cz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYWN0aXZlJykgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnN0YXR1cyA9PT0gJ0FjdGl2ZWx5IE1hcmtldGVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBwcm9wZXJ0eS5zdGF0dXM/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2NvbnRyYWN0JykgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zdGF0dXM/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3BlbmRpbmcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXllbGxvdy0xMDAgdGV4dC15ZWxsb3ctODAwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1yZWQtMTAwIHRleHQtcmVkLTgwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3Byb3BlcnR5LnN0YXR1cz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYXZhaWxhYmxlJykgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zdGF0dXM/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2FjdGl2ZScpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ0F2YWlsYWJsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHByb3BlcnR5LnN0YXR1cz8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnY29udHJhY3QnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ1VuZGVyIENvbnRyYWN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcHJvcGVydHkuc3RhdHVzIHx8ICdVbmtub3duJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7LyogQWRkcmVzcyB3aXRoIHZlcmlmaWNhdGlvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC00IHctNCBtci0xIHRleHQtZ3JheS00MDBcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTcuNjU3IDE2LjY1N0wxMy40MTQgMjAuOWExLjk5OCAxLjk5OCAwIDAxLTIuODI3IDBsLTQuMjQ0LTQuMjQzYTggOCAwIDExMTEuMzE0IDB6XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTUgMTFhMyAzIDAgMTEtNiAwIDMgMyAwIDAxNiAwelwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvcGVydHkudmVyaWZpZWRfYWRkcmVzcyB8fCBwcm9wZXJ0eS5hZGRyZXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvcGVydHkudmVyaWZpZWRfYWRkcmVzcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC00IHctNCBtbC0xIHRleHQtZ3JlZW4tNTAwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNNi4yNjcgMy40NTVhMy4wNjYgMy4wNjYgMCAwMDEuNzQ1LS43MjMgMy4wNjYgMy4wNjYgMCAwMTMuOTc2IDAgMy4wNjYgMy4wNjYgMCAwMDEuNzQ1LjcyMyAzLjA2NiAzLjA2NiAwIDAxMi44MTIgMi44MTJjLjA1MS42NDMuMzA0IDEuMjU0LjcyMyAxLjc0NWEzLjA2NiAzLjA2NiAwIDAxMCAzLjk3NiAzLjA2NiAzLjA2NiAwIDAwLS43MjMgMS43NDUgMy4wNjYgMy4wNjYgMCAwMS0yLjgxMiAyLjgxMiAzLjA2NiAzLjA2NiAwIDAwLTEuNzQ1LjcyMyAzLjA2NiAzLjA2NiAwIDAxLTMuOTc2IDAgMy4wNjYgMy4wNjYgMCAwMC0xLjc0NS0uNzIzIDMuMDY2IDMuMDY2IDAgMDEtMi44MTItMi44MTIgMy4wNjYgMy4wNjYgMCAwMC0uNzIzLTEuNzQ1IDMuMDY2IDMuMDY2IDAgMDEwLTMuOTc2IDMuMDY2IDMuMDY2IDAgMDAuNzIzLTEuNzQ1IDMuMDY2IDMuMDY2IDAgMDEyLjgxMi0yLjgxMnptNy40NCA1LjI1MmExIDEgMCAwMC0xLjQxNC0xLjQxNEw5IDEwLjU4NiA3LjcwNyA5LjI5M2ExIDEgMCAwMC0xLjQxNCAxLjQxNGwyIDJhMSAxIDAgMDAxLjQxNCAwbDQtNHpcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgey8qIFByb3BlcnR5IGRldGFpbHMgZ3JpZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTMgbXQtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHAtMiByb3VuZGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC14cyBibG9ja1wiPlVuaXRzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntwcm9wZXJ0eS5udW1fdW5pdHMgfHwgcHJvcGVydHkudW5pdHMgfHwgJ04vQSd9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcC0yIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCB0ZXh0LXhzIGJsb2NrXCI+WWVhciBCdWlsdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57cHJvcGVydHkueWVhcl9idWlsdCB8fCAnTi9BJ308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wZXJ0eS5zcXVhcmVfZmVldCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCBwLTIgcm91bmRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC14cyBibG9ja1wiPlNxdWFyZSBGZWV0PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3Byb3BlcnR5LnNxdWFyZV9mZWV0LnRvTG9jYWxlU3RyaW5nKCl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogTXVsdGlwbGUgcHJvcGVydGllcyBpbmRpY2F0b3IgKi99XG4gICAgICAgICAgICAgICAgICAgICAge2hhc011bHRpcGxlUHJvcGVydGllcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgYmctYmx1ZS01MCBwLTIgcm91bmRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmx1ZS03MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2FtZUxvY2F0aW9uUHJvcGVydGllcy5sZW5ndGggKyAxfSBwcm9wZXJ0aWVzIGF0IHRoaXMgbG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgbWF4LWgtMzIgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NhbWVMb2NhdGlvblByb3BlcnRpZXMubWFwKChyZWxhdGVkUHJvcGVydHkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17cmVsYXRlZFByb3BlcnR5LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIHAtMSBob3ZlcjpiZy1ibHVlLTEwMCByb3VuZGVkIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUmVsYXRlZFByb3BlcnR5ID0gcHJvcGVydGllcy5maW5kKHAgPT4gcC5pZCA9PT0gcmVsYXRlZFByb3BlcnR5LmlkKSB8fCByZWxhdGVkUHJvcGVydHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRQcm9wZXJ0eShvcmlnaW5hbFJlbGF0ZWRQcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57cmVsYXRlZFByb3BlcnR5Lm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMFwiPntyZWxhdGVkUHJvcGVydHkubnVtX3VuaXRzIHx8IHJlbGF0ZWRQcm9wZXJ0eS51bml0c30gdW5pdHM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogUHJvcGVydHkgbGluayAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgcHQtMyBib3JkZXItdCBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPXtgL3Byb3BlcnRpZXMvJHtwcm9wZXJ0eS5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtODAwIHRleHQtc20gZmxleCBpdGVtcy1jZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBWaWV3IEZ1bGwgRGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTQgdy00IG1sLTFcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTAgNkg2YTIgMiAwIDAwLTIgMnYxMGEyIDIgMCAwMDIgMmgxMGEyIDIgMCAwMDItMnYtNE0xNCA0aDZtMCAwdjZtMC02TDEwIDE0XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9Qb3B1cD5cbiAgICAgICAgICAgICAgICA8L01hcmtlcj5cbiAgICAgICAgICAgICAgKX0pfVxuICAgICAgICAgICAgPC9DdXN0b21NYXJrZXJDbHVzdGVyR3JvdXA+XG4gICAgICAgICAgKX1cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogTWFwIGNvbnRyb2xsZXJzICovfVxuICAgICAgICAgIDxNYXBSZWNlbnRlciBzZWxlY3RlZFByb3BlcnR5PXtzZWxlY3RlZFByb3BlcnR5fSAvPlxuICAgICAgICAgIHtvbkJvdW5kc0NoYW5nZSAmJiA8TWFwQm91bmRzVXBkYXRlciBvbkJvdW5kc0NoYW5nZT17b25Cb3VuZHNDaGFuZ2V9IC8+fVxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBBZGQgWm9vbUNvbnRyb2wgaW4gdG9wLXJpZ2h0ICovfVxuICAgICAgICAgIDxab29tQ29udHJvbCBwb3NpdGlvbj1cInRvcHJpZ2h0XCIgLz5cbiAgICAgICAgPC9NYXBDb250YWluZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1hcENvbXBvbmVudDsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsInVzZVJlZiIsIk1hcENvbnRhaW5lciIsIlRpbGVMYXllciIsIk1hcmtlciIsIlBvcHVwIiwidXNlTWFwIiwiWm9vbUNvbnRyb2wiLCJMIiwiZW5oYW5jZWRHZW9jb2RlUHJvcGVydGllcyIsIkN1c3RvbU1hcmtlckNsdXN0ZXJHcm91cCIsIk1hcExlZ2VuZCIsImV4cGFuZGVkIiwic2V0RXhwYW5kZWQiLCJkaXYiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsInN0cm9rZSIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJzcGFuIiwiYnV0dG9uIiwiY29sb3IiLCJsYWJlbCIsInZhbHVlIiwibWFwIiwicmFuZ2UiLCJpbnB1dCIsInR5cGUiLCJzdGF0dXMiLCJNYXBJbml0aWFsaXplciIsIkljb24iLCJEZWZhdWx0IiwicHJvdG90eXBlIiwiX2dldEljb25VcmwiLCJtZXJnZU9wdGlvbnMiLCJpY29uVXJsIiwiaWNvblJldGluYVVybCIsInNoYWRvd1VybCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJjcmVhdGVTdGF0dXNJY29uIiwiaWNvblNpemUiLCJpY29uQW5jaG9yIiwicG9wdXBBbmNob3IiLCJzaGFkb3dTaXplIiwic3RhdHVzSWNvbnMiLCJNYXBSZWNlbnRlciIsInNlbGVjdGVkUHJvcGVydHkiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImhhc0Nvb3JkaW5hdGVzIiwiaXNOb3RaZXJvIiwiZnJvbVJlc2VhcmNoIiwiX2Nvb3JkaW5hdGVzX2Zyb21fcmVzZWFyY2giLCJpc1ZhbGlkIiwiX2Nvb3JkaW5hdGVzX21pc3NpbmciLCJfaXNfZ3JpZF9wYXR0ZXJuIiwic2V0VmlldyIsImFuaW1hdGUiLCJNYXBCb3VuZHNVcGRhdGVyIiwib25Cb3VuZHNDaGFuZ2UiLCJsYXN0Qm91bmRzIiwic2V0TGFzdEJvdW5kcyIsImhhc0JvdW5kc0NoYW5nZWRTaWduaWZpY2FudGx5IiwibmV3Qm91bmRzIiwib2xkQm91bmRzIiwib2xkQXJlYSIsIm5vcnRoIiwic291dGgiLCJlYXN0Iiwid2VzdCIsIm5ld0FyZWEiLCJvbGRDZW50ZXJMYXQiLCJvbGRDZW50ZXJMbmciLCJuZXdDZW50ZXJMYXQiLCJuZXdDZW50ZXJMbmciLCJjZW50ZXJTaGlmdCIsIk1hdGgiLCJzcXJ0IiwicG93IiwiYXJlYVJhdGlvIiwibWF4IiwidXBkYXRlQm91bmRzUmVmIiwiYm91bmRzIiwiZ2V0Qm91bmRzIiwiZ2V0Tm9ydGgiLCJnZXRTb3V0aCIsImdldEVhc3QiLCJnZXRXZXN0IiwibG9nIiwiaW5pdGlhbFRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwib24iLCJjbGVhclRpbWVvdXQiLCJvZmYiLCJNYXBGaWx0ZXIiLCJvbkZpbHRlckNoYW5nZSIsImZpbHRlcnMiLCJzZXRGaWx0ZXJzIiwic2hvd1ByZW1pdW0iLCJzaG93QXZhaWxhYmxlIiwic2hvd1VuZGVyQ29udHJhY3QiLCJzaG93U29sZCIsImhhbmRsZUZpbHRlckNoYW5nZSIsImtleSIsIm5ld0ZpbHRlcnMiLCJjaGVja2VkIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJNYXBTZWFyY2giLCJwcm9wZXJ0aWVzIiwib25Qcm9wZXJ0eVNlbGVjdCIsInNlYXJjaFRlcm0iLCJzZXRTZWFyY2hUZXJtIiwic2hvd1Jlc3VsdHMiLCJzZXRTaG93UmVzdWx0cyIsInNlYXJjaFJlZiIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwiY3VycmVudCIsImNvbnRhaW5zIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZVNlYXJjaENoYW5nZSIsImZpbHRlcmVkUHJvcGVydGllcyIsInNlYXJjaExvd2VyIiwidG9Mb3dlckNhc2UiLCJmaWx0ZXIiLCJwcm9wZXJ0eSIsIm1hdGNoTmFtZSIsIm5hbWUiLCJpbmNsdWRlcyIsIm1hdGNoQWRkcmVzcyIsImFkZHJlc3MiLCJtYXRjaEJyb2tlciIsImJyb2tlciIsInNsaWNlIiwiaGFuZGxlU2VsZWN0IiwiZm9ybWF0UHJpY2UiLCJwcmljZSIsInRvRml4ZWQiLCJyZWYiLCJwbGFjZWhvbGRlciIsImZpbGxSdWxlIiwiY2xpcFJ1bGUiLCJsZW5ndGgiLCJpbWFnZV91cmwiLCJpbWciLCJzcmMiLCJhbHQiLCJ1bml0cyIsImlkIiwiUHJvcGVydGllc0xpc3QiLCJtYXBGaWx0ZXJzIiwic2V0TWFwRmlsdGVycyIsInNvcnRCeSIsInNldFNvcnRCeSIsInVuaXRGaWx0ZXIiLCJzZXRVbml0RmlsdGVyIiwieWVhckZpbHRlciIsInNldFllYXJGaWx0ZXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJyYW5nZXMiLCJwIiwibnVtX3VuaXRzIiwieWVhcnMiLCJ5ZWFyX2J1aWx0IiwieSIsIm1pbiIsImZpbHRlcmVkQW5kU29ydGVkUHJvcGVydGllcyIsInllYXIiLCJzb3J0IiwiYSIsImIiLCJjcmVhdGVkX2F0IiwiZ2V0VGltZSIsImgyIiwic2VsZWN0Iiwib3B0aW9uIiwicGFyc2VJbnQiLCJoMyIsIk1hcENvbXBvbmVudCIsInNldFNlbGVjdGVkUHJvcGVydHkiLCJtYXBib3hUb2tlbiIsInByb2Nlc3NlZFByb3BlcnRpZXMiLCJzZXRQcm9jZXNzZWRQcm9wZXJ0aWVzIiwiZ2VvY29kaW5nU3RhdHVzIiwic2V0R2VvY29kaW5nU3RhdHVzIiwiaXNHZW9jb2RpbmciLCJjb3VudCIsInRvdGFsIiwibWFwYm94VG9rZW5FbnYiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfTUFQQk9YX1RPS0VOIiwibWFwTG9hZGVkIiwic2V0TWFwTG9hZGVkIiwibWFwRXJyb3IiLCJzZXRNYXBFcnJvciIsImlzVmFsaWRNYXBib3hUb2tlbiIsInN0YXJ0c1dpdGgiLCJkZWZhdWx0Q2VudGVyIiwiZGVmYXVsdFpvb20iLCJBcnJheSIsImlzQXJyYXkiLCJ3aXRoTGF0Iiwid2l0aExuZyIsIndpdGhCb3RoIiwidmFsaWROdW1iZXJzIiwibm9uWmVybyIsInBhc3Nlc1ZhbGlkYXRpb24iLCJoYXNWYWxpZENvb3JkaW5hdGVzIiwicHJvcGVydGllc1dpdGhDb29yZGluYXRlcyIsImJhdGNoVG9HZW9jb2RlIiwiX25lZWRzX2dlb2NvZGluZyIsIl9nZW9jb2RpbmdfZmFpbGVkIiwiZ2VvY29kZVJlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImdlb2NvZGVkUHJvcGVydGllcyIsIkVycm9yIiwibmV3bHlHZW9jb2RlZENvdW50IiwiX2dlb2NvZGVkIiwidXBkYXRlZFByb3BlcnRpZXMiLCJmb3JFYWNoIiwiZ2VvY29kZWRQcm9wZXJ0eSIsImluZGV4IiwiZmluZEluZGV4IiwiY2F0Y2giLCJvcHRpb25zIiwiaWNvbiIsImdldE1hcmtlckljb24iLCJ2ZXJpZmllZF9hZGRyZXNzIiwiX2lzX2ludmFsaWRfcmFuZ2UiLCJfb3V0c2lkZV9hdXN0aW4iLCJfaXNfdGVzdF9wcm9wZXJ0eSIsImZvcm1hdFByaWNlUGVyVW5pdCIsInJvdW5kIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWxpZFByb3BlcnRpZXMiLCJ1bmRlZmluZWQiLCJsYXQiLCJwYXJzZUZsb2F0IiwiU3RyaW5nIiwibG5nIiwiaXNOYU4iLCJwcm9wZXJ0aWVzV2l0aFJlc2VhcmNoQ29vcmRzIiwicHJvcGVydGllc1dpdGhHcmlkUGF0dGVybiIsImZpbmRQcm9wZXJ0aWVzQXRTYW1lTG9jYXRpb24iLCJ0YXJnZXRQcm9wZXJ0eSIsInNhbWVMb2NhdGlvbkNvdW50IiwiY2hlY2tlZElkcyIsIlNldCIsImhhcyIsInNhbWVMb2NhdGlvblByb3BzIiwiYWRkIiwic2l6ZSIsImhhbmRsZU1hcExvYWQiLCJoYW5kbGVNYXBFcnJvciIsImNlbnRlciIsInpvb20iLCJzdHlsZSIsImhlaWdodCIsIndpZHRoIiwiem9vbUNvbnRyb2wiLCJ3aGVuUmVhZHkiLCJhdHRyaWJ1dGlvbiIsInVybCIsInRpbGVTaXplIiwiem9vbU9mZnNldCIsImV2ZW50SGFuZGxlcnMiLCJjaHVua2VkTG9hZGluZyIsInNob3dDb3ZlcmFnZU9uSG92ZXIiLCJkaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbSIsInNhbWVMb2NhdGlvblByb3BlcnRpZXMiLCJoYXNNdWx0aXBsZVByb3BlcnRpZXMiLCJwb3NpdGlvbiIsImNsaWNrIiwib3JpZ2luYWxQcm9wZXJ0eSIsImZpbmQiLCJzcXVhcmVfZmVldCIsInJlbGF0ZWRQcm9wZXJ0eSIsIm9yaWdpbmFsUmVsYXRlZFByb3BlcnR5IiwiaHJlZiIsInJlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/MapComponent.tsx\n");

/***/ }),

/***/ "./src/components/map/CustomMarkerCluster.tsx":
/*!****************************************************!*\
  !*** ./src/components/map/CustomMarkerCluster.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_leaflet_cluster__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-leaflet-cluster */ \"react-leaflet-cluster\");\n/* harmony import */ var react_leaflet_cluster__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_leaflet_cluster__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! leaflet */ \"leaflet\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_3__);\n\n\n// @ts-ignore - to avoid TypeScript errors\n\n\n// This is a wrapper component around react-leaflet-cluster\n// We've patched the original module to remove CSS imports\n// The CSS is loaded in _app.js globally instead\nconst CustomMarkerClusterGroup = (props)=>{\n    // Enhanced props for better clustering behavior\n    const enhancedProps = {\n        ...props,\n        // Revert to default clustering radius for better grouping of nearby properties\n        maxClusterRadius: 40,\n        // Ensure clusters expand nicely when clicked\n        spiderfyOnMaxZoom: true,\n        // Makes the spider legs longer for better separation when many markers are at same point\n        spiderfyDistanceMultiplier: 3,\n        // This ensures properties at exact same coordinates are accessible when expanded\n        zoomToBoundsOnClick: true,\n        // Custom icon creation for clusters\n        iconCreateFunction: (cluster)=>{\n            const count = cluster.getChildCount();\n            let className = \"marker-cluster \";\n            // Add different classes based on the number of markers in the cluster\n            if (count < 5) {\n                className += \"marker-cluster-small\";\n            } else if (count < 15) {\n                className += \"marker-cluster-medium\";\n            } else {\n                className += \"marker-cluster-large\";\n            }\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().divIcon({\n                html: `<div><span>${count}</span></div>`,\n                className: className,\n                iconSize: leaflet__WEBPACK_IMPORTED_MODULE_3___default().point(40, 40)\n            });\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react_leaflet_cluster__WEBPACK_IMPORTED_MODULE_2___default()), {\n        ...enhancedProps\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/map/CustomMarkerCluster.tsx\",\n        lineNumber: 43,\n        columnNumber: 10\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CustomMarkerClusterGroup);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9tYXAvQ3VzdG9tTWFya2VyQ2x1c3Rlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEwQjtBQUMxQiwwQ0FBMEM7QUFDYTtBQUMvQjtBQUV4QiwyREFBMkQ7QUFDM0QsMERBQTBEO0FBQzFELGdEQUFnRDtBQUNoRCxNQUFNRywyQkFBMEMsQ0FBQ0M7SUFDL0MsZ0RBQWdEO0lBQ2hELE1BQU1DLGdCQUFnQjtRQUNwQixHQUFHRCxLQUFLO1FBQ1IsK0VBQStFO1FBQy9FRSxrQkFBa0I7UUFDbEIsNkNBQTZDO1FBQzdDQyxtQkFBbUI7UUFDbkIseUZBQXlGO1FBQ3pGQyw0QkFBNEI7UUFDNUIsaUZBQWlGO1FBQ2pGQyxxQkFBcUI7UUFDckIsb0NBQW9DO1FBQ3BDQyxvQkFBb0IsQ0FBQ0M7WUFDbkIsTUFBTUMsUUFBUUQsUUFBUUUsYUFBYTtZQUNuQyxJQUFJQyxZQUFZO1lBRWhCLHNFQUFzRTtZQUN0RSxJQUFJRixRQUFRLEdBQUc7Z0JBQ2JFLGFBQWE7WUFDZixPQUFPLElBQUlGLFFBQVEsSUFBSTtnQkFDckJFLGFBQWE7WUFDZixPQUFPO2dCQUNMQSxhQUFhO1lBQ2Y7WUFFQSxPQUFPWixzREFBUyxDQUFDO2dCQUNmYyxNQUFNLENBQUMsV0FBVyxFQUFFSixNQUFNLGFBQWEsQ0FBQztnQkFDeENFLFdBQVdBO2dCQUNYRyxVQUFVZixvREFBTyxDQUFDLElBQUk7WUFDeEI7UUFDRjtJQUNGO0lBRUEscUJBQU8sOERBQUNELDhEQUFrQkE7UUFBRSxHQUFHSSxhQUFhOzs7Ozs7QUFDOUM7QUFFQSxpRUFBZUYsd0JBQXdCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWNxdWlyZS1hcGFydG1lbnRzLy4vc3JjL2NvbXBvbmVudHMvbWFwL0N1c3RvbU1hcmtlckNsdXN0ZXIudHN4P2ZlY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0Jztcbi8vIEB0cy1pZ25vcmUgLSB0byBhdm9pZCBUeXBlU2NyaXB0IGVycm9yc1xuaW1wb3J0IE1hcmtlckNsdXN0ZXJHcm91cCBmcm9tICdyZWFjdC1sZWFmbGV0LWNsdXN0ZXInO1xuaW1wb3J0IEwgZnJvbSAnbGVhZmxldCc7XG5cbi8vIFRoaXMgaXMgYSB3cmFwcGVyIGNvbXBvbmVudCBhcm91bmQgcmVhY3QtbGVhZmxldC1jbHVzdGVyXG4vLyBXZSd2ZSBwYXRjaGVkIHRoZSBvcmlnaW5hbCBtb2R1bGUgdG8gcmVtb3ZlIENTUyBpbXBvcnRzXG4vLyBUaGUgQ1NTIGlzIGxvYWRlZCBpbiBfYXBwLmpzIGdsb2JhbGx5IGluc3RlYWRcbmNvbnN0IEN1c3RvbU1hcmtlckNsdXN0ZXJHcm91cDogUmVhY3QuRkM8YW55PiA9IChwcm9wcykgPT4ge1xuICAvLyBFbmhhbmNlZCBwcm9wcyBmb3IgYmV0dGVyIGNsdXN0ZXJpbmcgYmVoYXZpb3JcbiAgY29uc3QgZW5oYW5jZWRQcm9wcyA9IHtcbiAgICAuLi5wcm9wcyxcbiAgICAvLyBSZXZlcnQgdG8gZGVmYXVsdCBjbHVzdGVyaW5nIHJhZGl1cyBmb3IgYmV0dGVyIGdyb3VwaW5nIG9mIG5lYXJieSBwcm9wZXJ0aWVzXG4gICAgbWF4Q2x1c3RlclJhZGl1czogNDAsXG4gICAgLy8gRW5zdXJlIGNsdXN0ZXJzIGV4cGFuZCBuaWNlbHkgd2hlbiBjbGlja2VkXG4gICAgc3BpZGVyZnlPbk1heFpvb206IHRydWUsXG4gICAgLy8gTWFrZXMgdGhlIHNwaWRlciBsZWdzIGxvbmdlciBmb3IgYmV0dGVyIHNlcGFyYXRpb24gd2hlbiBtYW55IG1hcmtlcnMgYXJlIGF0IHNhbWUgcG9pbnRcbiAgICBzcGlkZXJmeURpc3RhbmNlTXVsdGlwbGllcjogMyxcbiAgICAvLyBUaGlzIGVuc3VyZXMgcHJvcGVydGllcyBhdCBleGFjdCBzYW1lIGNvb3JkaW5hdGVzIGFyZSBhY2Nlc3NpYmxlIHdoZW4gZXhwYW5kZWRcbiAgICB6b29tVG9Cb3VuZHNPbkNsaWNrOiB0cnVlLFxuICAgIC8vIEN1c3RvbSBpY29uIGNyZWF0aW9uIGZvciBjbHVzdGVyc1xuICAgIGljb25DcmVhdGVGdW5jdGlvbjogKGNsdXN0ZXI6IGFueSkgPT4ge1xuICAgICAgY29uc3QgY291bnQgPSBjbHVzdGVyLmdldENoaWxkQ291bnQoKTtcbiAgICAgIGxldCBjbGFzc05hbWUgPSAnbWFya2VyLWNsdXN0ZXIgJztcbiAgICAgIFxuICAgICAgLy8gQWRkIGRpZmZlcmVudCBjbGFzc2VzIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgbWFya2VycyBpbiB0aGUgY2x1c3RlclxuICAgICAgaWYgKGNvdW50IDwgNSkge1xuICAgICAgICBjbGFzc05hbWUgKz0gJ21hcmtlci1jbHVzdGVyLXNtYWxsJztcbiAgICAgIH0gZWxzZSBpZiAoY291bnQgPCAxNSkge1xuICAgICAgICBjbGFzc05hbWUgKz0gJ21hcmtlci1jbHVzdGVyLW1lZGl1bSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGFzc05hbWUgKz0gJ21hcmtlci1jbHVzdGVyLWxhcmdlJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIEwuZGl2SWNvbih7XG4gICAgICAgIGh0bWw6IGA8ZGl2PjxzcGFuPiR7Y291bnR9PC9zcGFuPjwvZGl2PmAsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBpY29uU2l6ZTogTC5wb2ludCg0MCwgNDApXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIFxuICByZXR1cm4gPE1hcmtlckNsdXN0ZXJHcm91cCB7Li4uZW5oYW5jZWRQcm9wc30gLz47XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDdXN0b21NYXJrZXJDbHVzdGVyR3JvdXA7ICJdLCJuYW1lcyI6WyJSZWFjdCIsIk1hcmtlckNsdXN0ZXJHcm91cCIsIkwiLCJDdXN0b21NYXJrZXJDbHVzdGVyR3JvdXAiLCJwcm9wcyIsImVuaGFuY2VkUHJvcHMiLCJtYXhDbHVzdGVyUmFkaXVzIiwic3BpZGVyZnlPbk1heFpvb20iLCJzcGlkZXJmeURpc3RhbmNlTXVsdGlwbGllciIsInpvb21Ub0JvdW5kc09uQ2xpY2siLCJpY29uQ3JlYXRlRnVuY3Rpb24iLCJjbHVzdGVyIiwiY291bnQiLCJnZXRDaGlsZENvdW50IiwiY2xhc3NOYW1lIiwiZGl2SWNvbiIsImh0bWwiLCJpY29uU2l6ZSIsInBvaW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/map/CustomMarkerCluster.tsx\n");

/***/ }),

/***/ "./src/utils/geocoding.ts":
/*!********************************!*\
  !*** ./src/utils/geocoding.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkResearchTableExists: () => (/* binding */ checkResearchTableExists),\n/* harmony export */   enhancedGeocodeProperties: () => (/* binding */ enhancedGeocodeProperties),\n/* harmony export */   geocodeAddress: () => (/* binding */ geocodeAddress),\n/* harmony export */   geocodeProperties: () => (/* binding */ geocodeProperties),\n/* harmony export */   isGridPattern: () => (/* binding */ isGridPattern),\n/* harmony export */   syncResearchCoordinates: () => (/* binding */ syncResearchCoordinates)\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"./src/utils/supabase.ts\");\n/**\n * Geocoding utilities for the frontend\n * \n * This module provides tools for:\n * 1. Client-side geocoding using Google Maps, Mapbox, or Nominatim (fallback)\n * 2. Utilities for coordinate validation and processing\n * 3. Functions to synchronize coordinates between properties and property_research\n */ \n/**\n * Geocode a batch of properties\n * \n * @param {Array} properties - Array of property objects\n * @returns {Promise<Array>} - Properties with coordinates added\n */ async function geocodeProperties(properties) {\n    // Filter properties that need geocoding\n    const needsGeocoding = properties.filter((p)=>(p._needs_geocoding || !p.latitude || !p.longitude || p._coordinates_missing || p._is_grid_pattern) && (p.address || p.city && p.state));\n    if (needsGeocoding.length === 0) {\n        console.log(\"No properties need geocoding\");\n        return properties;\n    }\n    console.log(`Geocoding ${needsGeocoding.length} properties`);\n    // Try to use Google Maps API if available\n    const googleMapsAvailable =  false && 0;\n    // Use Mapbox if available\n    const mapboxToken = process.env.NEXT_PUBLIC_MAPBOX_ACCESS_TOKEN;\n    // Geocode each property\n    const geocodedProperties = await Promise.all(properties.map(async (property)=>{\n        // Skip properties that don't need geocoding\n        if (!property._needs_geocoding && property.latitude && property.longitude && !property._coordinates_missing && !property._is_grid_pattern || !property.address && (!property.city || !property.state)) {\n            return property;\n        }\n        // Create a copy to avoid mutating the original\n        const geocodedProperty = {\n            ...property\n        };\n        try {\n            let coordinates = null;\n            // Try Google Maps API first if available\n            if (googleMapsAvailable) {\n                coordinates = await geocodeWithGoogleMaps(property);\n            }\n            // If Google Maps failed or is not available, try Mapbox\n            if (!coordinates && mapboxToken) {\n                coordinates = await geocodeWithMapbox(property, mapboxToken);\n            }\n            // If both failed, try Nominatim as a last resort\n            if (!coordinates) {\n                coordinates = await geocodeWithNominatim(property);\n            }\n            // If we got coordinates, update the property\n            if (coordinates) {\n                geocodedProperty.latitude = coordinates.latitude;\n                geocodedProperty.longitude = coordinates.longitude;\n                geocodedProperty._geocoded = true;\n                geocodedProperty._coordinates_missing = false;\n                geocodedProperty._needs_geocoding = false;\n                geocodedProperty._is_grid_pattern = false;\n                console.log(`Geocoded ${property.address || property.city}, ${property.state}: ${coordinates.latitude}, ${coordinates.longitude}`);\n            } else {\n                console.warn(`Failed to geocode ${property.address || property.city}, ${property.state}`);\n            }\n        } catch (error) {\n            console.error(`Geocoding error for ${property.address || property.city}, ${property.state}:`, error);\n        }\n        return geocodedProperty;\n    }));\n    return geocodedProperties;\n}\n/**\n * Geocode a property using Google Maps API\n * \n * @param {Object} property - Property object with address information\n * @returns {Promise<Object|null>} - Coordinates object or null if failed\n */ async function geocodeWithGoogleMaps(property) {\n    return new Promise((resolve)=>{\n        try {\n            if (!window.google || !window.google.maps || !window.google.maps.Geocoder) {\n                resolve(null);\n                return;\n            }\n            const geocoder = new window.google.maps.Geocoder();\n            // Build address string\n            let addressString = \"\";\n            if (property.address) addressString += property.address;\n            if (property.city) addressString += (addressString ? \", \" : \"\") + property.city;\n            if (property.state) addressString += (addressString ? \", \" : \"\") + property.state;\n            if (property.zip) addressString += (addressString ? \" \" : \"\") + property.zip;\n            geocoder.geocode({\n                address: addressString\n            }, (results, status)=>{\n                if (status === \"OK\" && results[0] && results[0].geometry) {\n                    const latitude = results[0].geometry.location.lat();\n                    const longitude = results[0].geometry.location.lng();\n                    // Check for suspicious patterns\n                    if (isGridPattern(latitude, longitude)) {\n                        console.warn(`Suspicious grid pattern detected: ${latitude}, ${longitude}`);\n                        resolve(null);\n                    } else {\n                        resolve({\n                            latitude,\n                            longitude,\n                            provider: \"google\"\n                        });\n                    }\n                } else {\n                    console.warn(`Google geocoding failed: ${status}`);\n                    resolve(null);\n                }\n            });\n        } catch (error) {\n            console.error(\"Error with Google geocoding:\", error);\n            resolve(null);\n        }\n    });\n}\n/**\n * Geocode a property using Mapbox API\n * \n * @param {Object} property - Property object with address information\n * @param {string} accessToken - Mapbox access token\n * @returns {Promise<Object|null>} - Coordinates object or null if failed\n */ async function geocodeWithMapbox(property, accessToken) {\n    try {\n        // Build address string\n        let addressString = \"\";\n        if (property.address) addressString += property.address;\n        if (property.city) addressString += (addressString ? \", \" : \"\") + property.city;\n        if (property.state) addressString += (addressString ? \", \" : \"\") + property.state;\n        if (property.zip) addressString += (addressString ? \" \" : \"\") + property.zip;\n        // URL encode the address\n        const encodedAddress = encodeURIComponent(addressString);\n        // Make API request\n        const response = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodedAddress}.json?access_token=${accessToken}`);\n        if (!response.ok) {\n            throw new Error(`Mapbox API error: ${response.status} ${response.statusText}`);\n        }\n        const data = await response.json();\n        if (data.features && data.features.length > 0) {\n            const feature = data.features[0];\n            const longitude = feature.center[0];\n            const latitude = feature.center[1];\n            // Check for suspicious patterns\n            if (isGridPattern(latitude, longitude)) {\n                console.warn(`Suspicious grid pattern detected: ${latitude}, ${longitude}`);\n                return null;\n            }\n            return {\n                latitude,\n                longitude,\n                provider: \"mapbox\"\n            };\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Error with Mapbox geocoding:\", error);\n        return null;\n    }\n}\n/**\n * Geocode a property using Nominatim API (OpenStreetMap)\n * \n * @param {Object} property - Property object with address information\n * @returns {Promise<Object|null>} - Coordinates object or null if failed\n */ async function geocodeWithNominatim(property) {\n    try {\n        // Build address string\n        let addressString = \"\";\n        if (property.address) addressString += property.address;\n        if (property.city) addressString += (addressString ? \", \" : \"\") + property.city;\n        if (property.state) addressString += (addressString ? \", \" : \"\") + property.state;\n        if (property.zip) addressString += (addressString ? \" \" : \"\") + property.zip;\n        // URL encode the address\n        const encodedAddress = encodeURIComponent(addressString);\n        // Make API request (with a random delay to avoid rate limiting)\n        const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodedAddress}`, {\n            headers: {\n                \"User-Agent\": \"AcquirePropertyMap/1.0\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`Nominatim API error: ${response.status} ${response.statusText}`);\n        }\n        const data = await response.json();\n        if (data && data.length > 0) {\n            const result = data[0];\n            const latitude = parseFloat(result.lat);\n            const longitude = parseFloat(result.lon);\n            // Check for suspicious patterns\n            if (isGridPattern(latitude, longitude)) {\n                console.warn(`Suspicious grid pattern detected: ${latitude}, ${longitude}`);\n                return null;\n            }\n            return {\n                latitude,\n                longitude,\n                provider: \"nominatim\"\n            };\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Error with Nominatim geocoding:\", error);\n        return null;\n    }\n}\n/**\n * Check if coordinates are on a grid pattern (indicating synthetic data)\n * \n * @param {number} latitude - Latitude coordinate\n * @param {number} longitude - Longitude coordinate\n * @returns {boolean} - True if coordinates are likely on a grid\n */ function isGridPattern(latitude, longitude) {\n    // Check if values are zero (common for uninitialized values)\n    if (latitude === 0 && longitude === 0) {\n        return true;\n    }\n    // Check if values have very few decimal places (likely rounded)\n    const latStr = latitude.toString();\n    const lngStr = longitude.toString();\n    const latDecimals = latStr.includes(\".\") ? latStr.split(\".\")[1].length : 0;\n    const lngDecimals = lngStr.includes(\".\") ? lngStr.split(\".\")[1].length : 0;\n    // If both have fewer than 4 decimal places, it's likely synthetic\n    if (latDecimals < 4 && lngDecimals < 4) {\n        return true;\n    }\n    // Check if outside Austin area bounds (approximately)\n    if (latitude < 29.5 || latitude > 31.0 || longitude < -98.0 || longitude > -97.0) {\n        return true;\n    }\n    return false;\n}\n/**\n * Check if the property_research table exists\n * \n * @returns {Promise<boolean>} - True if table exists\n */ async function checkResearchTableExists() {\n    try {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"property_research\").select(\"id\").limit(1);\n        if (error) {\n            console.error(\"Error checking research table:\", error);\n            return false;\n        }\n        return true;\n    } catch (error) {\n        console.error(\"Error checking research table:\", error);\n        return false;\n    }\n}\n/**\n * Synchronize coordinates between properties and property_research tables\n * \n * @param {number} limit - Maximum number of records to process\n * @returns {Promise<Object>} - Results of the operation\n */ async function syncResearchCoordinates(limit = 100) {\n    const results = {\n        total: 0,\n        updated: 0,\n        errors: 0\n    };\n    try {\n        // Check if research table exists\n        const tableExists = await checkResearchTableExists();\n        if (!tableExists) {\n            console.error(\"Property research table does not exist\");\n            return results;\n        }\n        // Get properties with missing coordinates but have research data\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"properties\").select(`\n        id, \n        address, \n        city, \n        state, \n        latitude, \n        longitude,\n        property_research!property_research (\n          id, \n          modules\n        )\n      `).or(\"latitude.is.null,longitude.is.null,latitude.eq.0,longitude.eq.0\").not(\"property_research\", \"is\", null).limit(limit);\n        if (error) {\n            console.error(\"Error fetching properties with missing coordinates:\", error);\n            return results;\n        }\n        results.total = data.length;\n        console.log(`Found ${data.length} properties with missing coordinates that have research data`);\n        // Process each property\n        for (const property of data){\n            try {\n                // Extract research data if available\n                const researchData = property.property_research && property.property_research.length > 0 ? property.property_research[0] : null;\n                if (researchData && researchData.modules && researchData.modules.property_details) {\n                    const propertyDetails = researchData.modules.property_details;\n                    // Check if research data has valid coordinates\n                    if (propertyDetails.latitude && propertyDetails.longitude && typeof propertyDetails.latitude === \"number\" && typeof propertyDetails.longitude === \"number\") {\n                        // Update property with coordinates from research data\n                        const { error: updateError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"properties\").update({\n                            latitude: propertyDetails.latitude,\n                            longitude: propertyDetails.longitude,\n                            _coordinates_from_research: true,\n                            _coordinates_missing: false,\n                            _needs_geocoding: false\n                        }).match({\n                            id: property.id\n                        });\n                        if (updateError) {\n                            console.error(`Error updating property ${property.id}:`, updateError);\n                            results.errors++;\n                        } else {\n                            console.log(`Updated property ${property.id} with coordinates from research: [${propertyDetails.latitude}, ${propertyDetails.longitude}]`);\n                            results.updated++;\n                        }\n                    }\n                }\n            } catch (e) {\n                console.error(`Error processing property ${property.id}:`, e);\n                results.errors++;\n            }\n        }\n        return results;\n    } catch (error) {\n        console.error(\"Error syncing research coordinates:\", error);\n        return results;\n    }\n}\n/**\n * Perform enhanced geocoding on a batch of properties\n * \n * @param {Array} properties - Array of property objects\n * @param {Function} progressCallback - Optional callback for progress updates\n * @returns {Promise<Array>} - Properties with coordinates added\n */ async function enhancedGeocodeProperties(properties, progressCallback = null) {\n    if (!properties || properties.length === 0) {\n        return [];\n    }\n    console.log(`Geocoding ${properties.length} properties using enhanced approach`);\n    // Only process properties that need geocoding\n    const needsGeocoding = properties.filter((p)=>(p._needs_geocoding || !p.latitude || !p.longitude || p._coordinates_missing || p._is_grid_pattern) && (p.address || p.city && p.state));\n    // Keep properties that don't need geocoding\n    const goodProperties = properties.filter((p)=>!p._needs_geocoding && p.latitude && p.longitude && !p._coordinates_missing && !p._is_grid_pattern && hasValidCoordinates(p));\n    if (needsGeocoding.length === 0) {\n        console.log(\"No properties need geocoding\");\n        return properties;\n    }\n    console.log(`Found ${needsGeocoding.length} properties that need geocoding`);\n    // Function to report progress\n    const reportProgress = (current, total)=>{\n        if (progressCallback) {\n            progressCallback(current, total);\n        }\n    };\n    // First, try to use Google Maps API (but respect rate limits)\n    if (false) {} else {\n        // Fall back to the standard geocoding method\n        console.log(\"Google Maps API not available, using fallback geocoding method\");\n        const geocodedProperties = await geocodeProperties(needsGeocoding);\n        // Combine the geocoded properties with good properties\n        return [\n            ...goodProperties,\n            ...geocodedProperties\n        ];\n    }\n}\n/**\n * Check if a property has valid coordinates\n * \n * @param {Object} property - Property object\n * @returns {boolean} - True if coordinates are valid\n */ const hasValidCoordinates = (property)=>{\n    // Must have numeric coordinates\n    if (!property.latitude || !property.longitude || typeof property.latitude !== \"number\" || typeof property.longitude !== \"number\") {\n        return false;\n    }\n    // Coordinates must be within valid ranges\n    if (property.latitude < -90 || property.latitude > 90 || property.longitude < -180 || property.longitude > 180) {\n        return false;\n    }\n    // Coordinates must not be (0,0)\n    if (property.latitude === 0 && property.longitude === 0) {\n        return false;\n    }\n    // For Austin area, coordinates should be in approximate region\n    if (property.latitude < 29.5 || property.latitude > 31.0 || property.longitude < -98.0 || property.longitude > -97.0) {\n        // Mark as outside Austin but don't consider invalid\n        //property._outside_austin = true;\n        return false;\n    }\n    return true;\n};\n/**\n * Geocode a single address\n * \n * @param {string} address - Address to geocode\n * @returns {Promise<Object|null>} - Coordinates object or null if failed\n */ async function geocodeAddress(address) {\n    if (!address) return null;\n    // Try Google Maps API first if available\n    if (false) {}\n    // Try Mapbox if available\n    const mapboxToken = process.env.NEXT_PUBLIC_MAPBOX_ACCESS_TOKEN;\n    if (mapboxToken) {\n        try {\n            const encodedAddress = encodeURIComponent(address);\n            const response = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodedAddress}.json?access_token=${mapboxToken}`);\n            if (!response.ok) {\n                throw new Error(`Mapbox API error: ${response.status} ${response.statusText}`);\n            }\n            const data = await response.json();\n            if (data.features && data.features.length > 0) {\n                const feature = data.features[0];\n                const longitude = feature.center[0];\n                const latitude = feature.center[1];\n                return {\n                    latitude,\n                    longitude,\n                    provider: \"mapbox\"\n                };\n            }\n        } catch (error) {\n            console.error(\"Error with Mapbox geocoding:\", error);\n        }\n    }\n    // Try Nominatim as a last resort\n    try {\n        const encodedAddress = encodeURIComponent(address);\n        const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodedAddress}`, {\n            headers: {\n                \"User-Agent\": \"AcquirePropertyMap/1.0\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`Nominatim API error: ${response.status} ${response.statusText}`);\n        }\n        const data = await response.json();\n        if (data && data.length > 0) {\n            const result = data[0];\n            const latitude = parseFloat(result.lat);\n            const longitude = parseFloat(result.lon);\n            return {\n                latitude,\n                longitude,\n                provider: \"nominatim\"\n            };\n        }\n    } catch (error) {\n        console.error(\"Error with Nominatim geocoding:\", error);\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVU7WUFDWjtRQUNGO0lBQ0YsRUFBRSxPQUFPYixPQUFPO1FBQ2R2QixRQUFRdUIsS0FBSyxDQUFDLG1DQUFtQ0E7SUFDbkQ7SUFFQSxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hY3F1aXJlLWFwYXJ0bWVudHMvLi9zcmMvdXRpbHMvZ2VvY29kaW5nLnRzP2M2YzIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW9jb2RpbmcgdXRpbGl0aWVzIGZvciB0aGUgZnJvbnRlbmRcbiAqIFxuICogVGhpcyBtb2R1bGUgcHJvdmlkZXMgdG9vbHMgZm9yOlxuICogMS4gQ2xpZW50LXNpZGUgZ2VvY29kaW5nIHVzaW5nIEdvb2dsZSBNYXBzLCBNYXBib3gsIG9yIE5vbWluYXRpbSAoZmFsbGJhY2spXG4gKiAyLiBVdGlsaXRpZXMgZm9yIGNvb3JkaW5hdGUgdmFsaWRhdGlvbiBhbmQgcHJvY2Vzc2luZ1xuICogMy4gRnVuY3Rpb25zIHRvIHN5bmNocm9uaXplIGNvb3JkaW5hdGVzIGJldHdlZW4gcHJvcGVydGllcyBhbmQgcHJvcGVydHlfcmVzZWFyY2hcbiAqL1xuXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4vc3VwYWJhc2UnO1xuaW1wb3J0IHsgUHJvcGVydHkgfSBmcm9tICcuLi90eXBlcy9wcm9wZXJ0eSc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgZ29vZ2xlPzoge1xuICAgICAgbWFwcz86IHtcbiAgICAgICAgR2VvY29kZXI/OiBhbnk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmludGVyZmFjZSBDb29yZGluYXRlcyB7XG4gIGxhdGl0dWRlOiBudW1iZXI7XG4gIGxvbmdpdHVkZTogbnVtYmVyO1xuICBwcm92aWRlcj86IHN0cmluZztcbn1cblxuLyoqXG4gKiBHZW9jb2RlIGEgYmF0Y2ggb2YgcHJvcGVydGllc1xuICogXG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wZXJ0aWVzIC0gQXJyYXkgb2YgcHJvcGVydHkgb2JqZWN0c1xuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSAtIFByb3BlcnRpZXMgd2l0aCBjb29yZGluYXRlcyBhZGRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VvY29kZVByb3BlcnRpZXMocHJvcGVydGllczogUHJvcGVydHlbXSk6IFByb21pc2U8UHJvcGVydHlbXT4ge1xuICAvLyBGaWx0ZXIgcHJvcGVydGllcyB0aGF0IG5lZWQgZ2VvY29kaW5nXG4gIGNvbnN0IG5lZWRzR2VvY29kaW5nID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAocC5fbmVlZHNfZ2VvY29kaW5nIHx8ICFwLmxhdGl0dWRlIHx8ICFwLmxvbmdpdHVkZSB8fCBwLl9jb29yZGluYXRlc19taXNzaW5nIHx8IHAuX2lzX2dyaWRfcGF0dGVybikgJiZcbiAgICAocC5hZGRyZXNzIHx8IChwLmNpdHkgJiYgcC5zdGF0ZSkpXG4gICk7XG4gIFxuICBpZiAobmVlZHNHZW9jb2RpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS5sb2coJ05vIHByb3BlcnRpZXMgbmVlZCBnZW9jb2RpbmcnKTtcbiAgICByZXR1cm4gcHJvcGVydGllcztcbiAgfVxuICBcbiAgY29uc29sZS5sb2coYEdlb2NvZGluZyAke25lZWRzR2VvY29kaW5nLmxlbmd0aH0gcHJvcGVydGllc2ApO1xuICBcbiAgLy8gVHJ5IHRvIHVzZSBHb29nbGUgTWFwcyBBUEkgaWYgYXZhaWxhYmxlXG4gIGNvbnN0IGdvb2dsZU1hcHNBdmFpbGFibGUgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lmdvb2dsZSAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lmdvb2dsZS5tYXBzICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZ29vZ2xlLm1hcHMuR2VvY29kZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAvLyBVc2UgTWFwYm94IGlmIGF2YWlsYWJsZVxuICBjb25zdCBtYXBib3hUb2tlbiA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX01BUEJPWF9BQ0NFU1NfVE9LRU47XG4gIFxuICAvLyBHZW9jb2RlIGVhY2ggcHJvcGVydHlcbiAgY29uc3QgZ2VvY29kZWRQcm9wZXJ0aWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgcHJvcGVydGllcy5tYXAoYXN5bmMgKHByb3BlcnR5KSA9PiB7XG4gICAgICAvLyBTa2lwIHByb3BlcnRpZXMgdGhhdCBkb24ndCBuZWVkIGdlb2NvZGluZ1xuICAgICAgaWYgKCghcHJvcGVydHkuX25lZWRzX2dlb2NvZGluZyAmJiBwcm9wZXJ0eS5sYXRpdHVkZSAmJiBwcm9wZXJ0eS5sb25naXR1ZGUgJiYgXG4gICAgICAgICAgICFwcm9wZXJ0eS5fY29vcmRpbmF0ZXNfbWlzc2luZyAmJiAhcHJvcGVydHkuX2lzX2dyaWRfcGF0dGVybikgfHxcbiAgICAgICAgICAoIXByb3BlcnR5LmFkZHJlc3MgJiYgKCFwcm9wZXJ0eS5jaXR5IHx8ICFwcm9wZXJ0eS5zdGF0ZSkpKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgY29weSB0byBhdm9pZCBtdXRhdGluZyB0aGUgb3JpZ2luYWxcbiAgICAgIGNvbnN0IGdlb2NvZGVkUHJvcGVydHkgPSB7IC4uLnByb3BlcnR5IH07XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBjb29yZGluYXRlcyA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyBUcnkgR29vZ2xlIE1hcHMgQVBJIGZpcnN0IGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAoZ29vZ2xlTWFwc0F2YWlsYWJsZSkge1xuICAgICAgICAgIGNvb3JkaW5hdGVzID0gYXdhaXQgZ2VvY29kZVdpdGhHb29nbGVNYXBzKHByb3BlcnR5KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gSWYgR29vZ2xlIE1hcHMgZmFpbGVkIG9yIGlzIG5vdCBhdmFpbGFibGUsIHRyeSBNYXBib3hcbiAgICAgICAgaWYgKCFjb29yZGluYXRlcyAmJiBtYXBib3hUb2tlbikge1xuICAgICAgICAgIGNvb3JkaW5hdGVzID0gYXdhaXQgZ2VvY29kZVdpdGhNYXBib3gocHJvcGVydHksIG1hcGJveFRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gSWYgYm90aCBmYWlsZWQsIHRyeSBOb21pbmF0aW0gYXMgYSBsYXN0IHJlc29ydFxuICAgICAgICBpZiAoIWNvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgY29vcmRpbmF0ZXMgPSBhd2FpdCBnZW9jb2RlV2l0aE5vbWluYXRpbShwcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIElmIHdlIGdvdCBjb29yZGluYXRlcywgdXBkYXRlIHRoZSBwcm9wZXJ0eVxuICAgICAgICBpZiAoY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICBnZW9jb2RlZFByb3BlcnR5LmxhdGl0dWRlID0gY29vcmRpbmF0ZXMubGF0aXR1ZGU7XG4gICAgICAgICAgZ2VvY29kZWRQcm9wZXJ0eS5sb25naXR1ZGUgPSBjb29yZGluYXRlcy5sb25naXR1ZGU7XG4gICAgICAgICAgZ2VvY29kZWRQcm9wZXJ0eS5fZ2VvY29kZWQgPSB0cnVlO1xuICAgICAgICAgIGdlb2NvZGVkUHJvcGVydHkuX2Nvb3JkaW5hdGVzX21pc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgICBnZW9jb2RlZFByb3BlcnR5Ll9uZWVkc19nZW9jb2RpbmcgPSBmYWxzZTtcbiAgICAgICAgICBnZW9jb2RlZFByb3BlcnR5Ll9pc19ncmlkX3BhdHRlcm4gPSBmYWxzZTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZyhgR2VvY29kZWQgJHtwcm9wZXJ0eS5hZGRyZXNzIHx8IHByb3BlcnR5LmNpdHl9LCAke3Byb3BlcnR5LnN0YXRlfTogJHtjb29yZGluYXRlcy5sYXRpdHVkZX0sICR7Y29vcmRpbmF0ZXMubG9uZ2l0dWRlfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGdlb2NvZGUgJHtwcm9wZXJ0eS5hZGRyZXNzIHx8IHByb3BlcnR5LmNpdHl9LCAke3Byb3BlcnR5LnN0YXRlfWApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBHZW9jb2RpbmcgZXJyb3IgZm9yICR7cHJvcGVydHkuYWRkcmVzcyB8fCBwcm9wZXJ0eS5jaXR5fSwgJHtwcm9wZXJ0eS5zdGF0ZX06YCwgZXJyb3IpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gZ2VvY29kZWRQcm9wZXJ0eTtcbiAgICB9KVxuICApO1xuICBcbiAgcmV0dXJuIGdlb2NvZGVkUHJvcGVydGllcztcbn1cblxuLyoqXG4gKiBHZW9jb2RlIGEgcHJvcGVydHkgdXNpbmcgR29vZ2xlIE1hcHMgQVBJXG4gKiBcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0eSAtIFByb3BlcnR5IG9iamVjdCB3aXRoIGFkZHJlc3MgaW5mb3JtYXRpb25cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gLSBDb29yZGluYXRlcyBvYmplY3Qgb3IgbnVsbCBpZiBmYWlsZWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2VvY29kZVdpdGhHb29nbGVNYXBzKHByb3BlcnR5OiBQcm9wZXJ0eSk6IFByb21pc2U8Q29vcmRpbmF0ZXMgfCBudWxsPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXdpbmRvdy5nb29nbGUgfHwgIXdpbmRvdy5nb29nbGUubWFwcyB8fCAhd2luZG93Lmdvb2dsZS5tYXBzLkdlb2NvZGVyKSB7XG4gICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZ2VvY29kZXIgPSBuZXcgd2luZG93Lmdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIGFkZHJlc3Mgc3RyaW5nXG4gICAgICBsZXQgYWRkcmVzc1N0cmluZyA9ICcnO1xuICAgICAgaWYgKHByb3BlcnR5LmFkZHJlc3MpIGFkZHJlc3NTdHJpbmcgKz0gcHJvcGVydHkuYWRkcmVzcztcbiAgICAgIGlmIChwcm9wZXJ0eS5jaXR5KSBhZGRyZXNzU3RyaW5nICs9IChhZGRyZXNzU3RyaW5nID8gJywgJyA6ICcnKSArIHByb3BlcnR5LmNpdHk7XG4gICAgICBpZiAocHJvcGVydHkuc3RhdGUpIGFkZHJlc3NTdHJpbmcgKz0gKGFkZHJlc3NTdHJpbmcgPyAnLCAnIDogJycpICsgcHJvcGVydHkuc3RhdGU7XG4gICAgICBpZiAocHJvcGVydHkuemlwKSBhZGRyZXNzU3RyaW5nICs9IChhZGRyZXNzU3RyaW5nID8gJyAnIDogJycpICsgcHJvcGVydHkuemlwO1xuICAgICAgXG4gICAgICBnZW9jb2Rlci5nZW9jb2RlKHsgYWRkcmVzczogYWRkcmVzc1N0cmluZyB9LCAocmVzdWx0czogYW55LCBzdGF0dXM6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoc3RhdHVzID09PSAnT0snICYmIHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5nZW9tZXRyeSkge1xuICAgICAgICAgIGNvbnN0IGxhdGl0dWRlID0gcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKTtcbiAgICAgICAgICBjb25zdCBsb25naXR1ZGUgPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGZvciBzdXNwaWNpb3VzIHBhdHRlcm5zXG4gICAgICAgICAgaWYgKGlzR3JpZFBhdHRlcm4obGF0aXR1ZGUsIGxvbmdpdHVkZSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgU3VzcGljaW91cyBncmlkIHBhdHRlcm4gZGV0ZWN0ZWQ6ICR7bGF0aXR1ZGV9LCAke2xvbmdpdHVkZX1gKTtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICBsYXRpdHVkZSxcbiAgICAgICAgICAgICAgbG9uZ2l0dWRlLFxuICAgICAgICAgICAgICBwcm92aWRlcjogJ2dvb2dsZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEdvb2dsZSBnZW9jb2RpbmcgZmFpbGVkOiAke3N0YXR1c31gKTtcbiAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2l0aCBHb29nbGUgZ2VvY29kaW5nOicsIGVycm9yKTtcbiAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBHZW9jb2RlIGEgcHJvcGVydHkgdXNpbmcgTWFwYm94IEFQSVxuICogXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydHkgLSBQcm9wZXJ0eSBvYmplY3Qgd2l0aCBhZGRyZXNzIGluZm9ybWF0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gYWNjZXNzVG9rZW4gLSBNYXBib3ggYWNjZXNzIHRva2VuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3R8bnVsbD59IC0gQ29vcmRpbmF0ZXMgb2JqZWN0IG9yIG51bGwgaWYgZmFpbGVkXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdlb2NvZGVXaXRoTWFwYm94KHByb3BlcnR5OiBQcm9wZXJ0eSwgYWNjZXNzVG9rZW46IHN0cmluZyk6IFByb21pc2U8Q29vcmRpbmF0ZXMgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gQnVpbGQgYWRkcmVzcyBzdHJpbmdcbiAgICBsZXQgYWRkcmVzc1N0cmluZyA9ICcnO1xuICAgIGlmIChwcm9wZXJ0eS5hZGRyZXNzKSBhZGRyZXNzU3RyaW5nICs9IHByb3BlcnR5LmFkZHJlc3M7XG4gICAgaWYgKHByb3BlcnR5LmNpdHkpIGFkZHJlc3NTdHJpbmcgKz0gKGFkZHJlc3NTdHJpbmcgPyAnLCAnIDogJycpICsgcHJvcGVydHkuY2l0eTtcbiAgICBpZiAocHJvcGVydHkuc3RhdGUpIGFkZHJlc3NTdHJpbmcgKz0gKGFkZHJlc3NTdHJpbmcgPyAnLCAnIDogJycpICsgcHJvcGVydHkuc3RhdGU7XG4gICAgaWYgKHByb3BlcnR5LnppcCkgYWRkcmVzc1N0cmluZyArPSAoYWRkcmVzc1N0cmluZyA/ICcgJyA6ICcnKSArIHByb3BlcnR5LnppcDtcbiAgICBcbiAgICAvLyBVUkwgZW5jb2RlIHRoZSBhZGRyZXNzXG4gICAgY29uc3QgZW5jb2RlZEFkZHJlc3MgPSBlbmNvZGVVUklDb21wb25lbnQoYWRkcmVzc1N0cmluZyk7XG4gICAgXG4gICAgLy8gTWFrZSBBUEkgcmVxdWVzdFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9hcGkubWFwYm94LmNvbS9nZW9jb2RpbmcvdjUvbWFwYm94LnBsYWNlcy8ke2VuY29kZWRBZGRyZXNzfS5qc29uP2FjY2Vzc190b2tlbj0ke2FjY2Vzc1Rva2VufWBcbiAgICApO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTWFwYm94IEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBcbiAgICBpZiAoZGF0YS5mZWF0dXJlcyAmJiBkYXRhLmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZlYXR1cmUgPSBkYXRhLmZlYXR1cmVzWzBdO1xuICAgICAgY29uc3QgbG9uZ2l0dWRlID0gZmVhdHVyZS5jZW50ZXJbMF07XG4gICAgICBjb25zdCBsYXRpdHVkZSA9IGZlYXR1cmUuY2VudGVyWzFdO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3Igc3VzcGljaW91cyBwYXR0ZXJuc1xuICAgICAgaWYgKGlzR3JpZFBhdHRlcm4obGF0aXR1ZGUsIGxvbmdpdHVkZSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBTdXNwaWNpb3VzIGdyaWQgcGF0dGVybiBkZXRlY3RlZDogJHtsYXRpdHVkZX0sICR7bG9uZ2l0dWRlfWApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGF0aXR1ZGUsXG4gICAgICAgIGxvbmdpdHVkZSxcbiAgICAgICAgcHJvdmlkZXI6ICdtYXBib3gnXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3aXRoIE1hcGJveCBnZW9jb2Rpbmc6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogR2VvY29kZSBhIHByb3BlcnR5IHVzaW5nIE5vbWluYXRpbSBBUEkgKE9wZW5TdHJlZXRNYXApXG4gKiBcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0eSAtIFByb3BlcnR5IG9iamVjdCB3aXRoIGFkZHJlc3MgaW5mb3JtYXRpb25cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gLSBDb29yZGluYXRlcyBvYmplY3Qgb3IgbnVsbCBpZiBmYWlsZWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2VvY29kZVdpdGhOb21pbmF0aW0ocHJvcGVydHk6IFByb3BlcnR5KTogUHJvbWlzZTxDb29yZGluYXRlcyB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICAvLyBCdWlsZCBhZGRyZXNzIHN0cmluZ1xuICAgIGxldCBhZGRyZXNzU3RyaW5nID0gJyc7XG4gICAgaWYgKHByb3BlcnR5LmFkZHJlc3MpIGFkZHJlc3NTdHJpbmcgKz0gcHJvcGVydHkuYWRkcmVzcztcbiAgICBpZiAocHJvcGVydHkuY2l0eSkgYWRkcmVzc1N0cmluZyArPSAoYWRkcmVzc1N0cmluZyA/ICcsICcgOiAnJykgKyBwcm9wZXJ0eS5jaXR5O1xuICAgIGlmIChwcm9wZXJ0eS5zdGF0ZSkgYWRkcmVzc1N0cmluZyArPSAoYWRkcmVzc1N0cmluZyA/ICcsICcgOiAnJykgKyBwcm9wZXJ0eS5zdGF0ZTtcbiAgICBpZiAocHJvcGVydHkuemlwKSBhZGRyZXNzU3RyaW5nICs9IChhZGRyZXNzU3RyaW5nID8gJyAnIDogJycpICsgcHJvcGVydHkuemlwO1xuICAgIFxuICAgIC8vIFVSTCBlbmNvZGUgdGhlIGFkZHJlc3NcbiAgICBjb25zdCBlbmNvZGVkQWRkcmVzcyA9IGVuY29kZVVSSUNvbXBvbmVudChhZGRyZXNzU3RyaW5nKTtcbiAgICBcbiAgICAvLyBNYWtlIEFQSSByZXF1ZXN0ICh3aXRoIGEgcmFuZG9tIGRlbGF5IHRvIGF2b2lkIHJhdGUgbGltaXRpbmcpXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL25vbWluYXRpbS5vcGVuc3RyZWV0bWFwLm9yZy9zZWFyY2g/Zm9ybWF0PWpzb24mcT0ke2VuY29kZWRBZGRyZXNzfWAsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnVXNlci1BZ2VudCc6ICdBY3F1aXJlUHJvcGVydHlNYXAvMS4wJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICBcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vbWluYXRpbSBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBkYXRhWzBdO1xuICAgICAgY29uc3QgbGF0aXR1ZGUgPSBwYXJzZUZsb2F0KHJlc3VsdC5sYXQpO1xuICAgICAgY29uc3QgbG9uZ2l0dWRlID0gcGFyc2VGbG9hdChyZXN1bHQubG9uKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIHN1c3BpY2lvdXMgcGF0dGVybnNcbiAgICAgIGlmIChpc0dyaWRQYXR0ZXJuKGxhdGl0dWRlLCBsb25naXR1ZGUpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgU3VzcGljaW91cyBncmlkIHBhdHRlcm4gZGV0ZWN0ZWQ6ICR7bGF0aXR1ZGV9LCAke2xvbmdpdHVkZX1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhdGl0dWRlLFxuICAgICAgICBsb25naXR1ZGUsXG4gICAgICAgIHByb3ZpZGVyOiAnbm9taW5hdGltJ1xuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG51bGw7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igd2l0aCBOb21pbmF0aW0gZ2VvY29kaW5nOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGNvb3JkaW5hdGVzIGFyZSBvbiBhIGdyaWQgcGF0dGVybiAoaW5kaWNhdGluZyBzeW50aGV0aWMgZGF0YSlcbiAqIFxuICogQHBhcmFtIHtudW1iZXJ9IGxhdGl0dWRlIC0gTGF0aXR1ZGUgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGxvbmdpdHVkZSAtIExvbmdpdHVkZSBjb29yZGluYXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIGNvb3JkaW5hdGVzIGFyZSBsaWtlbHkgb24gYSBncmlkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0dyaWRQYXR0ZXJuKGxhdGl0dWRlOiBudW1iZXIsIGxvbmdpdHVkZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gIC8vIENoZWNrIGlmIHZhbHVlcyBhcmUgemVybyAoY29tbW9uIGZvciB1bmluaXRpYWxpemVkIHZhbHVlcylcbiAgaWYgKGxhdGl0dWRlID09PSAwICYmIGxvbmdpdHVkZSA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICAvLyBDaGVjayBpZiB2YWx1ZXMgaGF2ZSB2ZXJ5IGZldyBkZWNpbWFsIHBsYWNlcyAobGlrZWx5IHJvdW5kZWQpXG4gIGNvbnN0IGxhdFN0ciA9IGxhdGl0dWRlLnRvU3RyaW5nKCk7XG4gIGNvbnN0IGxuZ1N0ciA9IGxvbmdpdHVkZS50b1N0cmluZygpO1xuICBcbiAgY29uc3QgbGF0RGVjaW1hbHMgPSBsYXRTdHIuaW5jbHVkZXMoJy4nKSA/IGxhdFN0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA6IDA7XG4gIGNvbnN0IGxuZ0RlY2ltYWxzID0gbG5nU3RyLmluY2x1ZGVzKCcuJykgPyBsbmdTdHIuc3BsaXQoJy4nKVsxXS5sZW5ndGggOiAwO1xuICBcbiAgLy8gSWYgYm90aCBoYXZlIGZld2VyIHRoYW4gNCBkZWNpbWFsIHBsYWNlcywgaXQncyBsaWtlbHkgc3ludGhldGljXG4gIGlmIChsYXREZWNpbWFscyA8IDQgJiYgbG5nRGVjaW1hbHMgPCA0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIC8vIENoZWNrIGlmIG91dHNpZGUgQXVzdGluIGFyZWEgYm91bmRzIChhcHByb3hpbWF0ZWx5KVxuICBpZiAobGF0aXR1ZGUgPCAyOS41IHx8IGxhdGl0dWRlID4gMzEuMCB8fCBsb25naXR1ZGUgPCAtOTguMCB8fCBsb25naXR1ZGUgPiAtOTcuMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHByb3BlcnR5X3Jlc2VhcmNoIHRhYmxlIGV4aXN0c1xuICogXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gLSBUcnVlIGlmIHRhYmxlIGV4aXN0c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tSZXNlYXJjaFRhYmxlRXhpc3RzKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvcGVydHlfcmVzZWFyY2gnKVxuICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgLmxpbWl0KDEpO1xuICAgICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyByZXNlYXJjaCB0YWJsZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHJlc2VhcmNoIHRhYmxlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBTeW5jaHJvbml6ZSBjb29yZGluYXRlcyBiZXR3ZWVuIHByb3BlcnRpZXMgYW5kIHByb3BlcnR5X3Jlc2VhcmNoIHRhYmxlc1xuICogXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgLSBNYXhpbXVtIG51bWJlciBvZiByZWNvcmRzIHRvIHByb2Nlc3NcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IC0gUmVzdWx0cyBvZiB0aGUgb3BlcmF0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzeW5jUmVzZWFyY2hDb29yZGluYXRlcyhsaW1pdCA9IDEwMCk6IFByb21pc2U8e1xuICB0b3RhbDogbnVtYmVyLFxuICB1cGRhdGVkOiBudW1iZXIsXG4gIGVycm9yczogbnVtYmVyXG59PiB7XG4gIGNvbnN0IHJlc3VsdHMgPSB7XG4gICAgdG90YWw6IDAsXG4gICAgdXBkYXRlZDogMCxcbiAgICBlcnJvcnM6IDBcbiAgfTtcbiAgXG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgcmVzZWFyY2ggdGFibGUgZXhpc3RzXG4gICAgY29uc3QgdGFibGVFeGlzdHMgPSBhd2FpdCBjaGVja1Jlc2VhcmNoVGFibGVFeGlzdHMoKTtcbiAgICBpZiAoIXRhYmxlRXhpc3RzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQcm9wZXJ0eSByZXNlYXJjaCB0YWJsZSBkb2VzIG5vdCBleGlzdCcpO1xuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIFxuICAgIC8vIEdldCBwcm9wZXJ0aWVzIHdpdGggbWlzc2luZyBjb29yZGluYXRlcyBidXQgaGF2ZSByZXNlYXJjaCBkYXRhXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9wZXJ0aWVzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICBpZCwgXG4gICAgICAgIGFkZHJlc3MsIFxuICAgICAgICBjaXR5LCBcbiAgICAgICAgc3RhdGUsIFxuICAgICAgICBsYXRpdHVkZSwgXG4gICAgICAgIGxvbmdpdHVkZSxcbiAgICAgICAgcHJvcGVydHlfcmVzZWFyY2ghcHJvcGVydHlfcmVzZWFyY2ggKFxuICAgICAgICAgIGlkLCBcbiAgICAgICAgICBtb2R1bGVzXG4gICAgICAgIClcbiAgICAgIGApXG4gICAgICAub3IoJ2xhdGl0dWRlLmlzLm51bGwsbG9uZ2l0dWRlLmlzLm51bGwsbGF0aXR1ZGUuZXEuMCxsb25naXR1ZGUuZXEuMCcpXG4gICAgICAubm90KCdwcm9wZXJ0eV9yZXNlYXJjaCcsICdpcycsIG51bGwpXG4gICAgICAubGltaXQobGltaXQpO1xuICAgICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9wZXJ0aWVzIHdpdGggbWlzc2luZyBjb29yZGluYXRlczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG4gICAgXG4gICAgcmVzdWx0cy50b3RhbCA9IGRhdGEubGVuZ3RoO1xuICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2RhdGEubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggbWlzc2luZyBjb29yZGluYXRlcyB0aGF0IGhhdmUgcmVzZWFyY2ggZGF0YWApO1xuICAgIFxuICAgIC8vIFByb2Nlc3MgZWFjaCBwcm9wZXJ0eVxuICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2YgZGF0YSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRXh0cmFjdCByZXNlYXJjaCBkYXRhIGlmIGF2YWlsYWJsZVxuICAgICAgICBjb25zdCByZXNlYXJjaERhdGEgPSBwcm9wZXJ0eS5wcm9wZXJ0eV9yZXNlYXJjaCAmJiBwcm9wZXJ0eS5wcm9wZXJ0eV9yZXNlYXJjaC5sZW5ndGggPiAwIFxuICAgICAgICAgID8gcHJvcGVydHkucHJvcGVydHlfcmVzZWFyY2hbMF0gXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgICAgIFxuICAgICAgICBpZiAocmVzZWFyY2hEYXRhICYmIHJlc2VhcmNoRGF0YS5tb2R1bGVzICYmIHJlc2VhcmNoRGF0YS5tb2R1bGVzLnByb3BlcnR5X2RldGFpbHMpIHtcbiAgICAgICAgICBjb25zdCBwcm9wZXJ0eURldGFpbHMgPSByZXNlYXJjaERhdGEubW9kdWxlcy5wcm9wZXJ0eV9kZXRhaWxzO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGlmIHJlc2VhcmNoIGRhdGEgaGFzIHZhbGlkIGNvb3JkaW5hdGVzXG4gICAgICAgICAgaWYgKHByb3BlcnR5RGV0YWlscy5sYXRpdHVkZSAmJiBwcm9wZXJ0eURldGFpbHMubG9uZ2l0dWRlICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBwcm9wZXJ0eURldGFpbHMubGF0aXR1ZGUgPT09ICdudW1iZXInICYmIFxuICAgICAgICAgICAgICB0eXBlb2YgcHJvcGVydHlEZXRhaWxzLmxvbmdpdHVkZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgcHJvcGVydHkgd2l0aCBjb29yZGluYXRlcyBmcm9tIHJlc2VhcmNoIGRhdGFcbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAuZnJvbSgncHJvcGVydGllcycpXG4gICAgICAgICAgICAgIC51cGRhdGUoe1xuICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBwcm9wZXJ0eURldGFpbHMubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBwcm9wZXJ0eURldGFpbHMubG9uZ2l0dWRlLFxuICAgICAgICAgICAgICAgIF9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoOiB0cnVlLFxuICAgICAgICAgICAgICAgIF9jb29yZGluYXRlc19taXNzaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBfbmVlZHNfZ2VvY29kaW5nOiBmYWxzZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAubWF0Y2goeyBpZDogcHJvcGVydHkuaWQgfSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHVwZGF0aW5nIHByb3BlcnR5ICR7cHJvcGVydHkuaWR9OmAsIHVwZGF0ZUVycm9yKTtcbiAgICAgICAgICAgICAgcmVzdWx0cy5lcnJvcnMrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVcGRhdGVkIHByb3BlcnR5ICR7cHJvcGVydHkuaWR9IHdpdGggY29vcmRpbmF0ZXMgZnJvbSByZXNlYXJjaDogWyR7cHJvcGVydHlEZXRhaWxzLmxhdGl0dWRlfSwgJHtwcm9wZXJ0eURldGFpbHMubG9uZ2l0dWRlfV1gKTtcbiAgICAgICAgICAgICAgcmVzdWx0cy51cGRhdGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgcHJvcGVydHkgJHtwcm9wZXJ0eS5pZH06YCwgZSk7XG4gICAgICAgIHJlc3VsdHMuZXJyb3JzKys7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHRzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgcmVzZWFyY2ggY29vcmRpbmF0ZXM6JywgZXJyb3IpO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG59XG5cbi8qKlxuICogUGVyZm9ybSBlbmhhbmNlZCBnZW9jb2Rpbmcgb24gYSBiYXRjaCBvZiBwcm9wZXJ0aWVzXG4gKiBcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BlcnRpZXMgLSBBcnJheSBvZiBwcm9wZXJ0eSBvYmplY3RzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9ncmVzc0NhbGxiYWNrIC0gT3B0aW9uYWwgY2FsbGJhY2sgZm9yIHByb2dyZXNzIHVwZGF0ZXNcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gLSBQcm9wZXJ0aWVzIHdpdGggY29vcmRpbmF0ZXMgYWRkZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuaGFuY2VkR2VvY29kZVByb3BlcnRpZXMoXG4gIHByb3BlcnRpZXM6IFByb3BlcnR5W10sIFxuICBwcm9ncmVzc0NhbGxiYWNrOiAoKHByb2dyZXNzOiBudW1iZXIsIHRvdGFsOiBudW1iZXIpID0+IHZvaWQpIHwgbnVsbCA9IG51bGxcbik6IFByb21pc2U8UHJvcGVydHlbXT4ge1xuICBpZiAoIXByb3BlcnRpZXMgfHwgcHJvcGVydGllcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgXG4gIGNvbnNvbGUubG9nKGBHZW9jb2RpbmcgJHtwcm9wZXJ0aWVzLmxlbmd0aH0gcHJvcGVydGllcyB1c2luZyBlbmhhbmNlZCBhcHByb2FjaGApO1xuICBcbiAgLy8gT25seSBwcm9jZXNzIHByb3BlcnRpZXMgdGhhdCBuZWVkIGdlb2NvZGluZ1xuICBjb25zdCBuZWVkc0dlb2NvZGluZyA9IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gXG4gICAgKHAuX25lZWRzX2dlb2NvZGluZyB8fCAhcC5sYXRpdHVkZSB8fCAhcC5sb25naXR1ZGUgfHwgcC5fY29vcmRpbmF0ZXNfbWlzc2luZyB8fCBwLl9pc19ncmlkX3BhdHRlcm4pICYmXG4gICAgKHAuYWRkcmVzcyB8fCAocC5jaXR5ICYmIHAuc3RhdGUpKVxuICApO1xuICBcbiAgLy8gS2VlcCBwcm9wZXJ0aWVzIHRoYXQgZG9uJ3QgbmVlZCBnZW9jb2RpbmdcbiAgY29uc3QgZ29vZFByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IFxuICAgICFwLl9uZWVkc19nZW9jb2RpbmcgJiYgcC5sYXRpdHVkZSAmJiBwLmxvbmdpdHVkZSAmJiBcbiAgICAhcC5fY29vcmRpbmF0ZXNfbWlzc2luZyAmJiAhcC5faXNfZ3JpZF9wYXR0ZXJuICYmXG4gICAgaGFzVmFsaWRDb29yZGluYXRlcyhwKVxuICApO1xuICBcbiAgaWYgKG5lZWRzR2VvY29kaW5nLmxlbmd0aCA9PT0gMCkge1xuICAgIGNvbnNvbGUubG9nKCdObyBwcm9wZXJ0aWVzIG5lZWQgZ2VvY29kaW5nJyk7XG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cbiAgXG4gIGNvbnNvbGUubG9nKGBGb3VuZCAke25lZWRzR2VvY29kaW5nLmxlbmd0aH0gcHJvcGVydGllcyB0aGF0IG5lZWQgZ2VvY29kaW5nYCk7XG4gIFxuICAvLyBGdW5jdGlvbiB0byByZXBvcnQgcHJvZ3Jlc3NcbiAgY29uc3QgcmVwb3J0UHJvZ3Jlc3MgPSAoY3VycmVudDogbnVtYmVyLCB0b3RhbDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHByb2dyZXNzQ2FsbGJhY2spIHtcbiAgICAgIHByb2dyZXNzQ2FsbGJhY2soY3VycmVudCwgdG90YWwpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEZpcnN0LCB0cnkgdG8gdXNlIEdvb2dsZSBNYXBzIEFQSSAoYnV0IHJlc3BlY3QgcmF0ZSBsaW1pdHMpXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZ29vZ2xlICYmIHdpbmRvdy5nb29nbGUubWFwcyAmJiB3aW5kb3cuZ29vZ2xlLm1hcHMuR2VvY29kZXIpIHtcbiAgICBsZXQgcHJvY2Vzc2VkID0gMDtcbiAgICBsZXQgZ2VvY29kZWRDb3VudCA9IDA7XG4gICAgY29uc3QgZ2VvY29kZXIgPSBuZXcgd2luZG93Lmdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7XG4gICAgY29uc3QgYmF0Y2ggPSBuZWVkc0dlb2NvZGluZy5zbGljZSgwLCA1MCk7IC8vIFByb2Nlc3MgdXAgdG8gNTAgdG8gcmVzcGVjdCBxdW90YXNcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgVXNpbmcgR29vZ2xlIE1hcHMgQVBJIHRvIGdlb2NvZGUgJHtiYXRjaC5sZW5ndGh9IHByb3BlcnRpZXNgKTtcbiAgICBcbiAgICBjb25zdCBnZW9jb2RlQmF0Y2ggPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHRzOiBQcm9wZXJ0eVtdID0gW107XG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2YgYmF0Y2gpIHtcbiAgICAgICAgLy8gQnVpbGQgYWRkcmVzcyBzdHJpbmdcbiAgICAgICAgbGV0IGFkZHJlc3NTdHJpbmcgPSAnJztcbiAgICAgICAgaWYgKHByb3BlcnR5LmFkZHJlc3MpIGFkZHJlc3NTdHJpbmcgKz0gcHJvcGVydHkuYWRkcmVzcztcbiAgICAgICAgaWYgKHByb3BlcnR5LmNpdHkpIGFkZHJlc3NTdHJpbmcgKz0gKGFkZHJlc3NTdHJpbmcgPyAnLCAnIDogJycpICsgcHJvcGVydHkuY2l0eTtcbiAgICAgICAgaWYgKHByb3BlcnR5LnN0YXRlKSBhZGRyZXNzU3RyaW5nICs9IChhZGRyZXNzU3RyaW5nID8gJywgJyA6ICcnKSArIHByb3BlcnR5LnN0YXRlO1xuICAgICAgICBpZiAocHJvcGVydHkuemlwKSBhZGRyZXNzU3RyaW5nICs9IChhZGRyZXNzU3RyaW5nID8gJyAnIDogJycpICsgcHJvcGVydHkuemlwO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGEgZGVsYXkgdG8gYXZvaWQgcXVvdGEgbGltaXRzXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyNTApKTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZ2VvY29kZVByb21pc2UgPSBuZXcgUHJvbWlzZTxDb29yZGluYXRlcyB8IG51bGw+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBnZW9jb2Rlci5nZW9jb2RlKHsgYWRkcmVzczogYWRkcmVzc1N0cmluZyB9LCAocmVzdWx0czogYW55LCBzdGF0dXM6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSAnT0snICYmIHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5nZW9tZXRyeSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhdGl0dWRlID0gcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsb25naXR1ZGUgPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChpc0dyaWRQYXR0ZXJuKGxhdGl0dWRlLCBsb25naXR1ZGUpKSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6ICdnb29nbGUnXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2V0IGEgdGltZW91dCB0byBhdm9pZCBoYW5naW5nXG4gICAgICAgICAgY29uc3QgdGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZTxudWxsPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKG51bGwpLCA1MDAwKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSYWNlIHRoZSBnZW9jb2RlIHByb21pc2UgYWdhaW5zdCB0aGUgdGltZW91dFxuICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtnZW9jb2RlUHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGdlb2NvZGVkUHJvcGVydHkgPSB7IC4uLnByb3BlcnR5IH07XG4gICAgICAgICAgICBnZW9jb2RlZFByb3BlcnR5LmxhdGl0dWRlID0gY29vcmRpbmF0ZXMubGF0aXR1ZGU7XG4gICAgICAgICAgICBnZW9jb2RlZFByb3BlcnR5LmxvbmdpdHVkZSA9IGNvb3JkaW5hdGVzLmxvbmdpdHVkZTtcbiAgICAgICAgICAgIGdlb2NvZGVkUHJvcGVydHkuX2dlb2NvZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGdlb2NvZGVkUHJvcGVydHkuX2dlb2NvZGluZ19zb3VyY2UgPSAnZnVsbF9hZGRyZXNzJztcbiAgICAgICAgICAgIGdlb2NvZGVkUHJvcGVydHkuX2dlb2NvZGluZ19mYWlsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGdlb2NvZGVkUHJvcGVydHkuX2Nvb3JkaW5hdGVzX21pc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGdlb2NvZGVkUHJvcGVydHkuX25lZWRzX2dlb2NvZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgZ2VvY29kZWRQcm9wZXJ0eS5faXNfZ3JpZF9wYXR0ZXJuID0gZmFsc2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChnZW9jb2RlZFByb3BlcnR5KTtcbiAgICAgICAgICAgIGdlb2NvZGVkQ291bnQrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZ2VvY29kaW5nIHByb3BlcnR5OmAsIGVycm9yKTtcbiAgICAgICAgICByZXN1bHRzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBwcm9jZXNzZWQrKztcbiAgICAgICAgcmVwb3J0UHJvZ3Jlc3MocHJvY2Vzc2VkLCBiYXRjaC5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9O1xuICAgIFxuICAgIC8vIEV4ZWN1dGUgdGhlIGJhdGNoIGdlb2NvZGluZ1xuICAgIGNvbnN0IGdlb2NvZGVkUHJvcGVydGllcyA9IGF3YWl0IGdlb2NvZGVCYXRjaCgpO1xuICAgIGNvbnNvbGUubG9nKGBTdWNjZXNzZnVsbHkgZ2VvY29kZWQgJHtnZW9jb2RlZENvdW50fSBvdXQgb2YgJHtiYXRjaC5sZW5ndGh9IHByb3BlcnRpZXNgKTtcbiAgICBcbiAgICAvLyBDb21iaW5lIHRoZSBnZW9jb2RlZCBwcm9wZXJ0aWVzIHdpdGggZ29vZCBwcm9wZXJ0aWVzXG4gICAgcmV0dXJuIFsuLi5nb29kUHJvcGVydGllcywgLi4uZ2VvY29kZWRQcm9wZXJ0aWVzXTtcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsIGJhY2sgdG8gdGhlIHN0YW5kYXJkIGdlb2NvZGluZyBtZXRob2RcbiAgICBjb25zb2xlLmxvZygnR29vZ2xlIE1hcHMgQVBJIG5vdCBhdmFpbGFibGUsIHVzaW5nIGZhbGxiYWNrIGdlb2NvZGluZyBtZXRob2QnKTtcbiAgICBjb25zdCBnZW9jb2RlZFByb3BlcnRpZXMgPSBhd2FpdCBnZW9jb2RlUHJvcGVydGllcyhuZWVkc0dlb2NvZGluZyk7XG4gICAgXG4gICAgLy8gQ29tYmluZSB0aGUgZ2VvY29kZWQgcHJvcGVydGllcyB3aXRoIGdvb2QgcHJvcGVydGllc1xuICAgIHJldHVybiBbLi4uZ29vZFByb3BlcnRpZXMsIC4uLmdlb2NvZGVkUHJvcGVydGllc107XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHByb3BlcnR5IGhhcyB2YWxpZCBjb29yZGluYXRlc1xuICogXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydHkgLSBQcm9wZXJ0eSBvYmplY3RcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgY29vcmRpbmF0ZXMgYXJlIHZhbGlkXG4gKi9cbmNvbnN0IGhhc1ZhbGlkQ29vcmRpbmF0ZXMgPSAocHJvcGVydHk6IFByb3BlcnR5KTogYm9vbGVhbiA9PiB7XG4gIC8vIE11c3QgaGF2ZSBudW1lcmljIGNvb3JkaW5hdGVzXG4gIGlmICghcHJvcGVydHkubGF0aXR1ZGUgfHwgIXByb3BlcnR5LmxvbmdpdHVkZSB8fCBcbiAgICAgIHR5cGVvZiBwcm9wZXJ0eS5sYXRpdHVkZSAhPT0gJ251bWJlcicgfHwgXG4gICAgICB0eXBlb2YgcHJvcGVydHkubG9uZ2l0dWRlICE9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8gQ29vcmRpbmF0ZXMgbXVzdCBiZSB3aXRoaW4gdmFsaWQgcmFuZ2VzXG4gIGlmIChwcm9wZXJ0eS5sYXRpdHVkZSA8IC05MCB8fCBwcm9wZXJ0eS5sYXRpdHVkZSA+IDkwIHx8IFxuICAgICAgcHJvcGVydHkubG9uZ2l0dWRlIDwgLTE4MCB8fCBwcm9wZXJ0eS5sb25naXR1ZGUgPiAxODApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIC8vIENvb3JkaW5hdGVzIG11c3Qgbm90IGJlICgwLDApXG4gIGlmIChwcm9wZXJ0eS5sYXRpdHVkZSA9PT0gMCAmJiBwcm9wZXJ0eS5sb25naXR1ZGUgPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIC8vIEZvciBBdXN0aW4gYXJlYSwgY29vcmRpbmF0ZXMgc2hvdWxkIGJlIGluIGFwcHJveGltYXRlIHJlZ2lvblxuICBpZiAocHJvcGVydHkubGF0aXR1ZGUgPCAyOS41IHx8IHByb3BlcnR5LmxhdGl0dWRlID4gMzEuMCB8fCBcbiAgICAgIHByb3BlcnR5LmxvbmdpdHVkZSA8IC05OC4wIHx8IHByb3BlcnR5LmxvbmdpdHVkZSA+IC05Ny4wKSB7XG4gICAgLy8gTWFyayBhcyBvdXRzaWRlIEF1c3RpbiBidXQgZG9uJ3QgY29uc2lkZXIgaW52YWxpZFxuICAgIC8vcHJvcGVydHkuX291dHNpZGVfYXVzdGluID0gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBHZW9jb2RlIGEgc2luZ2xlIGFkZHJlc3NcbiAqIFxuICogQHBhcmFtIHtzdHJpbmd9IGFkZHJlc3MgLSBBZGRyZXNzIHRvIGdlb2NvZGVcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gLSBDb29yZGluYXRlcyBvYmplY3Qgb3IgbnVsbCBpZiBmYWlsZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlb2NvZGVBZGRyZXNzKGFkZHJlc3M6IHN0cmluZyk6IFByb21pc2U8Q29vcmRpbmF0ZXMgfCBudWxsPiB7XG4gIGlmICghYWRkcmVzcykgcmV0dXJuIG51bGw7XG4gIFxuICAvLyBUcnkgR29vZ2xlIE1hcHMgQVBJIGZpcnN0IGlmIGF2YWlsYWJsZVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lmdvb2dsZSAmJiB3aW5kb3cuZ29vZ2xlLm1hcHMgJiYgd2luZG93Lmdvb2dsZS5tYXBzLkdlb2NvZGVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGdlb2NvZGVyID0gbmV3IHdpbmRvdy5nb29nbGUubWFwcy5HZW9jb2RlcigpO1xuICAgICAgXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgZ2VvY29kZXIuZ2VvY29kZSh7IGFkZHJlc3MgfSwgKHJlc3VsdHM6IGFueSwgc3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICBpZiAoc3RhdHVzID09PSAnT0snICYmIHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5nZW9tZXRyeSkge1xuICAgICAgICAgICAgY29uc3QgbGF0aXR1ZGUgPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpO1xuICAgICAgICAgICAgY29uc3QgbG9uZ2l0dWRlID0gcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgIGxhdGl0dWRlLFxuICAgICAgICAgICAgICBsb25naXR1ZGUsXG4gICAgICAgICAgICAgIHByb3ZpZGVyOiAnZ29vZ2xlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3aXRoIEdvb2dsZSBnZW9jb2Rpbmc6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gVHJ5IE1hcGJveCBpZiBhdmFpbGFibGVcbiAgY29uc3QgbWFwYm94VG9rZW4gPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVBCT1hfQUNDRVNTX1RPS0VOO1xuICBpZiAobWFwYm94VG9rZW4pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZW5jb2RlZEFkZHJlc3MgPSBlbmNvZGVVUklDb21wb25lbnQoYWRkcmVzcyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgIGBodHRwczovL2FwaS5tYXBib3guY29tL2dlb2NvZGluZy92NS9tYXBib3gucGxhY2VzLyR7ZW5jb2RlZEFkZHJlc3N9Lmpzb24/YWNjZXNzX3Rva2VuPSR7bWFwYm94VG9rZW59YFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hcGJveCBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChkYXRhLmZlYXR1cmVzICYmIGRhdGEuZmVhdHVyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBmZWF0dXJlID0gZGF0YS5mZWF0dXJlc1swXTtcbiAgICAgICAgY29uc3QgbG9uZ2l0dWRlID0gZmVhdHVyZS5jZW50ZXJbMF07XG4gICAgICAgIGNvbnN0IGxhdGl0dWRlID0gZmVhdHVyZS5jZW50ZXJbMV07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxhdGl0dWRlLFxuICAgICAgICAgIGxvbmdpdHVkZSxcbiAgICAgICAgICBwcm92aWRlcjogJ21hcGJveCdcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2l0aCBNYXBib3ggZ2VvY29kaW5nOicsIGVycm9yKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFRyeSBOb21pbmF0aW0gYXMgYSBsYXN0IHJlc29ydFxuICB0cnkge1xuICAgIGNvbnN0IGVuY29kZWRBZGRyZXNzID0gZW5jb2RlVVJJQ29tcG9uZW50KGFkZHJlc3MpO1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9ub21pbmF0aW0ub3BlbnN0cmVldG1hcC5vcmcvc2VhcmNoP2Zvcm1hdD1qc29uJnE9JHtlbmNvZGVkQWRkcmVzc31gLFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ1VzZXItQWdlbnQnOiAnQWNxdWlyZVByb3BlcnR5TWFwLzEuMCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb21pbmF0aW0gQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gZGF0YVswXTtcbiAgICAgIGNvbnN0IGxhdGl0dWRlID0gcGFyc2VGbG9hdChyZXN1bHQubGF0KTtcbiAgICAgIGNvbnN0IGxvbmdpdHVkZSA9IHBhcnNlRmxvYXQocmVzdWx0Lmxvbik7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhdGl0dWRlLFxuICAgICAgICBsb25naXR1ZGUsXG4gICAgICAgIHByb3ZpZGVyOiAnbm9taW5hdGltJ1xuICAgICAgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igd2l0aCBOb21pbmF0aW0gZ2VvY29kaW5nOicsIGVycm9yKTtcbiAgfVxuICBcbiAgcmV0dXJuIG51bGw7XG59ICJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImdlb2NvZGVQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsIm5lZWRzR2VvY29kaW5nIiwiZmlsdGVyIiwicCIsIl9uZWVkc19nZW9jb2RpbmciLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIl9jb29yZGluYXRlc19taXNzaW5nIiwiX2lzX2dyaWRfcGF0dGVybiIsImFkZHJlc3MiLCJjaXR5Iiwic3RhdGUiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwiZ29vZ2xlTWFwc0F2YWlsYWJsZSIsIndpbmRvdyIsImdvb2dsZSIsIm1hcHMiLCJHZW9jb2RlciIsIm1hcGJveFRva2VuIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX01BUEJPWF9BQ0NFU1NfVE9LRU4iLCJnZW9jb2RlZFByb3BlcnRpZXMiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwicHJvcGVydHkiLCJnZW9jb2RlZFByb3BlcnR5IiwiY29vcmRpbmF0ZXMiLCJnZW9jb2RlV2l0aEdvb2dsZU1hcHMiLCJnZW9jb2RlV2l0aE1hcGJveCIsImdlb2NvZGVXaXRoTm9taW5hdGltIiwiX2dlb2NvZGVkIiwid2FybiIsImVycm9yIiwicmVzb2x2ZSIsImdlb2NvZGVyIiwiYWRkcmVzc1N0cmluZyIsInppcCIsImdlb2NvZGUiLCJyZXN1bHRzIiwic3RhdHVzIiwiZ2VvbWV0cnkiLCJsb2NhdGlvbiIsImxhdCIsImxuZyIsImlzR3JpZFBhdHRlcm4iLCJwcm92aWRlciIsImFjY2Vzc1Rva2VuIiwiZW5jb2RlZEFkZHJlc3MiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJkYXRhIiwianNvbiIsImZlYXR1cmVzIiwiZmVhdHVyZSIsImNlbnRlciIsImhlYWRlcnMiLCJyZXN1bHQiLCJwYXJzZUZsb2F0IiwibG9uIiwibGF0U3RyIiwidG9TdHJpbmciLCJsbmdTdHIiLCJsYXREZWNpbWFscyIsImluY2x1ZGVzIiwic3BsaXQiLCJsbmdEZWNpbWFscyIsImNoZWNrUmVzZWFyY2hUYWJsZUV4aXN0cyIsImZyb20iLCJzZWxlY3QiLCJsaW1pdCIsInN5bmNSZXNlYXJjaENvb3JkaW5hdGVzIiwidG90YWwiLCJ1cGRhdGVkIiwiZXJyb3JzIiwidGFibGVFeGlzdHMiLCJvciIsIm5vdCIsInJlc2VhcmNoRGF0YSIsInByb3BlcnR5X3Jlc2VhcmNoIiwibW9kdWxlcyIsInByb3BlcnR5X2RldGFpbHMiLCJwcm9wZXJ0eURldGFpbHMiLCJ1cGRhdGVFcnJvciIsInVwZGF0ZSIsIl9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoIiwibWF0Y2giLCJpZCIsImUiLCJlbmhhbmNlZEdlb2NvZGVQcm9wZXJ0aWVzIiwicHJvZ3Jlc3NDYWxsYmFjayIsImdvb2RQcm9wZXJ0aWVzIiwiaGFzVmFsaWRDb29yZGluYXRlcyIsInJlcG9ydFByb2dyZXNzIiwiY3VycmVudCIsInByb2Nlc3NlZCIsImdlb2NvZGVkQ291bnQiLCJiYXRjaCIsInNsaWNlIiwiZ2VvY29kZUJhdGNoIiwic2V0VGltZW91dCIsImdlb2NvZGVQcm9taXNlIiwidGltZW91dFByb21pc2UiLCJyYWNlIiwiX2dlb2NvZGluZ19zb3VyY2UiLCJfZ2VvY29kaW5nX2ZhaWxlZCIsInB1c2giLCJnZW9jb2RlQWRkcmVzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/geocoding.ts\n");

/***/ })

};
;
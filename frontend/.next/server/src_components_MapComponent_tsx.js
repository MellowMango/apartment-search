"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "src_components_MapComponent_tsx";
exports.ids = ["src_components_MapComponent_tsx"];
exports.modules = {

/***/ "./lib/geocoding.js":
/*!**************************!*\
  !*** ./lib/geocoding.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkResearchTableExists: () => (/* binding */ checkResearchTableExists),\n/* harmony export */   geocodeProperties: () => (/* binding */ geocodeProperties),\n/* harmony export */   isGridPattern: () => (/* binding */ isGridPattern),\n/* harmony export */   syncResearchCoordinates: () => (/* binding */ syncResearchCoordinates)\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"./lib/supabase.js\");\n/**\n * Geocoding utilities for the frontend\n * \n * This module provides tools for:\n * 1. Client-side geocoding using Google Maps, Mapbox, or Nominatim (fallback)\n * 2. Utilities for coordinate validation and processing\n * 3. Functions to synchronize coordinates between properties and property_research\n */ \n/**\n * Geocode a batch of properties\n * \n * @param {Array} properties - Array of property objects\n * @returns {Promise<Array>} - Properties with coordinates added\n */ async function geocodeProperties(properties) {\n    // Filter properties that need geocoding\n    const needsGeocoding = properties.filter((p)=>(p._needs_geocoding || !p.latitude || !p.longitude || p._coordinates_missing || p._is_grid_pattern) && (p.address || p.city && p.state));\n    if (needsGeocoding.length === 0) {\n        console.log(\"No properties need geocoding\");\n        return properties;\n    }\n    console.log(`Geocoding ${needsGeocoding.length} properties`);\n    // Try to use Google Maps API if available\n    const googleMapsAvailable = typeof google !== \"undefined\" && google.maps && google.maps.Geocoder;\n    // Use Mapbox if available\n    const mapboxToken = process.env.NEXT_PUBLIC_MAPBOX_ACCESS_TOKEN;\n    // Geocode each property\n    const geocodedProperties = await Promise.all(properties.map(async (property)=>{\n        // Skip properties that don't need geocoding\n        if (!property._needs_geocoding && property.latitude && property.longitude && !property._coordinates_missing && !property._is_grid_pattern || !property.address && (!property.city || !property.state)) {\n            return property;\n        }\n        // Create a copy to avoid mutating the original\n        const geocodedProperty = {\n            ...property\n        };\n        try {\n            let coordinates = null;\n            // Try Google Maps API first if available\n            if (googleMapsAvailable) {\n                coordinates = await geocodeWithGoogleMaps(property);\n            }\n            // If Google Maps failed or is not available, try Mapbox\n            if (!coordinates && mapboxToken) {\n                coordinates = await geocodeWithMapbox(property, mapboxToken);\n            }\n            // If both failed, try Nominatim as a last resort\n            if (!coordinates) {\n                coordinates = await geocodeWithNominatim(property);\n            }\n            // If we got coordinates, update the property\n            if (coordinates) {\n                geocodedProperty.latitude = coordinates.latitude;\n                geocodedProperty.longitude = coordinates.longitude;\n                geocodedProperty._geocoded = true;\n                geocodedProperty._coordinates_missing = false;\n                geocodedProperty._needs_geocoding = false;\n                geocodedProperty._is_grid_pattern = false;\n                console.log(`Geocoded ${property.address || property.city}, ${property.state}: ${coordinates.latitude}, ${coordinates.longitude}`);\n            } else {\n                console.warn(`Failed to geocode ${property.address || property.city}, ${property.state}`);\n            }\n        } catch (error) {\n            console.error(`Geocoding error for ${property.address || property.city}, ${property.state}:`, error);\n        }\n        return geocodedProperty;\n    }));\n    return geocodedProperties;\n}\n/**\n * Geocode a property using Google Maps API\n * \n * @param {Object} property - Property object with address information\n * @returns {Promise<Object|null>} - Coordinates object or null if failed\n */ async function geocodeWithGoogleMaps(property) {\n    return new Promise((resolve)=>{\n        try {\n            const geocoder = new google.maps.Geocoder();\n            // Build address string\n            let addressString = \"\";\n            if (property.address) addressString += property.address;\n            if (property.city) addressString += (addressString ? \", \" : \"\") + property.city;\n            if (property.state) addressString += (addressString ? \", \" : \"\") + property.state;\n            if (property.zip_code) addressString += (addressString ? \" \" : \"\") + property.zip_code;\n            geocoder.geocode({\n                address: addressString\n            }, (results, status)=>{\n                if (status === \"OK\" && results[0] && results[0].geometry) {\n                    const latitude = results[0].geometry.location.lat();\n                    const longitude = results[0].geometry.location.lng();\n                    // Check for suspicious patterns\n                    if (isGridPattern(latitude, longitude)) {\n                        console.warn(`Suspicious grid pattern detected: ${latitude}, ${longitude}`);\n                        resolve(null);\n                    } else {\n                        resolve({\n                            latitude,\n                            longitude,\n                            provider: \"google\"\n                        });\n                    }\n                } else {\n                    console.warn(`Google geocoding failed: ${status}`);\n                    resolve(null);\n                }\n            });\n        } catch (error) {\n            console.error(\"Error with Google geocoding:\", error);\n            resolve(null);\n        }\n    });\n}\n/**\n * Geocode a property using Mapbox API\n * \n * @param {Object} property - Property object with address information\n * @param {string} accessToken - Mapbox access token\n * @returns {Promise<Object|null>} - Coordinates object or null if failed\n */ async function geocodeWithMapbox(property, accessToken) {\n    try {\n        // Build address string\n        let addressString = \"\";\n        if (property.address) addressString += property.address;\n        if (property.city) addressString += (addressString ? \", \" : \"\") + property.city;\n        if (property.state) addressString += (addressString ? \", \" : \"\") + property.state;\n        if (property.zip_code) addressString += (addressString ? \" \" : \"\") + property.zip_code;\n        // URL encode the address\n        const encodedAddress = encodeURIComponent(addressString);\n        // Make API request\n        const response = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodedAddress}.json?access_token=${accessToken}`);\n        if (!response.ok) {\n            throw new Error(`Mapbox API error: ${response.status} ${response.statusText}`);\n        }\n        const data = await response.json();\n        if (data.features && data.features.length > 0) {\n            const feature = data.features[0];\n            const longitude = feature.center[0];\n            const latitude = feature.center[1];\n            // Check for suspicious patterns\n            if (isGridPattern(latitude, longitude)) {\n                console.warn(`Suspicious grid pattern detected: ${latitude}, ${longitude}`);\n                return null;\n            }\n            return {\n                latitude,\n                longitude,\n                provider: \"mapbox\"\n            };\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Error with Mapbox geocoding:\", error);\n        return null;\n    }\n}\n/**\n * Geocode a property using Nominatim API (OpenStreetMap)\n * \n * @param {Object} property - Property object with address information\n * @returns {Promise<Object|null>} - Coordinates object or null if failed\n */ async function geocodeWithNominatim(property) {\n    try {\n        // Build address string\n        let addressString = \"\";\n        if (property.address) addressString += property.address;\n        if (property.city) addressString += (addressString ? \", \" : \"\") + property.city;\n        if (property.state) addressString += (addressString ? \", \" : \"\") + property.state;\n        if (property.zip_code) addressString += (addressString ? \" \" : \"\") + property.zip_code;\n        // URL encode the address\n        const encodedAddress = encodeURIComponent(addressString);\n        // Make API request (with a random delay to avoid rate limiting)\n        const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodedAddress}`, {\n            headers: {\n                \"User-Agent\": \"AcquirePropertyMap/1.0\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`Nominatim API error: ${response.status} ${response.statusText}`);\n        }\n        const data = await response.json();\n        if (data && data.length > 0) {\n            const result = data[0];\n            const latitude = parseFloat(result.lat);\n            const longitude = parseFloat(result.lon);\n            // Check for suspicious patterns\n            if (isGridPattern(latitude, longitude)) {\n                console.warn(`Suspicious grid pattern detected: ${latitude}, ${longitude}`);\n                return null;\n            }\n            return {\n                latitude,\n                longitude,\n                provider: \"nominatim\"\n            };\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Error with Nominatim geocoding:\", error);\n        return null;\n    }\n}\n/**\n * Check if coordinates are likely part of a grid pattern\n * \n * @param {number} latitude - Latitude coordinate\n * @param {number} longitude - Longitude coordinate\n * @returns {boolean} - True if likely a grid pattern, false otherwise\n */ function isGridPattern(latitude, longitude) {\n    if (!latitude || !longitude) return false;\n    // Convert to strings for easier checking\n    const latStr = String(latitude);\n    const lngStr = String(longitude);\n    // Check for very low precision coordinates (often grid patterns)\n    const hasLowPrecision = latStr.includes(\".\") && latStr.split(\".\")[1].length <= 3 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 3;\n    // Check for suspicious patterns\n    const hasSuspiciousPattern = latStr === lngStr || // Same lat/lng is very unlikely\n    latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\") || latStr.endsWith(\".5\") || // Common grid values\n    lngStr.endsWith(\".5\") || latStr.endsWith(\".0\") || lngStr.endsWith(\".0\");\n    return hasLowPrecision || hasSuspiciousPattern;\n}\n/**\n * Check if the property_research table exists in Supabase\n * \n * @returns {Promise<boolean>} - True if table exists, false otherwise\n */ async function checkResearchTableExists() {\n    try {\n        // Attempt to query the table\n        const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"property_research\").select(\"id\").limit(1);\n        // If no error, table exists\n        return !error;\n    } catch (error) {\n        console.error(\"Error checking research table:\", error);\n        return false;\n    }\n}\n/**\n * Synchronize coordinates between properties and property_research tables\n * \n * @param {number} limit - Maximum number of properties to process\n * @returns {Promise<Object>} - Result object with success status and counts\n */ async function syncResearchCoordinates(limit = 100) {\n    try {\n        // Check if table exists\n        const tableExists = await checkResearchTableExists();\n        if (!tableExists) {\n            return {\n                success: false,\n                message: \"Property research table does not exist or is not accessible\",\n                updated: 0,\n                errors: 0\n            };\n        }\n        // Get properties missing or with suspicious coordinates\n        const { data: properties, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"properties\").select(\"id, address, city, state, zip_code, latitude, longitude\").limit(limit);\n        if (error) {\n            throw new Error(`Error fetching properties: ${error.message}`);\n        }\n        if (!properties || properties.length === 0) {\n            return {\n                success: true,\n                message: \"No properties found to synchronize\",\n                updated: 0,\n                errors: 0\n            };\n        }\n        // Synchronize each property\n        let updated = 0;\n        let errors = 0;\n        for (const property of properties){\n            try {\n                // If property has valid coordinates, update property_research\n                if (property.latitude && property.longitude && !isGridPattern(property.latitude, property.longitude)) {\n                    // Get property_research record\n                    const { data: research, error: researchError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"property_research\").select(\"id, modules\").eq(\"property_id\", property.id);\n                    if (researchError) {\n                        console.error(`Error fetching research for property ${property.id}:`, researchError);\n                        errors++;\n                        continue;\n                    }\n                    if (research && research.length > 0) {\n                        // Update modules with coordinates\n                        const researchRecord = research[0];\n                        let modules = researchRecord.modules || {};\n                        // Create property_details if it doesn't exist\n                        if (!modules.property_details) {\n                            modules.property_details = {};\n                        }\n                        // Update coordinates\n                        modules.property_details.latitude = property.latitude;\n                        modules.property_details.longitude = property.longitude;\n                        modules.property_details.address = property.address;\n                        modules.property_details.city = property.city;\n                        modules.property_details.state = property.state;\n                        modules.property_details.zip_code = property.zip_code;\n                        // Update property_research\n                        const { error: updateError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"property_research\").update({\n                            modules\n                        }).eq(\"id\", researchRecord.id);\n                        if (updateError) {\n                            console.error(`Error updating research for property ${property.id}:`, updateError);\n                            errors++;\n                        } else {\n                            updated++;\n                        }\n                    }\n                }\n            } catch (propertyError) {\n                console.error(`Error processing property ${property.id}:`, propertyError);\n                errors++;\n            }\n        }\n        return {\n            success: true,\n            message: `Synchronized ${updated} properties with ${errors} errors`,\n            updated,\n            errors\n        };\n    } catch (error) {\n        console.error(\"Error in syncResearchCoordinates:\", error);\n        return {\n            success: false,\n            message: error.message || \"Unknown error occurred\",\n            updated: 0,\n            errors: 1\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUNBQXFDQTtRQUNuRCxPQUFPO1lBQ0w2QyxTQUFTO1lBQ1RDLFNBQVM5QyxNQUFNOEMsT0FBTyxJQUFJO1lBQzFCQyxTQUFTO1lBQ1RDLFFBQVE7UUFDVjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXN0aW4tbXVsdGlmYW1pbHktbWFwLy4vbGliL2dlb2NvZGluZy5qcz82Y2QwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VvY29kaW5nIHV0aWxpdGllcyBmb3IgdGhlIGZyb250ZW5kXG4gKiBcbiAqIFRoaXMgbW9kdWxlIHByb3ZpZGVzIHRvb2xzIGZvcjpcbiAqIDEuIENsaWVudC1zaWRlIGdlb2NvZGluZyB1c2luZyBHb29nbGUgTWFwcywgTWFwYm94LCBvciBOb21pbmF0aW0gKGZhbGxiYWNrKVxuICogMi4gVXRpbGl0aWVzIGZvciBjb29yZGluYXRlIHZhbGlkYXRpb24gYW5kIHByb2Nlc3NpbmdcbiAqIDMuIEZ1bmN0aW9ucyB0byBzeW5jaHJvbml6ZSBjb29yZGluYXRlcyBiZXR3ZWVuIHByb3BlcnRpZXMgYW5kIHByb3BlcnR5X3Jlc2VhcmNoXG4gKi9cblxuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuL3N1cGFiYXNlJztcblxuLyoqXG4gKiBHZW9jb2RlIGEgYmF0Y2ggb2YgcHJvcGVydGllc1xuICogXG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wZXJ0aWVzIC0gQXJyYXkgb2YgcHJvcGVydHkgb2JqZWN0c1xuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk+fSAtIFByb3BlcnRpZXMgd2l0aCBjb29yZGluYXRlcyBhZGRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VvY29kZVByb3BlcnRpZXMocHJvcGVydGllcykge1xuICAvLyBGaWx0ZXIgcHJvcGVydGllcyB0aGF0IG5lZWQgZ2VvY29kaW5nXG4gIGNvbnN0IG5lZWRzR2VvY29kaW5nID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAocC5fbmVlZHNfZ2VvY29kaW5nIHx8ICFwLmxhdGl0dWRlIHx8ICFwLmxvbmdpdHVkZSB8fCBwLl9jb29yZGluYXRlc19taXNzaW5nIHx8IHAuX2lzX2dyaWRfcGF0dGVybikgJiZcbiAgICAocC5hZGRyZXNzIHx8IChwLmNpdHkgJiYgcC5zdGF0ZSkpXG4gICk7XG4gIFxuICBpZiAobmVlZHNHZW9jb2RpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc29sZS5sb2coJ05vIHByb3BlcnRpZXMgbmVlZCBnZW9jb2RpbmcnKTtcbiAgICByZXR1cm4gcHJvcGVydGllcztcbiAgfVxuICBcbiAgY29uc29sZS5sb2coYEdlb2NvZGluZyAke25lZWRzR2VvY29kaW5nLmxlbmd0aH0gcHJvcGVydGllc2ApO1xuICBcbiAgLy8gVHJ5IHRvIHVzZSBHb29nbGUgTWFwcyBBUEkgaWYgYXZhaWxhYmxlXG4gIGNvbnN0IGdvb2dsZU1hcHNBdmFpbGFibGUgPSB0eXBlb2YgZ29vZ2xlICE9PSAndW5kZWZpbmVkJyAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvb2dsZS5tYXBzLkdlb2NvZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgLy8gVXNlIE1hcGJveCBpZiBhdmFpbGFibGVcbiAgY29uc3QgbWFwYm94VG9rZW4gPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVBCT1hfQUNDRVNTX1RPS0VOO1xuICBcbiAgLy8gR2VvY29kZSBlYWNoIHByb3BlcnR5XG4gIGNvbnN0IGdlb2NvZGVkUHJvcGVydGllcyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgIHByb3BlcnRpZXMubWFwKGFzeW5jIChwcm9wZXJ0eSkgPT4ge1xuICAgICAgLy8gU2tpcCBwcm9wZXJ0aWVzIHRoYXQgZG9uJ3QgbmVlZCBnZW9jb2RpbmdcbiAgICAgIGlmICgoIXByb3BlcnR5Ll9uZWVkc19nZW9jb2RpbmcgJiYgcHJvcGVydHkubGF0aXR1ZGUgJiYgcHJvcGVydHkubG9uZ2l0dWRlICYmIFxuICAgICAgICAgICAhcHJvcGVydHkuX2Nvb3JkaW5hdGVzX21pc3NpbmcgJiYgIXByb3BlcnR5Ll9pc19ncmlkX3BhdHRlcm4pIHx8XG4gICAgICAgICAgKCFwcm9wZXJ0eS5hZGRyZXNzICYmICghcHJvcGVydHkuY2l0eSB8fCAhcHJvcGVydHkuc3RhdGUpKSkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIGNvcHkgdG8gYXZvaWQgbXV0YXRpbmcgdGhlIG9yaWdpbmFsXG4gICAgICBjb25zdCBnZW9jb2RlZFByb3BlcnR5ID0geyAuLi5wcm9wZXJ0eSB9O1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBsZXQgY29vcmRpbmF0ZXMgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IEdvb2dsZSBNYXBzIEFQSSBmaXJzdCBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKGdvb2dsZU1hcHNBdmFpbGFibGUpIHtcbiAgICAgICAgICBjb29yZGluYXRlcyA9IGF3YWl0IGdlb2NvZGVXaXRoR29vZ2xlTWFwcyhwcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIElmIEdvb2dsZSBNYXBzIGZhaWxlZCBvciBpcyBub3QgYXZhaWxhYmxlLCB0cnkgTWFwYm94XG4gICAgICAgIGlmICghY29vcmRpbmF0ZXMgJiYgbWFwYm94VG9rZW4pIHtcbiAgICAgICAgICBjb29yZGluYXRlcyA9IGF3YWl0IGdlb2NvZGVXaXRoTWFwYm94KHByb3BlcnR5LCBtYXBib3hUb2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIElmIGJvdGggZmFpbGVkLCB0cnkgTm9taW5hdGltIGFzIGEgbGFzdCByZXNvcnRcbiAgICAgICAgaWYgKCFjb29yZGluYXRlcykge1xuICAgICAgICAgIGNvb3JkaW5hdGVzID0gYXdhaXQgZ2VvY29kZVdpdGhOb21pbmF0aW0ocHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB3ZSBnb3QgY29vcmRpbmF0ZXMsIHVwZGF0ZSB0aGUgcHJvcGVydHlcbiAgICAgICAgaWYgKGNvb3JkaW5hdGVzKSB7XG4gICAgICAgICAgZ2VvY29kZWRQcm9wZXJ0eS5sYXRpdHVkZSA9IGNvb3JkaW5hdGVzLmxhdGl0dWRlO1xuICAgICAgICAgIGdlb2NvZGVkUHJvcGVydHkubG9uZ2l0dWRlID0gY29vcmRpbmF0ZXMubG9uZ2l0dWRlO1xuICAgICAgICAgIGdlb2NvZGVkUHJvcGVydHkuX2dlb2NvZGVkID0gdHJ1ZTtcbiAgICAgICAgICBnZW9jb2RlZFByb3BlcnR5Ll9jb29yZGluYXRlc19taXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgZ2VvY29kZWRQcm9wZXJ0eS5fbmVlZHNfZ2VvY29kaW5nID0gZmFsc2U7XG4gICAgICAgICAgZ2VvY29kZWRQcm9wZXJ0eS5faXNfZ3JpZF9wYXR0ZXJuID0gZmFsc2U7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coYEdlb2NvZGVkICR7cHJvcGVydHkuYWRkcmVzcyB8fCBwcm9wZXJ0eS5jaXR5fSwgJHtwcm9wZXJ0eS5zdGF0ZX06ICR7Y29vcmRpbmF0ZXMubGF0aXR1ZGV9LCAke2Nvb3JkaW5hdGVzLmxvbmdpdHVkZX1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBnZW9jb2RlICR7cHJvcGVydHkuYWRkcmVzcyB8fCBwcm9wZXJ0eS5jaXR5fSwgJHtwcm9wZXJ0eS5zdGF0ZX1gKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgR2VvY29kaW5nIGVycm9yIGZvciAke3Byb3BlcnR5LmFkZHJlc3MgfHwgcHJvcGVydHkuY2l0eX0sICR7cHJvcGVydHkuc3RhdGV9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGdlb2NvZGVkUHJvcGVydHk7XG4gICAgfSlcbiAgKTtcbiAgXG4gIHJldHVybiBnZW9jb2RlZFByb3BlcnRpZXM7XG59XG5cbi8qKlxuICogR2VvY29kZSBhIHByb3BlcnR5IHVzaW5nIEdvb2dsZSBNYXBzIEFQSVxuICogXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydHkgLSBQcm9wZXJ0eSBvYmplY3Qgd2l0aCBhZGRyZXNzIGluZm9ybWF0aW9uXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3R8bnVsbD59IC0gQ29vcmRpbmF0ZXMgb2JqZWN0IG9yIG51bGwgaWYgZmFpbGVkXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdlb2NvZGVXaXRoR29vZ2xlTWFwcyhwcm9wZXJ0eSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZ2VvY29kZXIgPSBuZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTtcbiAgICAgIFxuICAgICAgLy8gQnVpbGQgYWRkcmVzcyBzdHJpbmdcbiAgICAgIGxldCBhZGRyZXNzU3RyaW5nID0gJyc7XG4gICAgICBpZiAocHJvcGVydHkuYWRkcmVzcykgYWRkcmVzc1N0cmluZyArPSBwcm9wZXJ0eS5hZGRyZXNzO1xuICAgICAgaWYgKHByb3BlcnR5LmNpdHkpIGFkZHJlc3NTdHJpbmcgKz0gKGFkZHJlc3NTdHJpbmcgPyAnLCAnIDogJycpICsgcHJvcGVydHkuY2l0eTtcbiAgICAgIGlmIChwcm9wZXJ0eS5zdGF0ZSkgYWRkcmVzc1N0cmluZyArPSAoYWRkcmVzc1N0cmluZyA/ICcsICcgOiAnJykgKyBwcm9wZXJ0eS5zdGF0ZTtcbiAgICAgIGlmIChwcm9wZXJ0eS56aXBfY29kZSkgYWRkcmVzc1N0cmluZyArPSAoYWRkcmVzc1N0cmluZyA/ICcgJyA6ICcnKSArIHByb3BlcnR5LnppcF9jb2RlO1xuICAgICAgXG4gICAgICBnZW9jb2Rlci5nZW9jb2RlKHsgYWRkcmVzczogYWRkcmVzc1N0cmluZyB9LCAocmVzdWx0cywgc3RhdHVzKSA9PiB7XG4gICAgICAgIGlmIChzdGF0dXMgPT09ICdPSycgJiYgcmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmdlb21ldHJ5KSB7XG4gICAgICAgICAgY29uc3QgbGF0aXR1ZGUgPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpO1xuICAgICAgICAgIGNvbnN0IGxvbmdpdHVkZSA9IHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubG5nKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHN1c3BpY2lvdXMgcGF0dGVybnNcbiAgICAgICAgICBpZiAoaXNHcmlkUGF0dGVybihsYXRpdHVkZSwgbG9uZ2l0dWRlKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBTdXNwaWNpb3VzIGdyaWQgcGF0dGVybiBkZXRlY3RlZDogJHtsYXRpdHVkZX0sICR7bG9uZ2l0dWRlfWApO1xuICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgIGxhdGl0dWRlLFxuICAgICAgICAgICAgICBsb25naXR1ZGUsXG4gICAgICAgICAgICAgIHByb3ZpZGVyOiAnZ29vZ2xlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgR29vZ2xlIGdlb2NvZGluZyBmYWlsZWQ6ICR7c3RhdHVzfWApO1xuICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3aXRoIEdvb2dsZSBnZW9jb2Rpbmc6JywgZXJyb3IpO1xuICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEdlb2NvZGUgYSBwcm9wZXJ0eSB1c2luZyBNYXBib3ggQVBJXG4gKiBcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0eSAtIFByb3BlcnR5IG9iamVjdCB3aXRoIGFkZHJlc3MgaW5mb3JtYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBhY2Nlc3NUb2tlbiAtIE1hcGJveCBhY2Nlc3MgdG9rZW5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gLSBDb29yZGluYXRlcyBvYmplY3Qgb3IgbnVsbCBpZiBmYWlsZWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2VvY29kZVdpdGhNYXBib3gocHJvcGVydHksIGFjY2Vzc1Rva2VuKSB7XG4gIHRyeSB7XG4gICAgLy8gQnVpbGQgYWRkcmVzcyBzdHJpbmdcbiAgICBsZXQgYWRkcmVzc1N0cmluZyA9ICcnO1xuICAgIGlmIChwcm9wZXJ0eS5hZGRyZXNzKSBhZGRyZXNzU3RyaW5nICs9IHByb3BlcnR5LmFkZHJlc3M7XG4gICAgaWYgKHByb3BlcnR5LmNpdHkpIGFkZHJlc3NTdHJpbmcgKz0gKGFkZHJlc3NTdHJpbmcgPyAnLCAnIDogJycpICsgcHJvcGVydHkuY2l0eTtcbiAgICBpZiAocHJvcGVydHkuc3RhdGUpIGFkZHJlc3NTdHJpbmcgKz0gKGFkZHJlc3NTdHJpbmcgPyAnLCAnIDogJycpICsgcHJvcGVydHkuc3RhdGU7XG4gICAgaWYgKHByb3BlcnR5LnppcF9jb2RlKSBhZGRyZXNzU3RyaW5nICs9IChhZGRyZXNzU3RyaW5nID8gJyAnIDogJycpICsgcHJvcGVydHkuemlwX2NvZGU7XG4gICAgXG4gICAgLy8gVVJMIGVuY29kZSB0aGUgYWRkcmVzc1xuICAgIGNvbnN0IGVuY29kZWRBZGRyZXNzID0gZW5jb2RlVVJJQ29tcG9uZW50KGFkZHJlc3NTdHJpbmcpO1xuICAgIFxuICAgIC8vIE1ha2UgQVBJIHJlcXVlc3RcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXBpLm1hcGJveC5jb20vZ2VvY29kaW5nL3Y1L21hcGJveC5wbGFjZXMvJHtlbmNvZGVkQWRkcmVzc30uanNvbj9hY2Nlc3NfdG9rZW49JHthY2Nlc3NUb2tlbn1gXG4gICAgKTtcbiAgICBcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hcGJveCBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKGRhdGEuZmVhdHVyZXMgJiYgZGF0YS5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBmZWF0dXJlID0gZGF0YS5mZWF0dXJlc1swXTtcbiAgICAgIGNvbnN0IGxvbmdpdHVkZSA9IGZlYXR1cmUuY2VudGVyWzBdO1xuICAgICAgY29uc3QgbGF0aXR1ZGUgPSBmZWF0dXJlLmNlbnRlclsxXTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIHN1c3BpY2lvdXMgcGF0dGVybnNcbiAgICAgIGlmIChpc0dyaWRQYXR0ZXJuKGxhdGl0dWRlLCBsb25naXR1ZGUpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgU3VzcGljaW91cyBncmlkIHBhdHRlcm4gZGV0ZWN0ZWQ6ICR7bGF0aXR1ZGV9LCAke2xvbmdpdHVkZX1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhdGl0dWRlLFxuICAgICAgICBsb25naXR1ZGUsXG4gICAgICAgIHByb3ZpZGVyOiAnbWFwYm94J1xuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG51bGw7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igd2l0aCBNYXBib3ggZ2VvY29kaW5nOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEdlb2NvZGUgYSBwcm9wZXJ0eSB1c2luZyBOb21pbmF0aW0gQVBJIChPcGVuU3RyZWV0TWFwKVxuICogXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydHkgLSBQcm9wZXJ0eSBvYmplY3Qgd2l0aCBhZGRyZXNzIGluZm9ybWF0aW9uXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3R8bnVsbD59IC0gQ29vcmRpbmF0ZXMgb2JqZWN0IG9yIG51bGwgaWYgZmFpbGVkXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdlb2NvZGVXaXRoTm9taW5hdGltKHByb3BlcnR5KSB7XG4gIHRyeSB7XG4gICAgLy8gQnVpbGQgYWRkcmVzcyBzdHJpbmdcbiAgICBsZXQgYWRkcmVzc1N0cmluZyA9ICcnO1xuICAgIGlmIChwcm9wZXJ0eS5hZGRyZXNzKSBhZGRyZXNzU3RyaW5nICs9IHByb3BlcnR5LmFkZHJlc3M7XG4gICAgaWYgKHByb3BlcnR5LmNpdHkpIGFkZHJlc3NTdHJpbmcgKz0gKGFkZHJlc3NTdHJpbmcgPyAnLCAnIDogJycpICsgcHJvcGVydHkuY2l0eTtcbiAgICBpZiAocHJvcGVydHkuc3RhdGUpIGFkZHJlc3NTdHJpbmcgKz0gKGFkZHJlc3NTdHJpbmcgPyAnLCAnIDogJycpICsgcHJvcGVydHkuc3RhdGU7XG4gICAgaWYgKHByb3BlcnR5LnppcF9jb2RlKSBhZGRyZXNzU3RyaW5nICs9IChhZGRyZXNzU3RyaW5nID8gJyAnIDogJycpICsgcHJvcGVydHkuemlwX2NvZGU7XG4gICAgXG4gICAgLy8gVVJMIGVuY29kZSB0aGUgYWRkcmVzc1xuICAgIGNvbnN0IGVuY29kZWRBZGRyZXNzID0gZW5jb2RlVVJJQ29tcG9uZW50KGFkZHJlc3NTdHJpbmcpO1xuICAgIFxuICAgIC8vIE1ha2UgQVBJIHJlcXVlc3QgKHdpdGggYSByYW5kb20gZGVsYXkgdG8gYXZvaWQgcmF0ZSBsaW1pdGluZylcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vbm9taW5hdGltLm9wZW5zdHJlZXRtYXAub3JnL3NlYXJjaD9mb3JtYXQ9anNvbiZxPSR7ZW5jb2RlZEFkZHJlc3N9YCxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdVc2VyLUFnZW50JzogJ0FjcXVpcmVQcm9wZXJ0eU1hcC8xLjAnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm9taW5hdGltIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBcbiAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGRhdGFbMF07XG4gICAgICBjb25zdCBsYXRpdHVkZSA9IHBhcnNlRmxvYXQocmVzdWx0LmxhdCk7XG4gICAgICBjb25zdCBsb25naXR1ZGUgPSBwYXJzZUZsb2F0KHJlc3VsdC5sb24pO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3Igc3VzcGljaW91cyBwYXR0ZXJuc1xuICAgICAgaWYgKGlzR3JpZFBhdHRlcm4obGF0aXR1ZGUsIGxvbmdpdHVkZSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBTdXNwaWNpb3VzIGdyaWQgcGF0dGVybiBkZXRlY3RlZDogJHtsYXRpdHVkZX0sICR7bG9uZ2l0dWRlfWApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGF0aXR1ZGUsXG4gICAgICAgIGxvbmdpdHVkZSxcbiAgICAgICAgcHJvdmlkZXI6ICdub21pbmF0aW0nXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3aXRoIE5vbWluYXRpbSBnZW9jb2Rpbmc6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgY29vcmRpbmF0ZXMgYXJlIGxpa2VseSBwYXJ0IG9mIGEgZ3JpZCBwYXR0ZXJuXG4gKiBcbiAqIEBwYXJhbSB7bnVtYmVyfSBsYXRpdHVkZSAtIExhdGl0dWRlIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb25naXR1ZGUgLSBMb25naXR1ZGUgY29vcmRpbmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiBsaWtlbHkgYSBncmlkIHBhdHRlcm4sIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNHcmlkUGF0dGVybihsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7XG4gIGlmICghbGF0aXR1ZGUgfHwgIWxvbmdpdHVkZSkgcmV0dXJuIGZhbHNlO1xuICBcbiAgLy8gQ29udmVydCB0byBzdHJpbmdzIGZvciBlYXNpZXIgY2hlY2tpbmdcbiAgY29uc3QgbGF0U3RyID0gU3RyaW5nKGxhdGl0dWRlKTtcbiAgY29uc3QgbG5nU3RyID0gU3RyaW5nKGxvbmdpdHVkZSk7XG4gIFxuICAvLyBDaGVjayBmb3IgdmVyeSBsb3cgcHJlY2lzaW9uIGNvb3JkaW5hdGVzIChvZnRlbiBncmlkIHBhdHRlcm5zKVxuICBjb25zdCBoYXNMb3dQcmVjaXNpb24gPSBcbiAgICAobGF0U3RyLmluY2x1ZGVzKCcuJykgJiYgbGF0U3RyLnNwbGl0KCcuJylbMV0ubGVuZ3RoIDw9IDMpIHx8XG4gICAgKGxuZ1N0ci5pbmNsdWRlcygnLicpICYmIGxuZ1N0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA8PSAzKTtcbiAgICBcbiAgLy8gQ2hlY2sgZm9yIHN1c3BpY2lvdXMgcGF0dGVybnNcbiAgY29uc3QgaGFzU3VzcGljaW91c1BhdHRlcm4gPSBcbiAgICBsYXRTdHIgPT09IGxuZ1N0ciB8fCAvLyBTYW1lIGxhdC9sbmcgaXMgdmVyeSB1bmxpa2VseVxuICAgIGxhdFN0ci5lbmRzV2l0aCgnMDAwMDAnKSB8fCBcbiAgICBsbmdTdHIuZW5kc1dpdGgoJzAwMDAwJykgfHxcbiAgICBsYXRTdHIuZW5kc1dpdGgoJy41JykgfHwgLy8gQ29tbW9uIGdyaWQgdmFsdWVzXG4gICAgbG5nU3RyLmVuZHNXaXRoKCcuNScpIHx8XG4gICAgbGF0U3RyLmVuZHNXaXRoKCcuMCcpIHx8XG4gICAgbG5nU3RyLmVuZHNXaXRoKCcuMCcpO1xuICAgIFxuICByZXR1cm4gaGFzTG93UHJlY2lzaW9uIHx8IGhhc1N1c3BpY2lvdXNQYXR0ZXJuO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBwcm9wZXJ0eV9yZXNlYXJjaCB0YWJsZSBleGlzdHMgaW4gU3VwYWJhc2VcbiAqIFxuICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IC0gVHJ1ZSBpZiB0YWJsZSBleGlzdHMsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tSZXNlYXJjaFRhYmxlRXhpc3RzKCkge1xuICB0cnkge1xuICAgIC8vIEF0dGVtcHQgdG8gcXVlcnkgdGhlIHRhYmxlXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9wZXJ0eV9yZXNlYXJjaCcpXG4gICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAubGltaXQoMSk7XG4gICAgXG4gICAgLy8gSWYgbm8gZXJyb3IsIHRhYmxlIGV4aXN0c1xuICAgIHJldHVybiAhZXJyb3I7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgcmVzZWFyY2ggdGFibGU6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIFN5bmNocm9uaXplIGNvb3JkaW5hdGVzIGJldHdlZW4gcHJvcGVydGllcyBhbmQgcHJvcGVydHlfcmVzZWFyY2ggdGFibGVzXG4gKiBcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCAtIE1heGltdW0gbnVtYmVyIG9mIHByb3BlcnRpZXMgdG8gcHJvY2Vzc1xuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gLSBSZXN1bHQgb2JqZWN0IHdpdGggc3VjY2VzcyBzdGF0dXMgYW5kIGNvdW50c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3luY1Jlc2VhcmNoQ29vcmRpbmF0ZXMobGltaXQgPSAxMDApIHtcbiAgdHJ5IHtcbiAgICAvLyBDaGVjayBpZiB0YWJsZSBleGlzdHNcbiAgICBjb25zdCB0YWJsZUV4aXN0cyA9IGF3YWl0IGNoZWNrUmVzZWFyY2hUYWJsZUV4aXN0cygpO1xuICAgIGlmICghdGFibGVFeGlzdHMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAnUHJvcGVydHkgcmVzZWFyY2ggdGFibGUgZG9lcyBub3QgZXhpc3Qgb3IgaXMgbm90IGFjY2Vzc2libGUnLFxuICAgICAgICB1cGRhdGVkOiAwLFxuICAgICAgICBlcnJvcnM6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIC8vIEdldCBwcm9wZXJ0aWVzIG1pc3Npbmcgb3Igd2l0aCBzdXNwaWNpb3VzIGNvb3JkaW5hdGVzXG4gICAgY29uc3QgeyBkYXRhOiBwcm9wZXJ0aWVzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9wZXJ0aWVzJylcbiAgICAgIC5zZWxlY3QoJ2lkLCBhZGRyZXNzLCBjaXR5LCBzdGF0ZSwgemlwX2NvZGUsIGxhdGl0dWRlLCBsb25naXR1ZGUnKVxuICAgICAgLmxpbWl0KGxpbWl0KTtcbiAgICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBmZXRjaGluZyBwcm9wZXJ0aWVzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICAgIFxuICAgIGlmICghcHJvcGVydGllcyB8fCBwcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogJ05vIHByb3BlcnRpZXMgZm91bmQgdG8gc3luY2hyb25pemUnLFxuICAgICAgICB1cGRhdGVkOiAwLFxuICAgICAgICBlcnJvcnM6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIC8vIFN5bmNocm9uaXplIGVhY2ggcHJvcGVydHlcbiAgICBsZXQgdXBkYXRlZCA9IDA7XG4gICAgbGV0IGVycm9ycyA9IDA7XG4gICAgXG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eSBvZiBwcm9wZXJ0aWVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBJZiBwcm9wZXJ0eSBoYXMgdmFsaWQgY29vcmRpbmF0ZXMsIHVwZGF0ZSBwcm9wZXJ0eV9yZXNlYXJjaFxuICAgICAgICBpZiAocHJvcGVydHkubGF0aXR1ZGUgJiYgcHJvcGVydHkubG9uZ2l0dWRlICYmIFxuICAgICAgICAgICAgIWlzR3JpZFBhdHRlcm4ocHJvcGVydHkubGF0aXR1ZGUsIHByb3BlcnR5LmxvbmdpdHVkZSkpIHtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZXQgcHJvcGVydHlfcmVzZWFyY2ggcmVjb3JkXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiByZXNlYXJjaCwgZXJyb3I6IHJlc2VhcmNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgncHJvcGVydHlfcmVzZWFyY2gnKVxuICAgICAgICAgICAgLnNlbGVjdCgnaWQsIG1vZHVsZXMnKVxuICAgICAgICAgICAgLmVxKCdwcm9wZXJ0eV9pZCcsIHByb3BlcnR5LmlkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXNlYXJjaEVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyByZXNlYXJjaCBmb3IgcHJvcGVydHkgJHtwcm9wZXJ0eS5pZH06YCwgcmVzZWFyY2hFcnJvcik7XG4gICAgICAgICAgICBlcnJvcnMrKztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAocmVzZWFyY2ggJiYgcmVzZWFyY2gubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIG1vZHVsZXMgd2l0aCBjb29yZGluYXRlc1xuICAgICAgICAgICAgY29uc3QgcmVzZWFyY2hSZWNvcmQgPSByZXNlYXJjaFswXTtcbiAgICAgICAgICAgIGxldCBtb2R1bGVzID0gcmVzZWFyY2hSZWNvcmQubW9kdWxlcyB8fCB7fTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIHByb3BlcnR5X2RldGFpbHMgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgaWYgKCFtb2R1bGVzLnByb3BlcnR5X2RldGFpbHMpIHtcbiAgICAgICAgICAgICAgbW9kdWxlcy5wcm9wZXJ0eV9kZXRhaWxzID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBjb29yZGluYXRlc1xuICAgICAgICAgICAgbW9kdWxlcy5wcm9wZXJ0eV9kZXRhaWxzLmxhdGl0dWRlID0gcHJvcGVydHkubGF0aXR1ZGU7XG4gICAgICAgICAgICBtb2R1bGVzLnByb3BlcnR5X2RldGFpbHMubG9uZ2l0dWRlID0gcHJvcGVydHkubG9uZ2l0dWRlO1xuICAgICAgICAgICAgbW9kdWxlcy5wcm9wZXJ0eV9kZXRhaWxzLmFkZHJlc3MgPSBwcm9wZXJ0eS5hZGRyZXNzO1xuICAgICAgICAgICAgbW9kdWxlcy5wcm9wZXJ0eV9kZXRhaWxzLmNpdHkgPSBwcm9wZXJ0eS5jaXR5O1xuICAgICAgICAgICAgbW9kdWxlcy5wcm9wZXJ0eV9kZXRhaWxzLnN0YXRlID0gcHJvcGVydHkuc3RhdGU7XG4gICAgICAgICAgICBtb2R1bGVzLnByb3BlcnR5X2RldGFpbHMuemlwX2NvZGUgPSBwcm9wZXJ0eS56aXBfY29kZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHByb3BlcnR5X3Jlc2VhcmNoXG4gICAgICAgICAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ3Byb3BlcnR5X3Jlc2VhcmNoJylcbiAgICAgICAgICAgICAgLnVwZGF0ZSh7IG1vZHVsZXMgfSlcbiAgICAgICAgICAgICAgLmVxKCdpZCcsIHJlc2VhcmNoUmVjb3JkLmlkKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgcmVzZWFyY2ggZm9yIHByb3BlcnR5ICR7cHJvcGVydHkuaWR9OmAsIHVwZGF0ZUVycm9yKTtcbiAgICAgICAgICAgICAgZXJyb3JzKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB1cGRhdGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChwcm9wZXJ0eUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgcHJvcGVydHkgJHtwcm9wZXJ0eS5pZH06YCwgcHJvcGVydHlFcnJvcik7XG4gICAgICAgIGVycm9ycysrO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IGBTeW5jaHJvbml6ZWQgJHt1cGRhdGVkfSBwcm9wZXJ0aWVzIHdpdGggJHtlcnJvcnN9IGVycm9yc2AsXG4gICAgICB1cGRhdGVkLFxuICAgICAgZXJyb3JzXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzeW5jUmVzZWFyY2hDb29yZGluYXRlczonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvciBvY2N1cnJlZCcsXG4gICAgICB1cGRhdGVkOiAwLFxuICAgICAgZXJyb3JzOiAxXG4gICAgfTtcbiAgfVxufSJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImdlb2NvZGVQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsIm5lZWRzR2VvY29kaW5nIiwiZmlsdGVyIiwicCIsIl9uZWVkc19nZW9jb2RpbmciLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIl9jb29yZGluYXRlc19taXNzaW5nIiwiX2lzX2dyaWRfcGF0dGVybiIsImFkZHJlc3MiLCJjaXR5Iiwic3RhdGUiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwiZ29vZ2xlTWFwc0F2YWlsYWJsZSIsImdvb2dsZSIsIm1hcHMiLCJHZW9jb2RlciIsIm1hcGJveFRva2VuIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX01BUEJPWF9BQ0NFU1NfVE9LRU4iLCJnZW9jb2RlZFByb3BlcnRpZXMiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwicHJvcGVydHkiLCJnZW9jb2RlZFByb3BlcnR5IiwiY29vcmRpbmF0ZXMiLCJnZW9jb2RlV2l0aEdvb2dsZU1hcHMiLCJnZW9jb2RlV2l0aE1hcGJveCIsImdlb2NvZGVXaXRoTm9taW5hdGltIiwiX2dlb2NvZGVkIiwid2FybiIsImVycm9yIiwicmVzb2x2ZSIsImdlb2NvZGVyIiwiYWRkcmVzc1N0cmluZyIsInppcF9jb2RlIiwiZ2VvY29kZSIsInJlc3VsdHMiLCJzdGF0dXMiLCJnZW9tZXRyeSIsImxvY2F0aW9uIiwibGF0IiwibG5nIiwiaXNHcmlkUGF0dGVybiIsInByb3ZpZGVyIiwiYWNjZXNzVG9rZW4iLCJlbmNvZGVkQWRkcmVzcyIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwic3RhdHVzVGV4dCIsImRhdGEiLCJqc29uIiwiZmVhdHVyZXMiLCJmZWF0dXJlIiwiY2VudGVyIiwiaGVhZGVycyIsInJlc3VsdCIsInBhcnNlRmxvYXQiLCJsb24iLCJsYXRTdHIiLCJTdHJpbmciLCJsbmdTdHIiLCJoYXNMb3dQcmVjaXNpb24iLCJpbmNsdWRlcyIsInNwbGl0IiwiaGFzU3VzcGljaW91c1BhdHRlcm4iLCJlbmRzV2l0aCIsImNoZWNrUmVzZWFyY2hUYWJsZUV4aXN0cyIsImZyb20iLCJzZWxlY3QiLCJsaW1pdCIsInN5bmNSZXNlYXJjaENvb3JkaW5hdGVzIiwidGFibGVFeGlzdHMiLCJzdWNjZXNzIiwibWVzc2FnZSIsInVwZGF0ZWQiLCJlcnJvcnMiLCJyZXNlYXJjaCIsInJlc2VhcmNoRXJyb3IiLCJlcSIsImlkIiwicmVzZWFyY2hSZWNvcmQiLCJtb2R1bGVzIiwicHJvcGVydHlfZGV0YWlscyIsInVwZGF0ZUVycm9yIiwidXBkYXRlIiwicHJvcGVydHlFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/geocoding.js\n");

/***/ }),

/***/ "./src/components/MapComponent.tsx":
/*!*****************************************!*\
  !*** ./src/components/MapComponent.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_leaflet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-leaflet */ \"react-leaflet\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! leaflet */ \"leaflet\");\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! leaflet/dist/leaflet.css */ \"./node_modules/leaflet/dist/leaflet.css\");\n/* harmony import */ var leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_geocoding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../lib/geocoding */ \"./lib/geocoding.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_leaflet__WEBPACK_IMPORTED_MODULE_2__]);\nreact_leaflet__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n// Component to handle map initialization effects\nconst MapInitializer = ()=>{\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Fix Leaflet marker icon issue in Next.js\n        try {\n            // @ts-ignore\n            delete (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon).Default.prototype._getIconUrl;\n            leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon.Default.mergeOptions({\n                iconUrl: \"/icons/marker-blue.png\",\n                iconRetinaUrl: \"/icons/marker-blue.png\",\n                shadowUrl: \"/icons/marker-shadow.png\"\n            });\n        } catch (e) {\n            console.error(\"Error fixing Leaflet icon issue:\", e);\n        }\n    }, []);\n    return null;\n};\n// Custom marker icons for different property statuses\nconst createStatusIcon = (color)=>new (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon)({\n        iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,\n        shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png\",\n        iconSize: [\n            25,\n            41\n        ],\n        iconAnchor: [\n            12,\n            41\n        ],\n        popupAnchor: [\n            1,\n            -34\n        ],\n        shadowSize: [\n            41,\n            41\n        ]\n    });\n// Status icon mapping\nconst statusIcons = {\n    \"available\": createStatusIcon(\"green\"),\n    \"pending\": createStatusIcon(\"yellow\"),\n    \"under_contract\": createStatusIcon(\"orange\"),\n    \"sold\": createStatusIcon(\"red\"),\n    \"Actively Marketed\": createStatusIcon(\"green\"),\n    \"Under Contract\": createStatusIcon(\"orange\"),\n    \"Sold\": createStatusIcon(\"red\"),\n    \"default\": new (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Icon).Default()\n};\n// Component to recenter map when selectedProperty changes\nconst MapRecenter = ({ selectedProperty })=>{\n    const map = (0,react_leaflet__WEBPACK_IMPORTED_MODULE_2__.useMap)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedProperty && selectedProperty.latitude && selectedProperty.longitude) {\n            // Check if coordinates are valid (either from research or regular valid coordinates)\n            const hasCoordinates = typeof selectedProperty.latitude === \"number\" && typeof selectedProperty.longitude === \"number\";\n            const isNotZero = !(selectedProperty.latitude === 0 && selectedProperty.longitude === 0);\n            const fromResearch = selectedProperty._coordinates_from_research === true;\n            const isValid = fromResearch || hasCoordinates && isNotZero && !selectedProperty._coordinates_missing && !selectedProperty._is_grid_pattern;\n            if (isValid) {\n                map.setView([\n                    selectedProperty.latitude,\n                    selectedProperty.longitude\n                ], 15, {\n                    animate: true\n                });\n            }\n        }\n    }, [\n        selectedProperty,\n        map\n    ]);\n    return null;\n};\n// Component to track map bounds for filtering\nconst MapBoundsUpdater = ({ onBoundsChange })=>{\n    const map = (0,react_leaflet__WEBPACK_IMPORTED_MODULE_2__.useMap)();\n    const updateBoundsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const bounds = map.getBounds();\n        onBoundsChange({\n            north: bounds.getNorth(),\n            south: bounds.getSouth(),\n            east: bounds.getEast(),\n            west: bounds.getWest()\n        });\n    }, [\n        map,\n        onBoundsChange\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only run the initial update after a slight delay to ensure the map is fully loaded\n        const initialTimeout = setTimeout(()=>{\n            updateBoundsRef();\n        }, 500);\n        // Add event listeners\n        map.on(\"moveend\", updateBoundsRef);\n        map.on(\"zoomend\", updateBoundsRef);\n        // Cleanup listeners and timeout\n        return ()=>{\n            clearTimeout(initialTimeout);\n            map.off(\"moveend\", updateBoundsRef);\n            map.off(\"zoomend\", updateBoundsRef);\n        };\n    }, [\n        map,\n        updateBoundsRef\n    ]);\n    return null;\n};\nconst MapComponent = ({ properties, selectedProperty, setSelectedProperty, onBoundsChange, mapboxToken })=>{\n    // State for geocoded properties\n    const [processedProperties, setProcessedProperties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(properties || []);\n    const [geocodingStatus, setGeocodingStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        isGeocoding: false,\n        count: 0,\n        total: 0\n    });\n    // Default center coordinates for Austin, TX\n    const defaultCenter = [\n        30.2672,\n        -97.7431\n    ];\n    const defaultZoom = 12;\n    // Debug properties\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!properties || !Array.isArray(properties)) {\n            console.log(\"No properties available\");\n            return;\n        }\n        console.log(\"Properties passed to MapComponent:\", properties.length);\n        // Log all property statuses\n        const statuses = new Set(properties.map((p)=>p.status));\n        console.log(\"Property statuses:\", Array.from(statuses));\n        // Detailed analysis of properties\n        const analysis = {\n            total: properties.length,\n            hasLatLng: properties.filter((p)=>p.latitude && p.longitude).length,\n            latLngTypeNumber: properties.filter((p)=>typeof p.latitude === \"number\" && typeof p.longitude === \"number\").length,\n            zeroCoordinates: properties.filter((p)=>p.latitude === 0 || p.longitude === 0).length,\n            fromResearch: properties.filter((p)=>p._coordinates_from_research).length,\n            missingCoordinates: properties.filter((p)=>p._coordinates_missing).length,\n            gridPattern: properties.filter((p)=>p._is_grid_pattern).length,\n            testProperties: properties.filter((p)=>p._is_test_property).length\n        };\n        console.log(\"Properties analysis:\", analysis);\n        // Based on filtering criteria\n        const withCoordinates = properties.filter((p)=>p.latitude && p.longitude && (p._coordinates_from_research || !p._coordinates_missing && !p._is_grid_pattern) && typeof p.latitude === \"number\" && typeof p.longitude === \"number\");\n        console.log(\"Properties with valid coordinates:\", withCoordinates.length);\n        if (withCoordinates.length > 0) {\n            const sampleProperty = withCoordinates[0];\n            console.log(\"Sample property with coordinates:\", {\n                id: sampleProperty.id,\n                name: sampleProperty.name,\n                lat: sampleProperty.latitude,\n                lng: sampleProperty.longitude,\n                fromResearch: sampleProperty._coordinates_from_research || false\n            });\n        }\n    }, [\n        properties\n    ]);\n    // Geocode properties with missing coordinates\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!properties || !Array.isArray(properties)) {\n            console.log(\"No properties available for geocoding\");\n            return;\n        }\n        // First, check if any properties exist with proper coordinates\n        const propertiesWithValidCoordinates = properties.filter((p)=>p.latitude && p.longitude && (p._coordinates_from_research || !p._coordinates_missing && !p._is_grid_pattern) && typeof p.latitude === \"number\" && typeof p.longitude === \"number\");\n        console.log(`MapComponent: ${propertiesWithValidCoordinates.length} of ${properties.length} properties have valid coordinates`);\n        // Always set the processed properties first to show what we have\n        setProcessedProperties(properties);\n        // MODIFIED: Enable geocoding for properties with missing coordinates\n        // even if some properties already have valid coordinates\n        const propertiesToGeocode = properties.filter((p)=>(p._needs_geocoding || !p.latitude || !p.longitude || p._coordinates_missing || p._is_grid_pattern) && (p.address || p.city) && !p._coordinates_from_research);\n        console.log(`MapComponent: ${propertiesToGeocode.length} properties need geocoding`);\n        // Only proceed if there are properties to geocode\n        if (propertiesToGeocode.length > 0 && !geocodingStatus.isGeocoding) {\n            // Only geocode up to 10 properties at a time to avoid API limits\n            const batchToGeocode = propertiesToGeocode.slice(0, 10);\n            setGeocodingStatus({\n                isGeocoding: true,\n                count: 0,\n                total: batchToGeocode.length\n            });\n            console.log(`MapComponent: Geocoding batch of ${batchToGeocode.length} properties`);\n            (0,_lib_geocoding__WEBPACK_IMPORTED_MODULE_5__.geocodeProperties)(batchToGeocode).then((geocodedProperties)=>{\n                // Count how many were successfully geocoded\n                const newlyGeocodedCount = geocodedProperties.filter((p)=>p._geocoded).length;\n                console.log(`MapComponent: Successfully geocoded ${newlyGeocodedCount} properties`);\n                // Merge geocoded properties with existing properties\n                const updatedProperties = [\n                    ...properties\n                ];\n                geocodedProperties.forEach((geocodedProperty)=>{\n                    const index = updatedProperties.findIndex((p)=>p.id === geocodedProperty.id);\n                    if (index !== -1) {\n                        updatedProperties[index] = geocodedProperty;\n                    }\n                });\n                setProcessedProperties(updatedProperties);\n                setGeocodingStatus({\n                    isGeocoding: false,\n                    count: newlyGeocodedCount,\n                    total: batchToGeocode.length\n                });\n            }).catch((error)=>{\n                console.error(\"Error geocoding properties:\", error);\n                setGeocodingStatus({\n                    isGeocoding: false,\n                    count: 0,\n                    total: batchToGeocode.length\n                });\n            });\n        }\n    }, [\n        properties,\n        geocodingStatus.isGeocoding\n    ]);\n    // Setup default marker icons\n    (leaflet__WEBPACK_IMPORTED_MODULE_3___default().Marker).prototype.options.icon = leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n        iconUrl: \"/icons/marker-blue.png\",\n        iconSize: [\n            25,\n            41\n        ],\n        iconAnchor: [\n            12,\n            41\n        ],\n        popupAnchor: [\n            1,\n            -34\n        ],\n        shadowSize: [\n            41,\n            41\n        ]\n    });\n    // Add helper function to get the right marker icon based on property status\n    const getMarkerIcon = (property)=>{\n        // If the property has verified coordinates, use a verified icon\n        if (property.verified_address) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-verified.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // If the property has coordinate issues, use a warning icon\n        if (property._is_grid_pattern || property._is_invalid_range || property._outside_austin || property._coordinates_from_research) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-warning.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // For test properties\n        if (property._is_test_property) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-test.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // For geocoded properties\n        if (property._geocoded) {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-geocoded.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // Default marker icons based on status\n        const status = property.status?.toLowerCase() || \"\";\n        if (status === \"active\" || status === \"listed\") {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-green.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        } else if (status === \"contract\" || status === \"under contract\") {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-yellow.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        } else if (status === \"sold\") {\n            return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n                iconUrl: \"/icons/marker-red.png\",\n                iconSize: [\n                    25,\n                    41\n                ],\n                iconAnchor: [\n                    12,\n                    41\n                ],\n                popupAnchor: [\n                    1,\n                    -34\n                ],\n                shadowSize: [\n                    41,\n                    41\n                ]\n            });\n        }\n        // Default fallback\n        return leaflet__WEBPACK_IMPORTED_MODULE_3___default().icon({\n            iconUrl: \"/icons/marker-blue.png\",\n            iconSize: [\n                25,\n                41\n            ],\n            iconAnchor: [\n                12,\n                41\n            ],\n            popupAnchor: [\n                1,\n                -34\n            ],\n            shadowSize: [\n                41,\n                41\n            ]\n        });\n    };\n    // Format price as $X.XM\n    const formatPrice = (price)=>{\n        if (!price) return \"Price not available\";\n        if (price >= 1000000) {\n            return `$${(price / 1000000).toFixed(1)}M`;\n        }\n        return `$${(price / 1000).toFixed(0)}K`;\n    };\n    // Format price per unit\n    const formatPricePerUnit = (price, units)=>{\n        if (!price || !units || units === 0) return \"N/A\";\n        return `$${Math.round(price / units).toLocaleString()}/unit`;\n    };\n    // Add code to check coordinates and filter out invalid ones\n    const validProperties = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!properties || !Array.isArray(properties)) {\n            return [];\n        }\n        return properties.filter((property)=>{\n            // We need both latitude and longitude to be defined and valid numbers\n            if (!property || typeof property.latitude !== \"number\" || typeof property.longitude !== \"number\") {\n                return false;\n            }\n            // Check if coordinates are zero (often a sign of placeholder data)\n            if (property.latitude === 0 || property.longitude === 0) {\n                return false;\n            }\n            // Check if coordinates are within valid ranges\n            if (property.latitude < -90 || property.latitude > 90 || property.longitude < -180 || property.longitude > 180) {\n                return false;\n            }\n            // Either show properties from research or valid coordinates in Austin area\n            if (property._coordinates_from_research) {\n                return true;\n            }\n            // Filter out properties with coordinates in a grid pattern\n            if (property._is_grid_pattern) {\n                return false;\n            }\n            return true;\n        });\n    }, [\n        properties\n    ]);\n    // Check if property has valid coordinates\n    const hasValidCoordinates = (property)=>{\n        if (!property) return false;\n        // If the property has a verified address, it has valid coordinates\n        if (property.verified_address) {\n            return true;\n        }\n        // Basic type checks\n        const lat = typeof property.latitude === \"number\" ? property.latitude : parseFloat(property.latitude);\n        const lng = typeof property.longitude === \"number\" ? property.longitude : parseFloat(property.longitude);\n        // Check for NaN, null, undefined\n        if (isNaN(lat) || isNaN(lng) || lat === null || lng === null) return false;\n        // Check for zero values (often default)\n        if (lat === 0 || lng === 0) return false;\n        // Check for reasonable coordinate ranges\n        if (lat < -90 || lat > 90 || lng < -180 || lng > 180) return false;\n        // Check for Austin default (if property state is not Texas)\n        const isAustinArea = lat > 30.0 && lat < 30.5 && lng > -97.9 && lng < -97.5;\n        const isTexas = property.state?.toLowerCase() === \"tx\" || property.state?.toLowerCase() === \"texas\";\n        if (isAustinArea && !isTexas) {\n            console.warn(`Property ${property.id} has coordinates in Austin but state is ${property.state}`);\n            return false;\n        }\n        return true;\n    };\n    // Get properties with valid coordinates\n    const propertiesWithCoordinates = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!processedProperties || !Array.isArray(processedProperties)) {\n            return [];\n        }\n        return processedProperties.filter((property)=>hasValidCoordinates(property));\n    }, [\n        processedProperties\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-[80vh] lg:h-[85vh] rounded-lg shadow overflow-hidden relative\",\n        children: [\n            geocodingStatus.isGeocoding && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 left-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-md p-2 px-3 flex items-center text-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"animate-spin h-4 w-4 mr-2 text-blue-500\",\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                className: \"opacity-25\",\n                                cx: \"12\",\n                                cy: \"12\",\n                                r: \"10\",\n                                stroke: \"currentColor\",\n                                strokeWidth: \"4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 471,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                className: \"opacity-75\",\n                                fill: \"currentColor\",\n                                d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 472,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 470,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: \"Locating properties on map...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 474,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 469,\n                columnNumber: 9\n            }, undefined),\n            propertiesWithCoordinates.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute z-10 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        className: \"h-8 w-8 mx-auto mb-2 text-gray-400\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        stroke: \"currentColor\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                strokeWidth: 2,\n                                d: \"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 482,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                strokeWidth: 2,\n                                d: \"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 483,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 481,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"font-semibold text-lg\",\n                        children: \"No Properties with Location Data\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 485,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-500 dark:text-gray-400 mt-1\",\n                        children: \"Try adjusting your filters to find properties with valid coordinates.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 486,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 480,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.MapContainer, {\n                center: defaultCenter,\n                zoom: defaultZoom,\n                style: {\n                    height: \"100%\",\n                    width: \"100%\"\n                },\n                zoomControl: false,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapInitializer, {}, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 496,\n                        columnNumber: 9\n                    }, undefined),\n                    mapboxToken ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.TileLayer, {\n                        attribution: '\\xa9 <a href=\"https://www.mapbox.com/about/maps/\">Mapbox</a>',\n                        url: `https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=${mapboxToken}`\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 500,\n                        columnNumber: 11\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.TileLayer, {\n                        attribution: '\\xa9 <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n                        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 505,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.ZoomControl, {\n                        position: \"topright\"\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 512,\n                        columnNumber: 9\n                    }, undefined),\n                    propertiesWithCoordinates.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: propertiesWithCoordinates.map((property)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.Marker, {\n                                position: [\n                                    property.latitude,\n                                    property.longitude\n                                ],\n                                icon: getMarkerIcon(property),\n                                eventHandlers: {\n                                    click: ()=>{\n                                        // Find the original property in the properties array to make sure we have the latest data\n                                        const originalProperty = properties.find((p)=>p.id === property.id) || property;\n                                        setSelectedProperty(originalProperty);\n                                    }\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_leaflet__WEBPACK_IMPORTED_MODULE_2__.Popup, {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"min-w-[220px]\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"font-bold text-lg\",\n                                                children: property.name\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 532,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-gray-600\",\n                                                children: property.verified_address || property.address\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 535,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            property.verified_address && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-green-600 flex items-center mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-3 w-3 mr-1\",\n                                                        viewBox: \"0 0 20 20\",\n                                                        fill: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            fillRule: \"evenodd\",\n                                                            d: \"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\",\n                                                            clipRule: \"evenodd\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 543,\n                                                            columnNumber: 27\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 542,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    \"Verified with Google Maps\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 541,\n                                                columnNumber: 23\n                                            }, undefined),\n                                            !property.verified_address && property.geocoded_at && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-blue-600 flex items-center mt-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                        className: \"h-3 w-3 mr-1\",\n                                                        viewBox: \"0 0 20 20\",\n                                                        fill: \"currentColor\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                            fillRule: \"evenodd\",\n                                                            d: \"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\",\n                                                            clipRule: \"evenodd\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                            lineNumber: 551,\n                                                            columnNumber: 27\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 550,\n                                                        columnNumber: 25\n                                                    }, undefined),\n                                                    \"Location estimated from address\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 549,\n                                                columnNumber: 23\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"grid grid-cols-2 gap-1 my-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-gray-500 text-sm\",\n                                                                children: \"Units:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 559,\n                                                                columnNumber: 25\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"font-medium\",\n                                                                children: property.num_units || property.units\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 560,\n                                                                columnNumber: 25\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 558,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-gray-500 text-sm\",\n                                                                children: \"Year Built:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 563,\n                                                                columnNumber: 25\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"font-medium\",\n                                                                children: property.year_built || \"N/A\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 564,\n                                                                columnNumber: 25\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 562,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-gray-500 text-sm\",\n                                                                children: \"Price:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 567,\n                                                                columnNumber: 25\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"font-medium\",\n                                                                children: formatPrice(property.price)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 568,\n                                                                columnNumber: 25\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 566,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-gray-500 text-sm\",\n                                                                children: \"Per Unit:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 571,\n                                                                columnNumber: 25\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"font-medium\",\n                                                                children: formatPricePerUnit(property.price, property.num_units || property.units)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                                lineNumber: 572,\n                                                                columnNumber: 25\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                        lineNumber: 570,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 557,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 pt-2 border-t\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: `px-2 py-1 rounded-full text-xs ${property.status === \"available\" || property.status === \"Actively Marketed\" ? \"bg-green-100 text-green-800\" : property.status === \"under_contract\" || property.status === \"Under Contract\" ? \"bg-yellow-100 text-yellow-800\" : \"bg-red-100 text-red-800\"}`,\n                                                    children: property.status\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                    lineNumber: 576,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 575,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"mt-3 w-full py-1 px-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition\",\n                                                onClick: ()=>{\n                                                    const originalProperty = properties.find((p)=>p.id === property.id) || property;\n                                                    setSelectedProperty(originalProperty);\n                                                },\n                                                children: \"View Details\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                                lineNumber: 586,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                        lineNumber: 531,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                    lineNumber: 530,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, property.id, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                                lineNumber: 518,\n                                columnNumber: 15\n                            }, undefined))\n                    }, void 0, false),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapRecenter, {\n                        selectedProperty: selectedProperty\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 603,\n                        columnNumber: 9\n                    }, undefined),\n                    onBoundsChange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapBoundsUpdater, {\n                        onBoundsChange: onBoundsChange\n                    }, void 0, false, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                        lineNumber: 604,\n                        columnNumber: 28\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n                lineNumber: 490,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/src/components/MapComponent.tsx\",\n        lineNumber: 466,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapComponent);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S3dCLFNBQVN4QixFQUFFLEtBQUt3QjtvREFDdkV2RCxvQkFBb0IwRztnREFDdEI7MERBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7OytCQXpFQW5ELFNBQVN4QixFQUFFOzs7Ozs7a0NBb0Z4Qiw4REFBQ2pFO3dCQUFZQyxrQkFBa0JBOzs7Ozs7b0JBQzlCYyxnQ0FBa0IsOERBQUNEO3dCQUFpQkMsZ0JBQWdCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSTdEO0FBRUEsaUVBQWVpQixZQUFZQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXVzdGluLW11bHRpZmFtaWx5LW1hcC8uL3NyYy9jb21wb25lbnRzL01hcENvbXBvbmVudC50c3g/ZWMzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgRkMsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTWFwQ29udGFpbmVyLCBUaWxlTGF5ZXIsIE1hcmtlciwgUG9wdXAsIHVzZU1hcCwgWm9vbUNvbnRyb2wgfSBmcm9tICdyZWFjdC1sZWFmbGV0JztcbmltcG9ydCBMIGZyb20gJ2xlYWZsZXQnO1xuaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnO1xuaW1wb3J0IHsgUHJvcGVydHkgfSBmcm9tICcuLi90eXBlcy9wcm9wZXJ0eSc7XG5pbXBvcnQgeyBnZW9jb2RlUHJvcGVydGllcyB9IGZyb20gJy4uLy4uL2xpYi9nZW9jb2RpbmcnO1xuXG4vLyBDb21wb25lbnQgdG8gaGFuZGxlIG1hcCBpbml0aWFsaXphdGlvbiBlZmZlY3RzXG5jb25zdCBNYXBJbml0aWFsaXplcjogRkMgPSAoKSA9PiB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gRml4IExlYWZsZXQgbWFya2VyIGljb24gaXNzdWUgaW4gTmV4dC5qc1xuICAgIHRyeSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBkZWxldGUgTC5JY29uLkRlZmF1bHQucHJvdG90eXBlLl9nZXRJY29uVXJsO1xuICAgICAgTC5JY29uLkRlZmF1bHQubWVyZ2VPcHRpb25zKHtcbiAgICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItYmx1ZS5wbmcnLFxuICAgICAgICBpY29uUmV0aW5hVXJsOiAnL2ljb25zL21hcmtlci1ibHVlLnBuZycsXG4gICAgICAgIHNoYWRvd1VybDogJy9pY29ucy9tYXJrZXItc2hhZG93LnBuZycsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmaXhpbmcgTGVhZmxldCBpY29uIGlzc3VlOicsIGUpO1xuICAgIH1cbiAgfSwgW10pO1xuICBcbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBDdXN0b20gbWFya2VyIGljb25zIGZvciBkaWZmZXJlbnQgcHJvcGVydHkgc3RhdHVzZXNcbmNvbnN0IGNyZWF0ZVN0YXR1c0ljb24gPSAoY29sb3I6IHN0cmluZykgPT4gbmV3IEwuSWNvbih7XG4gIGljb25Vcmw6IGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcG9pbnRoaS9sZWFmbGV0LWNvbG9yLW1hcmtlcnMvbWFzdGVyL2ltZy9tYXJrZXItaWNvbi0yeC0ke2NvbG9yfS5wbmdgLFxuICBzaGFkb3dVcmw6ICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9sZWFmbGV0LzAuNy43L2ltYWdlcy9tYXJrZXItc2hhZG93LnBuZycsXG4gIGljb25TaXplOiBbMjUsIDQxXSxcbiAgaWNvbkFuY2hvcjogWzEyLCA0MV0sXG4gIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgc2hhZG93U2l6ZTogWzQxLCA0MV1cbn0pO1xuXG4vLyBTdGF0dXMgaWNvbiBtYXBwaW5nXG5jb25zdCBzdGF0dXNJY29ucyA9IHtcbiAgJ2F2YWlsYWJsZSc6IGNyZWF0ZVN0YXR1c0ljb24oJ2dyZWVuJyksXG4gICdwZW5kaW5nJzogY3JlYXRlU3RhdHVzSWNvbigneWVsbG93JyksXG4gICd1bmRlcl9jb250cmFjdCc6IGNyZWF0ZVN0YXR1c0ljb24oJ29yYW5nZScpLFxuICAnc29sZCc6IGNyZWF0ZVN0YXR1c0ljb24oJ3JlZCcpLFxuICAnQWN0aXZlbHkgTWFya2V0ZWQnOiBjcmVhdGVTdGF0dXNJY29uKCdncmVlbicpLFxuICAnVW5kZXIgQ29udHJhY3QnOiBjcmVhdGVTdGF0dXNJY29uKCdvcmFuZ2UnKSxcbiAgJ1NvbGQnOiBjcmVhdGVTdGF0dXNJY29uKCdyZWQnKSxcbiAgJ2RlZmF1bHQnOiBuZXcgTC5JY29uLkRlZmF1bHQoKSxcbn07XG5cbmludGVyZmFjZSBNYXBSZWNlbnRlclByb3BzIHtcbiAgc2VsZWN0ZWRQcm9wZXJ0eTogUHJvcGVydHkgfCBudWxsO1xufVxuXG4vLyBDb21wb25lbnQgdG8gcmVjZW50ZXIgbWFwIHdoZW4gc2VsZWN0ZWRQcm9wZXJ0eSBjaGFuZ2VzXG5jb25zdCBNYXBSZWNlbnRlcjogRkM8TWFwUmVjZW50ZXJQcm9wcz4gPSAoeyBzZWxlY3RlZFByb3BlcnR5IH0pID0+IHtcbiAgY29uc3QgbWFwID0gdXNlTWFwKCk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZFByb3BlcnR5ICYmIFxuICAgICAgICBzZWxlY3RlZFByb3BlcnR5LmxhdGl0dWRlICYmIFxuICAgICAgICBzZWxlY3RlZFByb3BlcnR5LmxvbmdpdHVkZSkge1xuICAgICAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgY29vcmRpbmF0ZXMgYXJlIHZhbGlkIChlaXRoZXIgZnJvbSByZXNlYXJjaCBvciByZWd1bGFyIHZhbGlkIGNvb3JkaW5hdGVzKVxuICAgICAgY29uc3QgaGFzQ29vcmRpbmF0ZXMgPSB0eXBlb2Ygc2VsZWN0ZWRQcm9wZXJ0eS5sYXRpdHVkZSA9PT0gJ251bWJlcicgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHNlbGVjdGVkUHJvcGVydHkubG9uZ2l0dWRlID09PSAnbnVtYmVyJztcbiAgICAgIGNvbnN0IGlzTm90WmVybyA9ICEoc2VsZWN0ZWRQcm9wZXJ0eS5sYXRpdHVkZSA9PT0gMCAmJiBzZWxlY3RlZFByb3BlcnR5LmxvbmdpdHVkZSA9PT0gMCk7XG4gICAgICBjb25zdCBmcm9tUmVzZWFyY2ggPSBzZWxlY3RlZFByb3BlcnR5Ll9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoID09PSB0cnVlO1xuICAgICAgY29uc3QgaXNWYWxpZCA9IGZyb21SZXNlYXJjaCB8fCBcbiAgICAgICAgICAgICAgICAgICAgIChoYXNDb29yZGluYXRlcyAmJiBpc05vdFplcm8gJiYgXG4gICAgICAgICAgICAgICAgICAgICAgIXNlbGVjdGVkUHJvcGVydHkuX2Nvb3JkaW5hdGVzX21pc3NpbmcgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgIXNlbGVjdGVkUHJvcGVydHkuX2lzX2dyaWRfcGF0dGVybik7XG4gICAgICBcbiAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgIG1hcC5zZXRWaWV3KFxuICAgICAgICAgIFtzZWxlY3RlZFByb3BlcnR5LmxhdGl0dWRlLCBzZWxlY3RlZFByb3BlcnR5LmxvbmdpdHVkZV0sXG4gICAgICAgICAgMTUsXG4gICAgICAgICAgeyBhbmltYXRlOiB0cnVlIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtzZWxlY3RlZFByb3BlcnR5LCBtYXBdKTtcbiAgXG4gIHJldHVybiBudWxsO1xufTtcblxuaW50ZXJmYWNlIE1hcEJvdW5kc1VwZGF0ZXJQcm9wcyB7XG4gIG9uQm91bmRzQ2hhbmdlOiAoYm91bmRzOiBhbnkpID0+IHZvaWQ7XG59XG5cbi8vIENvbXBvbmVudCB0byB0cmFjayBtYXAgYm91bmRzIGZvciBmaWx0ZXJpbmdcbmNvbnN0IE1hcEJvdW5kc1VwZGF0ZXI6IEZDPE1hcEJvdW5kc1VwZGF0ZXJQcm9wcz4gPSAoeyBvbkJvdW5kc0NoYW5nZSB9KSA9PiB7XG4gIGNvbnN0IG1hcCA9IHVzZU1hcCgpO1xuICBjb25zdCB1cGRhdGVCb3VuZHNSZWYgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgYm91bmRzID0gbWFwLmdldEJvdW5kcygpO1xuICAgIG9uQm91bmRzQ2hhbmdlKHtcbiAgICAgIG5vcnRoOiBib3VuZHMuZ2V0Tm9ydGgoKSxcbiAgICAgIHNvdXRoOiBib3VuZHMuZ2V0U291dGgoKSxcbiAgICAgIGVhc3Q6IGJvdW5kcy5nZXRFYXN0KCksXG4gICAgICB3ZXN0OiBib3VuZHMuZ2V0V2VzdCgpLFxuICAgIH0pO1xuICB9LCBbbWFwLCBvbkJvdW5kc0NoYW5nZV0pO1xuICBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBPbmx5IHJ1biB0aGUgaW5pdGlhbCB1cGRhdGUgYWZ0ZXIgYSBzbGlnaHQgZGVsYXkgdG8gZW5zdXJlIHRoZSBtYXAgaXMgZnVsbHkgbG9hZGVkXG4gICAgY29uc3QgaW5pdGlhbFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHVwZGF0ZUJvdW5kc1JlZigpO1xuICAgIH0sIDUwMCk7XG4gICAgXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgIG1hcC5vbignbW92ZWVuZCcsIHVwZGF0ZUJvdW5kc1JlZik7XG4gICAgbWFwLm9uKCd6b29tZW5kJywgdXBkYXRlQm91bmRzUmVmKTtcbiAgICBcbiAgICAvLyBDbGVhbnVwIGxpc3RlbmVycyBhbmQgdGltZW91dFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQoaW5pdGlhbFRpbWVvdXQpO1xuICAgICAgbWFwLm9mZignbW92ZWVuZCcsIHVwZGF0ZUJvdW5kc1JlZik7XG4gICAgICBtYXAub2ZmKCd6b29tZW5kJywgdXBkYXRlQm91bmRzUmVmKTtcbiAgICB9O1xuICB9LCBbbWFwLCB1cGRhdGVCb3VuZHNSZWZdKTtcbiAgXG4gIHJldHVybiBudWxsO1xufTtcblxuaW50ZXJmYWNlIE1hcENvbXBvbmVudFByb3BzIHtcbiAgcHJvcGVydGllczogUHJvcGVydHlbXTtcbiAgc2VsZWN0ZWRQcm9wZXJ0eTogUHJvcGVydHkgfCBudWxsO1xuICBzZXRTZWxlY3RlZFByb3BlcnR5OiAocHJvcGVydHk6IFByb3BlcnR5IHwgbnVsbCkgPT4gdm9pZDtcbiAgb25Cb3VuZHNDaGFuZ2U/OiAoYm91bmRzOiBhbnkpID0+IHZvaWQ7XG4gIG1hcGJveFRva2VuPzogc3RyaW5nO1xufVxuXG5jb25zdCBNYXBDb21wb25lbnQ6IEZDPE1hcENvbXBvbmVudFByb3BzPiA9ICh7IFxuICBwcm9wZXJ0aWVzLCBcbiAgc2VsZWN0ZWRQcm9wZXJ0eSwgXG4gIHNldFNlbGVjdGVkUHJvcGVydHksXG4gIG9uQm91bmRzQ2hhbmdlLFxuICBtYXBib3hUb2tlbiBcbn0pID0+IHtcbiAgLy8gU3RhdGUgZm9yIGdlb2NvZGVkIHByb3BlcnRpZXNcbiAgY29uc3QgW3Byb2Nlc3NlZFByb3BlcnRpZXMsIHNldFByb2Nlc3NlZFByb3BlcnRpZXNdID0gdXNlU3RhdGU8UHJvcGVydHlbXT4ocHJvcGVydGllcyB8fCBbXSk7XG4gIGNvbnN0IFtnZW9jb2RpbmdTdGF0dXMsIHNldEdlb2NvZGluZ1N0YXR1c10gPSB1c2VTdGF0ZSh7XG4gICAgaXNHZW9jb2Rpbmc6IGZhbHNlLFxuICAgIGNvdW50OiAwLFxuICAgIHRvdGFsOiAwXG4gIH0pO1xuICBcbiAgLy8gRGVmYXVsdCBjZW50ZXIgY29vcmRpbmF0ZXMgZm9yIEF1c3RpbiwgVFhcbiAgY29uc3QgZGVmYXVsdENlbnRlcjogW251bWJlciwgbnVtYmVyXSA9IFszMC4yNjcyLCAtOTcuNzQzMV07XG4gIGNvbnN0IGRlZmF1bHRab29tID0gMTI7XG4gIFxuICAvLyBEZWJ1ZyBwcm9wZXJ0aWVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFwcm9wZXJ0aWVzIHx8ICFBcnJheS5pc0FycmF5KHByb3BlcnRpZXMpKSB7XG4gICAgICBjb25zb2xlLmxvZygnTm8gcHJvcGVydGllcyBhdmFpbGFibGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1Byb3BlcnRpZXMgcGFzc2VkIHRvIE1hcENvbXBvbmVudDonLCBwcm9wZXJ0aWVzLmxlbmd0aCk7XG4gICAgXG4gICAgLy8gTG9nIGFsbCBwcm9wZXJ0eSBzdGF0dXNlc1xuICAgIGNvbnN0IHN0YXR1c2VzID0gbmV3IFNldChwcm9wZXJ0aWVzLm1hcChwID0+IHAuc3RhdHVzKSk7XG4gICAgY29uc29sZS5sb2coJ1Byb3BlcnR5IHN0YXR1c2VzOicsIEFycmF5LmZyb20oc3RhdHVzZXMpKTtcbiAgICBcbiAgICAvLyBEZXRhaWxlZCBhbmFseXNpcyBvZiBwcm9wZXJ0aWVzXG4gICAgY29uc3QgYW5hbHlzaXMgPSB7XG4gICAgICB0b3RhbDogcHJvcGVydGllcy5sZW5ndGgsXG4gICAgICBoYXNMYXRMbmc6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5sYXRpdHVkZSAmJiBwLmxvbmdpdHVkZSkubGVuZ3RoLFxuICAgICAgbGF0TG5nVHlwZU51bWJlcjogcHJvcGVydGllcy5maWx0ZXIocCA9PiB0eXBlb2YgcC5sYXRpdHVkZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHAubG9uZ2l0dWRlID09PSAnbnVtYmVyJykubGVuZ3RoLFxuICAgICAgemVyb0Nvb3JkaW5hdGVzOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAubGF0aXR1ZGUgPT09IDAgfHwgcC5sb25naXR1ZGUgPT09IDApLmxlbmd0aCxcbiAgICAgIGZyb21SZXNlYXJjaDogcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLl9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoKS5sZW5ndGgsXG4gICAgICBtaXNzaW5nQ29vcmRpbmF0ZXM6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5fY29vcmRpbmF0ZXNfbWlzc2luZykubGVuZ3RoLFxuICAgICAgZ3JpZFBhdHRlcm46IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5faXNfZ3JpZF9wYXR0ZXJuKS5sZW5ndGgsXG4gICAgICB0ZXN0UHJvcGVydGllczogcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLl9pc190ZXN0X3Byb3BlcnR5KS5sZW5ndGgsXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygnUHJvcGVydGllcyBhbmFseXNpczonLCBhbmFseXNpcyk7XG4gICAgXG4gICAgLy8gQmFzZWQgb24gZmlsdGVyaW5nIGNyaXRlcmlhXG4gICAgY29uc3Qgd2l0aENvb3JkaW5hdGVzID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAgIHAubGF0aXR1ZGUgJiYgXG4gICAgICBwLmxvbmdpdHVkZSAmJiBcbiAgICAgIChwLl9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoIHx8ICghcC5fY29vcmRpbmF0ZXNfbWlzc2luZyAmJiAhcC5faXNfZ3JpZF9wYXR0ZXJuKSkgJiZcbiAgICAgIHR5cGVvZiBwLmxhdGl0dWRlID09PSAnbnVtYmVyJyAmJiBcbiAgICAgIHR5cGVvZiBwLmxvbmdpdHVkZSA9PT0gJ251bWJlcidcbiAgICApO1xuICAgIGNvbnNvbGUubG9nKCdQcm9wZXJ0aWVzIHdpdGggdmFsaWQgY29vcmRpbmF0ZXM6Jywgd2l0aENvb3JkaW5hdGVzLmxlbmd0aCk7XG4gICAgXG4gICAgaWYgKHdpdGhDb29yZGluYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBzYW1wbGVQcm9wZXJ0eSA9IHdpdGhDb29yZGluYXRlc1swXTtcbiAgICAgIGNvbnNvbGUubG9nKCdTYW1wbGUgcHJvcGVydHkgd2l0aCBjb29yZGluYXRlczonLCB7XG4gICAgICAgIGlkOiBzYW1wbGVQcm9wZXJ0eS5pZCxcbiAgICAgICAgbmFtZTogc2FtcGxlUHJvcGVydHkubmFtZSxcbiAgICAgICAgbGF0OiBzYW1wbGVQcm9wZXJ0eS5sYXRpdHVkZSxcbiAgICAgICAgbG5nOiBzYW1wbGVQcm9wZXJ0eS5sb25naXR1ZGUsXG4gICAgICAgIGZyb21SZXNlYXJjaDogc2FtcGxlUHJvcGVydHkuX2Nvb3JkaW5hdGVzX2Zyb21fcmVzZWFyY2ggfHwgZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3Byb3BlcnRpZXNdKTtcblxuICAvLyBHZW9jb2RlIHByb3BlcnRpZXMgd2l0aCBtaXNzaW5nIGNvb3JkaW5hdGVzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFwcm9wZXJ0aWVzIHx8ICFBcnJheS5pc0FycmF5KHByb3BlcnRpZXMpKSB7XG4gICAgICBjb25zb2xlLmxvZygnTm8gcHJvcGVydGllcyBhdmFpbGFibGUgZm9yIGdlb2NvZGluZycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBGaXJzdCwgY2hlY2sgaWYgYW55IHByb3BlcnRpZXMgZXhpc3Qgd2l0aCBwcm9wZXIgY29vcmRpbmF0ZXNcbiAgICBjb25zdCBwcm9wZXJ0aWVzV2l0aFZhbGlkQ29vcmRpbmF0ZXMgPSBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IFxuICAgICAgcC5sYXRpdHVkZSAmJiBcbiAgICAgIHAubG9uZ2l0dWRlICYmIFxuICAgICAgKHAuX2Nvb3JkaW5hdGVzX2Zyb21fcmVzZWFyY2ggfHwgKCFwLl9jb29yZGluYXRlc19taXNzaW5nICYmICFwLl9pc19ncmlkX3BhdHRlcm4pKSAmJlxuICAgICAgdHlwZW9mIHAubGF0aXR1ZGUgPT09ICdudW1iZXInICYmIFxuICAgICAgdHlwZW9mIHAubG9uZ2l0dWRlID09PSAnbnVtYmVyJ1xuICAgICk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYE1hcENvbXBvbmVudDogJHtwcm9wZXJ0aWVzV2l0aFZhbGlkQ29vcmRpbmF0ZXMubGVuZ3RofSBvZiAke3Byb3BlcnRpZXMubGVuZ3RofSBwcm9wZXJ0aWVzIGhhdmUgdmFsaWQgY29vcmRpbmF0ZXNgKTtcbiAgICBcbiAgICAvLyBBbHdheXMgc2V0IHRoZSBwcm9jZXNzZWQgcHJvcGVydGllcyBmaXJzdCB0byBzaG93IHdoYXQgd2UgaGF2ZVxuICAgIHNldFByb2Nlc3NlZFByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgXG4gICAgLy8gTU9ESUZJRUQ6IEVuYWJsZSBnZW9jb2RpbmcgZm9yIHByb3BlcnRpZXMgd2l0aCBtaXNzaW5nIGNvb3JkaW5hdGVzXG4gICAgLy8gZXZlbiBpZiBzb21lIHByb3BlcnRpZXMgYWxyZWFkeSBoYXZlIHZhbGlkIGNvb3JkaW5hdGVzXG4gICAgY29uc3QgcHJvcGVydGllc1RvR2VvY29kZSA9IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gXG4gICAgICAoKHAuX25lZWRzX2dlb2NvZGluZyB8fCAhcC5sYXRpdHVkZSB8fCAhcC5sb25naXR1ZGUgfHwgcC5fY29vcmRpbmF0ZXNfbWlzc2luZyB8fCBwLl9pc19ncmlkX3BhdHRlcm4pICYmIFxuICAgICAgIChwLmFkZHJlc3MgfHwgcC5jaXR5KSkgJiZcbiAgICAgICFwLl9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoXG4gICAgKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgTWFwQ29tcG9uZW50OiAke3Byb3BlcnRpZXNUb0dlb2NvZGUubGVuZ3RofSBwcm9wZXJ0aWVzIG5lZWQgZ2VvY29kaW5nYCk7XG4gICAgXG4gICAgLy8gT25seSBwcm9jZWVkIGlmIHRoZXJlIGFyZSBwcm9wZXJ0aWVzIHRvIGdlb2NvZGVcbiAgICBpZiAocHJvcGVydGllc1RvR2VvY29kZS5sZW5ndGggPiAwICYmICFnZW9jb2RpbmdTdGF0dXMuaXNHZW9jb2RpbmcpIHtcbiAgICAgIC8vIE9ubHkgZ2VvY29kZSB1cCB0byAxMCBwcm9wZXJ0aWVzIGF0IGEgdGltZSB0byBhdm9pZCBBUEkgbGltaXRzXG4gICAgICBjb25zdCBiYXRjaFRvR2VvY29kZSA9IHByb3BlcnRpZXNUb0dlb2NvZGUuc2xpY2UoMCwgMTApO1xuICAgICAgXG4gICAgICBzZXRHZW9jb2RpbmdTdGF0dXMoe1xuICAgICAgICBpc0dlb2NvZGluZzogdHJ1ZSxcbiAgICAgICAgY291bnQ6IDAsXG4gICAgICAgIHRvdGFsOiBiYXRjaFRvR2VvY29kZS5sZW5ndGhcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgTWFwQ29tcG9uZW50OiBHZW9jb2RpbmcgYmF0Y2ggb2YgJHtiYXRjaFRvR2VvY29kZS5sZW5ndGh9IHByb3BlcnRpZXNgKTtcbiAgICAgIFxuICAgICAgZ2VvY29kZVByb3BlcnRpZXMoYmF0Y2hUb0dlb2NvZGUpXG4gICAgICAgIC50aGVuKGdlb2NvZGVkUHJvcGVydGllcyA9PiB7XG4gICAgICAgICAgLy8gQ291bnQgaG93IG1hbnkgd2VyZSBzdWNjZXNzZnVsbHkgZ2VvY29kZWRcbiAgICAgICAgICBjb25zdCBuZXdseUdlb2NvZGVkQ291bnQgPSBnZW9jb2RlZFByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5fZ2VvY29kZWQpLmxlbmd0aDtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZyhgTWFwQ29tcG9uZW50OiBTdWNjZXNzZnVsbHkgZ2VvY29kZWQgJHtuZXdseUdlb2NvZGVkQ291bnR9IHByb3BlcnRpZXNgKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBNZXJnZSBnZW9jb2RlZCBwcm9wZXJ0aWVzIHdpdGggZXhpc3RpbmcgcHJvcGVydGllc1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9wZXJ0aWVzID0gWy4uLnByb3BlcnRpZXNdO1xuICAgICAgICAgIGdlb2NvZGVkUHJvcGVydGllcy5mb3JFYWNoKGdlb2NvZGVkUHJvcGVydHkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB1cGRhdGVkUHJvcGVydGllcy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBnZW9jb2RlZFByb3BlcnR5LmlkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgdXBkYXRlZFByb3BlcnRpZXNbaW5kZXhdID0gZ2VvY29kZWRQcm9wZXJ0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRQcm9jZXNzZWRQcm9wZXJ0aWVzKHVwZGF0ZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICBzZXRHZW9jb2RpbmdTdGF0dXMoe1xuICAgICAgICAgICAgaXNHZW9jb2Rpbmc6IGZhbHNlLFxuICAgICAgICAgICAgY291bnQ6IG5ld2x5R2VvY29kZWRDb3VudCxcbiAgICAgICAgICAgIHRvdGFsOiBiYXRjaFRvR2VvY29kZS5sZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW9jb2RpbmcgcHJvcGVydGllczonLCBlcnJvcik7XG4gICAgICAgICAgc2V0R2VvY29kaW5nU3RhdHVzKHtcbiAgICAgICAgICAgIGlzR2VvY29kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgdG90YWw6IGJhdGNoVG9HZW9jb2RlLmxlbmd0aFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH0sIFtwcm9wZXJ0aWVzLCBnZW9jb2RpbmdTdGF0dXMuaXNHZW9jb2RpbmddKTtcbiAgXG4gIC8vIFNldHVwIGRlZmF1bHQgbWFya2VyIGljb25zXG4gIEwuTWFya2VyLnByb3RvdHlwZS5vcHRpb25zLmljb24gPSBMLmljb24oe1xuICAgIGljb25Vcmw6ICcvaWNvbnMvbWFya2VyLWJsdWUucG5nJyxcbiAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgaWNvbkFuY2hvcjogWzEyLCA0MV0sXG4gICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gIH0pO1xuXG4gIC8vIEFkZCBoZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSByaWdodCBtYXJrZXIgaWNvbiBiYXNlZCBvbiBwcm9wZXJ0eSBzdGF0dXNcbiAgY29uc3QgZ2V0TWFya2VySWNvbiA9IChwcm9wZXJ0eTogUHJvcGVydHkpID0+IHtcbiAgICAvLyBJZiB0aGUgcHJvcGVydHkgaGFzIHZlcmlmaWVkIGNvb3JkaW5hdGVzLCB1c2UgYSB2ZXJpZmllZCBpY29uXG4gICAgaWYgKHByb3BlcnR5LnZlcmlmaWVkX2FkZHJlc3MpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci12ZXJpZmllZC5wbmcnLFxuICAgICAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gSWYgdGhlIHByb3BlcnR5IGhhcyBjb29yZGluYXRlIGlzc3VlcywgdXNlIGEgd2FybmluZyBpY29uXG4gICAgaWYgKHByb3BlcnR5Ll9pc19ncmlkX3BhdHRlcm4gfHwgcHJvcGVydHkuX2lzX2ludmFsaWRfcmFuZ2UgfHwgXG4gICAgICAgIHByb3BlcnR5Ll9vdXRzaWRlX2F1c3RpbiB8fCBwcm9wZXJ0eS5fY29vcmRpbmF0ZXNfZnJvbV9yZXNlYXJjaCkge1xuICAgICAgcmV0dXJuIEwuaWNvbih7XG4gICAgICAgIGljb25Vcmw6ICcvaWNvbnMvbWFya2VyLXdhcm5pbmcucG5nJyxcbiAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEZvciB0ZXN0IHByb3BlcnRpZXNcbiAgICBpZiAocHJvcGVydHkuX2lzX3Rlc3RfcHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci10ZXN0LnBuZycsXG4gICAgICAgIGljb25TaXplOiBbMjUsIDQxXSxcbiAgICAgICAgaWNvbkFuY2hvcjogWzEyLCA0MV0sXG4gICAgICAgIHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcbiAgICAgICAgc2hhZG93U2l6ZTogWzQxLCA0MV1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBGb3IgZ2VvY29kZWQgcHJvcGVydGllc1xuICAgIGlmIChwcm9wZXJ0eS5fZ2VvY29kZWQpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci1nZW9jb2RlZC5wbmcnLFxuICAgICAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGVmYXVsdCBtYXJrZXIgaWNvbnMgYmFzZWQgb24gc3RhdHVzXG4gICAgY29uc3Qgc3RhdHVzID0gcHJvcGVydHkuc3RhdHVzPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xuICAgIGlmIChzdGF0dXMgPT09ICdhY3RpdmUnIHx8IHN0YXR1cyA9PT0gJ2xpc3RlZCcpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci1ncmVlbi5wbmcnLFxuICAgICAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2NvbnRyYWN0JyB8fCBzdGF0dXMgPT09ICd1bmRlciBjb250cmFjdCcpIHtcbiAgICAgIHJldHVybiBMLmljb24oe1xuICAgICAgICBpY29uVXJsOiAnL2ljb25zL21hcmtlci15ZWxsb3cucG5nJyxcbiAgICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMTIsIDQxXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuICAgICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdzb2xkJykge1xuICAgICAgcmV0dXJuIEwuaWNvbih7XG4gICAgICAgIGljb25Vcmw6ICcvaWNvbnMvbWFya2VyLXJlZC5wbmcnLFxuICAgICAgICBpY29uU2l6ZTogWzI1LCA0MV0sXG4gICAgICAgIGljb25BbmNob3I6IFsxMiwgNDFdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGVmYXVsdCBmYWxsYmFja1xuICAgIHJldHVybiBMLmljb24oe1xuICAgICAgaWNvblVybDogJy9pY29ucy9tYXJrZXItYmx1ZS5wbmcnLFxuICAgICAgaWNvblNpemU6IFsyNSwgNDFdLFxuICAgICAgaWNvbkFuY2hvcjogWzEyLCA0MV0sXG4gICAgICBwb3B1cEFuY2hvcjogWzEsIC0zNF0sXG4gICAgICBzaGFkb3dTaXplOiBbNDEsIDQxXVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIEZvcm1hdCBwcmljZSBhcyAkWC5YTVxuICBjb25zdCBmb3JtYXRQcmljZSA9IChwcmljZTogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCFwcmljZSkgcmV0dXJuICdQcmljZSBub3QgYXZhaWxhYmxlJztcbiAgICBpZiAocHJpY2UgPj0gMTAwMDAwMCkge1xuICAgICAgcmV0dXJuIGAkJHsocHJpY2UgLyAxMDAwMDAwKS50b0ZpeGVkKDEpfU1gO1xuICAgIH1cbiAgICByZXR1cm4gYCQkeyhwcmljZSAvIDEwMDApLnRvRml4ZWQoMCl9S2A7XG4gIH07XG5cbiAgLy8gRm9ybWF0IHByaWNlIHBlciB1bml0XG4gIGNvbnN0IGZvcm1hdFByaWNlUGVyVW5pdCA9IChwcmljZTogbnVtYmVyIHwgdW5kZWZpbmVkLCB1bml0czogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCFwcmljZSB8fCAhdW5pdHMgfHwgdW5pdHMgPT09IDApIHJldHVybiAnTi9BJztcbiAgICByZXR1cm4gYCQke01hdGgucm91bmQocHJpY2UgLyB1bml0cykudG9Mb2NhbGVTdHJpbmcoKX0vdW5pdGA7XG4gIH07XG5cbiAgLy8gQWRkIGNvZGUgdG8gY2hlY2sgY29vcmRpbmF0ZXMgYW5kIGZpbHRlciBvdXQgaW52YWxpZCBvbmVzXG4gIGNvbnN0IHZhbGlkUHJvcGVydGllcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghcHJvcGVydGllcyB8fCAhQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcHJvcGVydGllcy5maWx0ZXIocHJvcGVydHkgPT4ge1xuICAgICAgLy8gV2UgbmVlZCBib3RoIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUgdG8gYmUgZGVmaW5lZCBhbmQgdmFsaWQgbnVtYmVyc1xuICAgICAgaWYgKCFwcm9wZXJ0eSB8fCB0eXBlb2YgcHJvcGVydHkubGF0aXR1ZGUgIT09ICdudW1iZXInIHx8IHR5cGVvZiBwcm9wZXJ0eS5sb25naXR1ZGUgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgY29vcmRpbmF0ZXMgYXJlIHplcm8gKG9mdGVuIGEgc2lnbiBvZiBwbGFjZWhvbGRlciBkYXRhKVxuICAgICAgaWYgKHByb3BlcnR5LmxhdGl0dWRlID09PSAwIHx8IHByb3BlcnR5LmxvbmdpdHVkZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdmFsaWQgcmFuZ2VzXG4gICAgICBpZiAocHJvcGVydHkubGF0aXR1ZGUgPCAtOTAgfHwgcHJvcGVydHkubGF0aXR1ZGUgPiA5MCB8fCBcbiAgICAgICAgICBwcm9wZXJ0eS5sb25naXR1ZGUgPCAtMTgwIHx8IHByb3BlcnR5LmxvbmdpdHVkZSA+IDE4MCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIEVpdGhlciBzaG93IHByb3BlcnRpZXMgZnJvbSByZXNlYXJjaCBvciB2YWxpZCBjb29yZGluYXRlcyBpbiBBdXN0aW4gYXJlYVxuICAgICAgaWYgKHByb3BlcnR5Ll9jb29yZGluYXRlc19mcm9tX3Jlc2VhcmNoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBGaWx0ZXIgb3V0IHByb3BlcnRpZXMgd2l0aCBjb29yZGluYXRlcyBpbiBhIGdyaWQgcGF0dGVyblxuICAgICAgaWYgKHByb3BlcnR5Ll9pc19ncmlkX3BhdHRlcm4pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfSwgW3Byb3BlcnRpZXNdKTtcbiAgXG4gIC8vIENoZWNrIGlmIHByb3BlcnR5IGhhcyB2YWxpZCBjb29yZGluYXRlc1xuICBjb25zdCBoYXNWYWxpZENvb3JkaW5hdGVzID0gKHByb3BlcnR5OiBQcm9wZXJ0eSk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICghcHJvcGVydHkpIHJldHVybiBmYWxzZTtcblxuICAgIC8vIElmIHRoZSBwcm9wZXJ0eSBoYXMgYSB2ZXJpZmllZCBhZGRyZXNzLCBpdCBoYXMgdmFsaWQgY29vcmRpbmF0ZXNcbiAgICBpZiAocHJvcGVydHkudmVyaWZpZWRfYWRkcmVzcykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIC8vIEJhc2ljIHR5cGUgY2hlY2tzXG4gICAgY29uc3QgbGF0ID0gdHlwZW9mIHByb3BlcnR5LmxhdGl0dWRlID09PSAnbnVtYmVyJyA/IHByb3BlcnR5LmxhdGl0dWRlIDogcGFyc2VGbG9hdChwcm9wZXJ0eS5sYXRpdHVkZSBhcyBzdHJpbmcpO1xuICAgIGNvbnN0IGxuZyA9IHR5cGVvZiBwcm9wZXJ0eS5sb25naXR1ZGUgPT09ICdudW1iZXInID8gcHJvcGVydHkubG9uZ2l0dWRlIDogcGFyc2VGbG9hdChwcm9wZXJ0eS5sb25naXR1ZGUgYXMgc3RyaW5nKTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgTmFOLCBudWxsLCB1bmRlZmluZWRcbiAgICBpZiAoaXNOYU4obGF0KSB8fCBpc05hTihsbmcpIHx8IGxhdCA9PT0gbnVsbCB8fCBsbmcgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgemVybyB2YWx1ZXMgKG9mdGVuIGRlZmF1bHQpXG4gICAgaWYgKGxhdCA9PT0gMCB8fCBsbmcgPT09IDApIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgcmVhc29uYWJsZSBjb29yZGluYXRlIHJhbmdlc1xuICAgIGlmIChsYXQgPCAtOTAgfHwgbGF0ID4gOTAgfHwgbG5nIDwgLTE4MCB8fCBsbmcgPiAxODApIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgQXVzdGluIGRlZmF1bHQgKGlmIHByb3BlcnR5IHN0YXRlIGlzIG5vdCBUZXhhcylcbiAgICBjb25zdCBpc0F1c3RpbkFyZWEgPSBsYXQgPiAzMC4wICYmIGxhdCA8IDMwLjUgJiYgbG5nID4gLTk3LjkgJiYgbG5nIDwgLTk3LjU7XG4gICAgY29uc3QgaXNUZXhhcyA9IHByb3BlcnR5LnN0YXRlPy50b0xvd2VyQ2FzZSgpID09PSAndHgnIHx8IHByb3BlcnR5LnN0YXRlPy50b0xvd2VyQ2FzZSgpID09PSAndGV4YXMnO1xuICAgIFxuICAgIGlmIChpc0F1c3RpbkFyZWEgJiYgIWlzVGV4YXMpIHtcbiAgICAgIGNvbnNvbGUud2FybihgUHJvcGVydHkgJHtwcm9wZXJ0eS5pZH0gaGFzIGNvb3JkaW5hdGVzIGluIEF1c3RpbiBidXQgc3RhdGUgaXMgJHtwcm9wZXJ0eS5zdGF0ZX1gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFxuICAvLyBHZXQgcHJvcGVydGllcyB3aXRoIHZhbGlkIGNvb3JkaW5hdGVzXG4gIGNvbnN0IHByb3BlcnRpZXNXaXRoQ29vcmRpbmF0ZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXByb2Nlc3NlZFByb3BlcnRpZXMgfHwgIUFycmF5LmlzQXJyYXkocHJvY2Vzc2VkUHJvcGVydGllcykpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHByb2Nlc3NlZFByb3BlcnRpZXMuZmlsdGVyKHByb3BlcnR5ID0+IGhhc1ZhbGlkQ29vcmRpbmF0ZXMocHJvcGVydHkpKTtcbiAgfSwgW3Byb2Nlc3NlZFByb3BlcnRpZXNdKTtcbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLVs4MHZoXSBsZzpoLVs4NXZoXSByb3VuZGVkLWxnIHNoYWRvdyBvdmVyZmxvdy1oaWRkZW4gcmVsYXRpdmVcIj5cbiAgICAgIHsvKiBHZW9jb2Rpbmcgc3RhdHVzIGluZGljYXRvciAqL31cbiAgICAgIHtnZW9jb2RpbmdTdGF0dXMuaXNHZW9jb2RpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IGxlZnQtNCB6LTEwIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3ctbWQgcC0yIHB4LTMgZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbVwiPlxuICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIGgtNCB3LTQgbXItMiB0ZXh0LWJsdWUtNTAwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPGNpcmNsZSBjbGFzc05hbWU9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjRcIj48L2NpcmNsZT5cbiAgICAgICAgICAgIDxwYXRoIGNsYXNzTmFtZT1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04VjBDNS4zNzMgMCAwIDUuMzczIDAgMTJoNHptMiA1LjI5MUE3Ljk2MiA3Ljk2MiAwIDAxNCAxMkgwYzAgMy4wNDIgMS4xMzUgNS44MjQgMyA3LjkzOGwzLTIuNjQ3elwiPjwvcGF0aD5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8c3Bhbj5Mb2NhdGluZyBwcm9wZXJ0aWVzIG9uIG1hcC4uLjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogTm8gcHJvcGVydGllcyB3aXRoIHZhbGlkIGNvb3JkaW5hdGVzIG1lc3NhZ2UgKi99XG4gICAgICB7cHJvcGVydGllc1dpdGhDb29yZGluYXRlcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHotMTAgdG9wLTEvMiBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiAtdHJhbnNsYXRlLXktMS8yIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgcC00IHJvdW5kZWQtbGcgc2hhZG93LW1kIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3NOYW1lPVwiaC04IHctOCBteC1hdXRvIG1iLTIgdGV4dC1ncmF5LTQwMFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE3LjY1NyAxNi42NTdMMTMuNDE0IDIwLjlhMS45OTggMS45OTggMCAwMS0yLjgyNyAwbC00LjI0NC00LjI0M2E4IDggMCAxMTExLjMxNCAwelwiIC8+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTUgMTFhMyAzIDAgMTEtNiAwIDMgMyAwIDAxNiAwelwiIC8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1sZ1wiPk5vIFByb3BlcnRpZXMgd2l0aCBMb2NhdGlvbiBEYXRhPC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+VHJ5IGFkanVzdGluZyB5b3VyIGZpbHRlcnMgdG8gZmluZCBwcm9wZXJ0aWVzIHdpdGggdmFsaWQgY29vcmRpbmF0ZXMuPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxNYXBDb250YWluZXIgXG4gICAgICAgIGNlbnRlcj17ZGVmYXVsdENlbnRlcn0gXG4gICAgICAgIHpvb209e2RlZmF1bHRab29tfVxuICAgICAgICBzdHlsZT17eyBoZWlnaHQ6ICcxMDAlJywgd2lkdGg6ICcxMDAlJyB9fVxuICAgICAgICB6b29tQ29udHJvbD17ZmFsc2V9XG4gICAgICA+XG4gICAgICAgIDxNYXBJbml0aWFsaXplciAvPlxuICAgICAgICBcbiAgICAgICAgey8qIFVzZSBNYXBib3ggaWYgdG9rZW4gaXMgcHJvdmlkZWQsIG90aGVyd2lzZSB1c2UgT3BlblN0cmVldE1hcCAqL31cbiAgICAgICAge21hcGJveFRva2VuID8gKFxuICAgICAgICAgIDxUaWxlTGF5ZXJcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uPSfCqSA8YSBocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hYm91dC9tYXBzL1wiPk1hcGJveDwvYT4nXG4gICAgICAgICAgICB1cmw9e2BodHRwczovL2FwaS5tYXBib3guY29tL3N0eWxlcy92MS9tYXBib3gvc3RyZWV0cy12MTEvdGlsZXMve3p9L3t4fS97eX0/YWNjZXNzX3Rva2VuPSR7bWFwYm94VG9rZW59YH1cbiAgICAgICAgICAvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxUaWxlTGF5ZXJcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uPScmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycydcbiAgICAgICAgICAgIHVybD1cImh0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nXCJcbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgey8qIEFkZCBab29tQ29udHJvbCBpbiB0b3AtcmlnaHQgKi99XG4gICAgICAgIDxab29tQ29udHJvbCBwb3NpdGlvbj1cInRvcHJpZ2h0XCIgLz5cbiAgICAgICAgXG4gICAgICAgIHsvKiBNYXAgbWFya2VycyBmb3IgcHJvcGVydGllcyAqL31cbiAgICAgICAge3Byb3BlcnRpZXNXaXRoQ29vcmRpbmF0ZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIHtwcm9wZXJ0aWVzV2l0aENvb3JkaW5hdGVzLm1hcCgocHJvcGVydHkpID0+IChcbiAgICAgICAgICAgICAgPE1hcmtlclxuICAgICAgICAgICAgICAgIGtleT17cHJvcGVydHkuaWR9XG4gICAgICAgICAgICAgICAgcG9zaXRpb249e1twcm9wZXJ0eS5sYXRpdHVkZSwgcHJvcGVydHkubG9uZ2l0dWRlXX1cbiAgICAgICAgICAgICAgICBpY29uPXtnZXRNYXJrZXJJY29uKHByb3BlcnR5KX1cbiAgICAgICAgICAgICAgICBldmVudEhhbmRsZXJzPXt7XG4gICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBvcmlnaW5hbCBwcm9wZXJ0eSBpbiB0aGUgcHJvcGVydGllcyBhcnJheSB0byBtYWtlIHN1cmUgd2UgaGF2ZSB0aGUgbGF0ZXN0IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcm9wZXJ0eSA9IHByb3BlcnRpZXMuZmluZChwID0+IHAuaWQgPT09IHByb3BlcnR5LmlkKSB8fCBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRQcm9wZXJ0eShvcmlnaW5hbFByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxQb3B1cD5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctWzIyMHB4XVwiPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGdcIj57cHJvcGVydHkubmFtZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIFNob3cgdmVyaWZpZWQgYWRkcmVzcyBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBzaG93IHJlZ3VsYXIgYWRkcmVzcyAqL31cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtwcm9wZXJ0eS52ZXJpZmllZF9hZGRyZXNzIHx8IHByb3BlcnR5LmFkZHJlc3N9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBBZGQgdmVyaWZpY2F0aW9uIHN0YXR1cyBpbmRpY2F0b3IgKi99XG4gICAgICAgICAgICAgICAgICAgIHtwcm9wZXJ0eS52ZXJpZmllZF9hZGRyZXNzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JlZW4tNjAwIGZsZXggaXRlbXMtY2VudGVyIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsYXNzTmFtZT1cImgtMyB3LTMgbXItMVwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTYuNzA3IDUuMjkzYTEgMSAwIDAxMCAxLjQxNGwtOCA4YTEgMSAwIDAxLTEuNDE0IDBsLTQtNGExIDEgMCAwMTEuNDE0LTEuNDE0TDggMTIuNTg2bDcuMjkzLTcuMjkzYTEgMSAwIDAxMS40MTQgMHpcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICBWZXJpZmllZCB3aXRoIEdvb2dsZSBNYXBzXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7IXByb3BlcnR5LnZlcmlmaWVkX2FkZHJlc3MgJiYgcHJvcGVydHkuZ2VvY29kZWRfYXQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTYwMCBmbGV4IGl0ZW1zLWNlbnRlciBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzc05hbWU9XCJoLTMgdy0zIG1yLTFcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsUnVsZT1cImV2ZW5vZGRcIiBkPVwiTTUuMDUgNC4wNWE3IDcgMCAxMTkuOSA5LjlMMTAgMTguOWwtNC45NS00Ljk1YTcgNyAwIDAxMC05Ljl6TTEwIDExYTIgMiAwIDEwMC00IDIgMiAwIDAwMCA0elwiIGNsaXBSdWxlPVwiZXZlbm9kZFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgIExvY2F0aW9uIGVzdGltYXRlZCBmcm9tIGFkZHJlc3NcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTEgbXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc21cIj5Vbml0czo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntwcm9wZXJ0eS5udW1fdW5pdHMgfHwgcHJvcGVydHkudW5pdHN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc21cIj5ZZWFyIEJ1aWx0Ojwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3Byb3BlcnR5LnllYXJfYnVpbHQgfHwgJ04vQSd9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc21cIj5QcmljZTo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntmb3JtYXRQcmljZShwcm9wZXJ0eS5wcmljZSl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc21cIj5QZXIgVW5pdDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntmb3JtYXRQcmljZVBlclVuaXQocHJvcGVydHkucHJpY2UsIHByb3BlcnR5Lm51bV91bml0cyB8fCBwcm9wZXJ0eS51bml0cyl9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHB0LTIgYm9yZGVyLXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BweC0yIHB5LTEgcm91bmRlZC1mdWxsIHRleHQteHMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgfHwgcHJvcGVydHkuc3RhdHVzID09PSAnQWN0aXZlbHkgTWFya2V0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogcHJvcGVydHkuc3RhdHVzID09PSAndW5kZXJfY29udHJhY3QnIHx8IHByb3BlcnR5LnN0YXR1cyA9PT0gJ1VuZGVyIENvbnRyYWN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy15ZWxsb3ctMTAwIHRleHQteWVsbG93LTgwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXJlZC0xMDAgdGV4dC1yZWQtODAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wZXJ0eS5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0zIHctZnVsbCBweS0xIHB4LTIgYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSByb3VuZGVkIHRleHQtc20gdHJhbnNpdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcm9wZXJ0eSA9IHByb3BlcnRpZXMuZmluZChwID0+IHAuaWQgPT09IHByb3BlcnR5LmlkKSB8fCBwcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUHJvcGVydHkob3JpZ2luYWxQcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIFZpZXcgRGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvUG9wdXA+XG4gICAgICAgICAgICAgIDwvTWFya2VyPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogTWFwIGNvbnRyb2xsZXJzICovfVxuICAgICAgICA8TWFwUmVjZW50ZXIgc2VsZWN0ZWRQcm9wZXJ0eT17c2VsZWN0ZWRQcm9wZXJ0eX0gLz5cbiAgICAgICAge29uQm91bmRzQ2hhbmdlICYmIDxNYXBCb3VuZHNVcGRhdGVyIG9uQm91bmRzQ2hhbmdlPXtvbkJvdW5kc0NoYW5nZX0gLz59XG4gICAgICA8L01hcENvbnRhaW5lcj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1hcENvbXBvbmVudDsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsIk1hcENvbnRhaW5lciIsIlRpbGVMYXllciIsIk1hcmtlciIsIlBvcHVwIiwidXNlTWFwIiwiWm9vbUNvbnRyb2wiLCJMIiwiZ2VvY29kZVByb3BlcnRpZXMiLCJNYXBJbml0aWFsaXplciIsIkljb24iLCJEZWZhdWx0IiwicHJvdG90eXBlIiwiX2dldEljb25VcmwiLCJtZXJnZU9wdGlvbnMiLCJpY29uVXJsIiwiaWNvblJldGluYVVybCIsInNoYWRvd1VybCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJjcmVhdGVTdGF0dXNJY29uIiwiY29sb3IiLCJpY29uU2l6ZSIsImljb25BbmNob3IiLCJwb3B1cEFuY2hvciIsInNoYWRvd1NpemUiLCJzdGF0dXNJY29ucyIsIk1hcFJlY2VudGVyIiwic2VsZWN0ZWRQcm9wZXJ0eSIsIm1hcCIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiaGFzQ29vcmRpbmF0ZXMiLCJpc05vdFplcm8iLCJmcm9tUmVzZWFyY2giLCJfY29vcmRpbmF0ZXNfZnJvbV9yZXNlYXJjaCIsImlzVmFsaWQiLCJfY29vcmRpbmF0ZXNfbWlzc2luZyIsIl9pc19ncmlkX3BhdHRlcm4iLCJzZXRWaWV3IiwiYW5pbWF0ZSIsIk1hcEJvdW5kc1VwZGF0ZXIiLCJvbkJvdW5kc0NoYW5nZSIsInVwZGF0ZUJvdW5kc1JlZiIsImJvdW5kcyIsImdldEJvdW5kcyIsIm5vcnRoIiwiZ2V0Tm9ydGgiLCJzb3V0aCIsImdldFNvdXRoIiwiZWFzdCIsImdldEVhc3QiLCJ3ZXN0IiwiZ2V0V2VzdCIsImluaXRpYWxUaW1lb3V0Iiwic2V0VGltZW91dCIsIm9uIiwiY2xlYXJUaW1lb3V0Iiwib2ZmIiwiTWFwQ29tcG9uZW50IiwicHJvcGVydGllcyIsInNldFNlbGVjdGVkUHJvcGVydHkiLCJtYXBib3hUb2tlbiIsInByb2Nlc3NlZFByb3BlcnRpZXMiLCJzZXRQcm9jZXNzZWRQcm9wZXJ0aWVzIiwiZ2VvY29kaW5nU3RhdHVzIiwic2V0R2VvY29kaW5nU3RhdHVzIiwiaXNHZW9jb2RpbmciLCJjb3VudCIsInRvdGFsIiwiZGVmYXVsdENlbnRlciIsImRlZmF1bHRab29tIiwiQXJyYXkiLCJpc0FycmF5IiwibG9nIiwibGVuZ3RoIiwic3RhdHVzZXMiLCJTZXQiLCJwIiwic3RhdHVzIiwiZnJvbSIsImFuYWx5c2lzIiwiaGFzTGF0TG5nIiwiZmlsdGVyIiwibGF0TG5nVHlwZU51bWJlciIsInplcm9Db29yZGluYXRlcyIsIm1pc3NpbmdDb29yZGluYXRlcyIsImdyaWRQYXR0ZXJuIiwidGVzdFByb3BlcnRpZXMiLCJfaXNfdGVzdF9wcm9wZXJ0eSIsIndpdGhDb29yZGluYXRlcyIsInNhbXBsZVByb3BlcnR5IiwiaWQiLCJuYW1lIiwibGF0IiwibG5nIiwicHJvcGVydGllc1dpdGhWYWxpZENvb3JkaW5hdGVzIiwicHJvcGVydGllc1RvR2VvY29kZSIsIl9uZWVkc19nZW9jb2RpbmciLCJhZGRyZXNzIiwiY2l0eSIsImJhdGNoVG9HZW9jb2RlIiwic2xpY2UiLCJ0aGVuIiwiZ2VvY29kZWRQcm9wZXJ0aWVzIiwibmV3bHlHZW9jb2RlZENvdW50IiwiX2dlb2NvZGVkIiwidXBkYXRlZFByb3BlcnRpZXMiLCJmb3JFYWNoIiwiZ2VvY29kZWRQcm9wZXJ0eSIsImluZGV4IiwiZmluZEluZGV4IiwiY2F0Y2giLCJvcHRpb25zIiwiaWNvbiIsImdldE1hcmtlckljb24iLCJwcm9wZXJ0eSIsInZlcmlmaWVkX2FkZHJlc3MiLCJfaXNfaW52YWxpZF9yYW5nZSIsIl9vdXRzaWRlX2F1c3RpbiIsInRvTG93ZXJDYXNlIiwiZm9ybWF0UHJpY2UiLCJwcmljZSIsInRvRml4ZWQiLCJmb3JtYXRQcmljZVBlclVuaXQiLCJ1bml0cyIsIk1hdGgiLCJyb3VuZCIsInRvTG9jYWxlU3RyaW5nIiwidmFsaWRQcm9wZXJ0aWVzIiwiaGFzVmFsaWRDb29yZGluYXRlcyIsInBhcnNlRmxvYXQiLCJpc05hTiIsImlzQXVzdGluQXJlYSIsImlzVGV4YXMiLCJzdGF0ZSIsIndhcm4iLCJwcm9wZXJ0aWVzV2l0aENvb3JkaW5hdGVzIiwiZGl2IiwiY2xhc3NOYW1lIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJwYXRoIiwiZCIsInNwYW4iLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJoMyIsImNlbnRlciIsInpvb20iLCJzdHlsZSIsImhlaWdodCIsIndpZHRoIiwiem9vbUNvbnRyb2wiLCJhdHRyaWJ1dGlvbiIsInVybCIsInBvc2l0aW9uIiwiZXZlbnRIYW5kbGVycyIsImNsaWNrIiwib3JpZ2luYWxQcm9wZXJ0eSIsImZpbmQiLCJmaWxsUnVsZSIsImNsaXBSdWxlIiwiZ2VvY29kZWRfYXQiLCJudW1fdW5pdHMiLCJ5ZWFyX2J1aWx0IiwiYnV0dG9uIiwib25DbGljayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/MapComponent.tsx\n");

/***/ })

};
;
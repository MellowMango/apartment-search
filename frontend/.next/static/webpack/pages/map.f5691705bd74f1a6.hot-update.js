"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/map",{

/***/ "./pages/map.js":
/*!**********************!*\
  !*** ./pages/map.js ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MapPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _src_components_Layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/components/Layout */ \"./src/components/Layout.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/supabase */ \"./lib/supabase.js\");\n/* harmony import */ var _lib_geocoding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/geocoding */ \"./lib/geocoding.js\");\n/* harmony import */ var _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../src/contexts/AuthContext */ \"./src/contexts/AuthContext.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_7__);\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n\n// Import the map component dynamically to avoid SSR issues with Leaflet\nconst MapComponent = next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(()=>__webpack_require__.e(/*! import() */ \"src_components_MapComponent_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../src/components/MapComponent */ \"./src/components/MapComponent.tsx\")), {\n    loadableGenerated: {\n        modules: [\n            \"map.js -> \" + \"../src/components/MapComponent\"\n        ]\n    },\n    ssr: false\n});\n_c = MapComponent;\n// Login gate component that blurs the content and shows a login prompt\nconst LoginGate = (param)=>{\n    let { children } = param;\n    _s();\n    const { user, loading } = (0,_src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth)();\n    // Show loading state while checking authentication\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative w-full h-full min-h-[80vh]\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800 z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"animate-spin h-10 w-10 text-blue-500 mx-auto mb-4\",\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            fill: \"none\",\n                            viewBox: \"0 0 24 24\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                    className: \"opacity-25\",\n                                    cx: \"12\",\n                                    cy: \"12\",\n                                    r: \"10\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 31,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    className: \"opacity-75\",\n                                    fill: \"currentColor\",\n                                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 39,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 25,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"dark:text-gray-300\",\n                            children: \"Checking authentication...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 45,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                    lineNumber: 24,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n            lineNumber: 22,\n            columnNumber: 7\n        }, undefined);\n    }\n    // If user is authenticated, show the content\n    if (user) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: children\n        }, void 0, false);\n    }\n    // If not authenticated, show blurred content with login prompt\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full min-h-[80vh]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 filter blur-md opacity-40 pointer-events-none overflow-hidden\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 61,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-black/20 dark:bg-black/40 flex items-center justify-center z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full text-center backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95 border border-gray-200 dark:border-gray-700\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                    className: \"h-16 w-16 text-blue-500 mx-auto mb-4\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 76,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 69,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                                    children: \"Access Restricted\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 83,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-gray-600 dark:text-gray-300\",\n                                    children: \"You need to log in or create an account to access the full property map and details.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 84,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 68,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                    href: \"/login\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        className: \"block w-full py-3 px-4 text-center bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md shadow transition duration-150\",\n                                        children: \"Log In\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 91,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 90,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                    href: \"/signup\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        className: \"block w-full py-3 px-4 text-center border border-blue-600 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900 dark:text-blue-400 dark:border-blue-400 font-medium rounded-md transition duration-150\",\n                                        children: \"Sign Up\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 96,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 95,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-gray-500 dark:text-gray-400 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"By signing up, you'll get access to:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 101,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                            className: \"mt-2 space-y-1 text-left list-disc list-inside\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Full property details and insights\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 103,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Save favorite properties\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 104,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Get notifications on new listings\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 105,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Access advanced filtering options\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 106,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 102,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 100,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 89,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                    lineNumber: 67,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 66,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n        lineNumber: 59,\n        columnNumber: 5\n    }, undefined);\n};\n_s(LoginGate, \"EmJkapf7qiLC5Br5eCoEq4veZes=\", false, function() {\n    return [\n        _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth\n    ];\n});\n_c1 = LoginGate;\nfunction MapPage() {\n    _s1();\n    const [properties, setProperties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [sampleProperties, setSampleProperties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedProperty, setSelectedProperty] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [geocoding, setGeocoding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [geocodingLogs, setGeocodingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showGeocodingLogs, setShowGeocodingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cleaning, setCleaning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cleaningLogs, setCleaningLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showCleaningLogs, setShowCleaningLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [enriching, setEnriching] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [enrichingLogs, setEnrichingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showEnrichingLogs, setShowEnrichingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mapBounds, setMapBounds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [totalFetched, setTotalFetched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [sidebarState, setSidebarState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"open\"); // 'open', 'collapsed', or 'fullscreen'\n    const [dataStats, setDataStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        totalProperties: 0,\n        invalidCoordinates: 0,\n        missingCoordinates: 0,\n        zeroCoordinates: 0,\n        invalidRange: 0,\n        duplicatedLocations: 0\n    });\n    const { user } = (0,_src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth)();\n    // Load sample properties for non-authenticated users\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadSampleProperties = async ()=>{\n            if (!user) {\n                try {\n                    // Fetch just a few sample properties to show on the map\n                    const data = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_4__.fetchProperties)({\n                        page: 1,\n                        pageSize: 5,\n                        sortBy: \"created_at\",\n                        sortAsc: false,\n                        includeIncomplete: false,\n                        includeResearch: true,\n                        filters: {},\n                        noLimit: false,\n                        bounds: null\n                    });\n                    // Mark them as sample properties\n                    const samplesWithLabel = data.map((property)=>({\n                            ...property,\n                            name: property.name ? \"\".concat(property.name, \" (Sample)\") : \"Sample Property\",\n                            _isSample: true\n                        }));\n                    setSampleProperties(samplesWithLabel);\n                } catch (error) {\n                    console.error(\"Error loading sample properties:\", error);\n                }\n            }\n        };\n        loadSampleProperties();\n    }, [\n        user\n    ]);\n    // Initial property load on page load\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (user) {\n            loadProperties();\n        }\n    }, [\n        user\n    ]);\n    // Reload properties when map bounds change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (mapBounds) {\n            console.log(\"Map bounds changed, loading properties in the visible area\");\n            loadProperties(mapBounds);\n        }\n    }, [\n        mapBounds\n    ]);\n    // Handle map bounds changes\n    const handleBoundsChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((bounds)=>{\n        setMapBounds(bounds);\n    }, []);\n    // Calculate statistics about the property data\n    const calculateStats = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((propData)=>{\n        if (!propData || !Array.isArray(propData)) return;\n        const missingCoords = propData.filter((p)=>!p.latitude || !p.longitude).length;\n        const zeroCoords = propData.filter((p)=>p.latitude === 0 && p.longitude === 0).length;\n        const invalidRange = propData.filter((p)=>{\n            if (!p.latitude || !p.longitude) return false;\n            const lat = typeof p.latitude === \"number\" ? p.latitude : parseFloat(String(p.latitude));\n            const lng = typeof p.longitude === \"number\" ? p.longitude : parseFloat(String(p.longitude));\n            return isNaN(lat) || isNaN(lng) || lat < -90 || lat > 90 || lng < -180 || lng > 180;\n        }).length;\n        // Count properties at identical coordinates\n        const coordMap = new Map();\n        let duplicatedCoords = 0;\n        propData.forEach((p)=>{\n            if (p.latitude && p.longitude) {\n                const coordKey = \"\".concat(p.latitude, \",\").concat(p.longitude);\n                if (coordMap.has(coordKey)) {\n                    coordMap.set(coordKey, coordMap.get(coordKey) + 1);\n                    duplicatedCoords++;\n                } else {\n                    coordMap.set(coordKey, 1);\n                }\n            }\n        });\n        setDataStats({\n            totalProperties: propData.length,\n            invalidCoordinates: missingCoords + zeroCoords + invalidRange,\n            missingCoordinates: missingCoords,\n            zeroCoordinates: zeroCoords,\n            invalidRange: invalidRange,\n            duplicatedLocations: duplicatedCoords,\n            uniqueLocations: coordMap.size\n        });\n    }, []);\n    // Function to load properties with optional bounds filter\n    async function loadProperties() {\n        let bounds = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n        try {\n            setLoading(true);\n            const options = {\n                sortBy: \"created_at\",\n                sortAsc: false,\n                page: 1,\n                pageSize: 1000,\n                filters: {},\n                includeIncomplete: true,\n                includeResearch: true,\n                noLimit: true // Bypass pagination to get all properties\n            };\n            // Apply bounds filter if provided\n            if (bounds) {\n                options.bounds = bounds;\n            }\n            const data = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_4__.fetchProperties)(options);\n            // Calculate statistics\n            calculateStats(data);\n            // Enhanced logging for debugging\n            console.log(\"===== MAP DEBUG =====\");\n            console.log(\"Loaded \".concat(data.length, \" properties for map\"));\n            // Check coordinate validity\n            const validCoords = data.filter((p)=>p.latitude && p.longitude && typeof p.latitude === \"number\" && typeof p.longitude === \"number\" && !(p.latitude === 0 && p.longitude === 0));\n            console.log(\"Properties with valid coordinates: \".concat(validCoords.length));\n            // Check Austin area coordinates\n            const austinCoords = validCoords.filter((p)=>p.latitude >= 29.5 && p.latitude <= 31.0 && p.longitude >= -98.0 && p.longitude <= -97.0);\n            console.log(\"Properties with coordinates in Austin area: \".concat(austinCoords.length));\n            // Look for suspicious patterns\n            const suspiciousCoords = validCoords.filter((p)=>{\n                const latStr = String(p.latitude);\n                const lngStr = String(p.longitude);\n                const hasLowPrecision = latStr.includes(\".\") && latStr.split(\".\")[1].length <= 1 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 1;\n                const hasSuspiciousPattern = latStr === lngStr || latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\");\n                return hasLowPrecision || hasSuspiciousPattern;\n            });\n            console.log(\"Properties with suspicious coordinates: \".concat(suspiciousCoords.length));\n            console.log(\"===== END DEBUG =====\");\n            setProperties(data);\n            setTotalFetched(data.length);\n        } catch (error) {\n            console.error(\"Error fetching properties:\", error);\n        } finally{\n            setLoading(false);\n        }\n    }\n    // Function to handle sidebar state change\n    const handleSidebarStateChange = (state)=>{\n        setSidebarState(state);\n    };\n    // Function to batch geocode properties with missing coordinates\n    async function batchGeocodeProperties() {\n        try {\n            setGeocoding(true);\n            clearGeocodingLogs();\n            setShowGeocodingLogs(true);\n            // Filter properties that need geocoding\n            const propsToGeocode = properties.filter((p)=>!p.latitude || !p.longitude || p.latitude === 0 || p.longitude === 0 || p._coordinates_missing || p._needs_geocoding || p._is_grid_pattern);\n            if (propsToGeocode.length === 0) {\n                addGeocodingLog(\"No properties need geocoding\", \"info\");\n                alert(\"No properties need geocoding\");\n                setGeocoding(false);\n                return;\n            }\n            // Confirm with user\n            addGeocodingLog(\"Found \".concat(propsToGeocode.length, \" properties that need geocoding\"), \"info\");\n            if (!confirm(\"This will attempt to geocode \".concat(propsToGeocode.length, \" properties with missing or invalid coordinates. Continue?\"))) {\n                addGeocodingLog(\"Geocoding cancelled by user\", \"warning\");\n                setGeocoding(false);\n                return;\n            }\n            addGeocodingLog(\"Starting batch geocoding of \".concat(propsToGeocode.length, \" properties\"), \"info\");\n            // Process in batches of 25 to avoid rate limits\n            const batchSize = 25;\n            const batches = Math.ceil(propsToGeocode.length / batchSize);\n            let successCount = 0;\n            let failCount = 0;\n            for(let i = 0; i < batches; i++){\n                const start = i * batchSize;\n                const end = Math.min(start + batchSize, propsToGeocode.length);\n                const batch = propsToGeocode.slice(start, end);\n                addGeocodingLog(\"Processing batch \".concat(i + 1, \"/\").concat(batches, \" (\").concat(batch.length, \" properties)\"), \"info\");\n                console.log(\"Processing batch \".concat(i + 1, \"/\").concat(batches, \" (\").concat(batch.length, \" properties)\"));\n                try {\n                    // For each property in the batch, log the property being processed\n                    batch.forEach((property, idx)=>{\n                        const propertyName = property.name || \"Property #\".concat(property.id);\n                        addGeocodingLog(\"[\".concat(i + 1, \".\").concat(idx + 1, \"] Queuing \").concat(propertyName), \"detail\");\n                    });\n                    const geocodedBatch = await (0,_lib_geocoding__WEBPACK_IMPORTED_MODULE_5__.enhancedGeocodeProperties)(batch, (property, status, details)=>{\n                        // This is a callback that will be called for each property as it's processed\n                        const propertyName = property.name || \"Property #\".concat(property.id);\n                        if (status === \"success\") {\n                            addGeocodingLog(\"Geocoded: \".concat(propertyName, \" (\").concat(details, \")\"), \"success\");\n                        } else if (status === \"error\") {\n                            addGeocodingLog(\"Failed: \".concat(propertyName, \" (\").concat(details, \")\"), \"error\");\n                        } else {\n                            addGeocodingLog(\"\".concat(status, \": \").concat(propertyName, \" \").concat(details ? \"(\".concat(details, \")\") : \"\"), \"info\");\n                        }\n                    });\n                    // Count successes and failures\n                    const batchSuccess = geocodedBatch.filter((p)=>p._geocoded).length;\n                    const batchFail = geocodedBatch.filter((p)=>p._geocoding_failed).length;\n                    successCount += batchSuccess;\n                    failCount += batchFail;\n                    addGeocodingLog(\"Batch \".concat(i + 1, \" complete: \").concat(batchSuccess, \" successes, \").concat(batchFail, \" failures\"), batchSuccess > batchFail ? \"success\" : \"warning\");\n                    // Merge geocoded properties back into the main array\n                    const updatedProperties = [\n                        ...properties\n                    ];\n                    geocodedBatch.forEach((geocodedProp)=>{\n                        const index = updatedProperties.findIndex((p)=>p.id === geocodedProp.id);\n                        if (index !== -1) {\n                            updatedProperties[index] = geocodedProp;\n                        }\n                    });\n                    // Update the properties state\n                    setProperties(updatedProperties);\n                    calculateStats(updatedProperties);\n                    // Wait a bit between batches to avoid rate limits\n                    if (i < batches - 1) {\n                        addGeocodingLog(\"Waiting 2 seconds before next batch to avoid rate limits\", \"info\");\n                        await new Promise((resolve)=>setTimeout(resolve, 2000));\n                    }\n                } catch (error) {\n                    console.error(\"Error geocoding batch \".concat(i + 1, \":\"), error);\n                    addGeocodingLog(\"Error with batch \".concat(i + 1, \": \").concat(error.message), \"error\");\n                    failCount += batch.length;\n                }\n            }\n            addGeocodingLog(\"Geocoding complete: \".concat(successCount, \" successes, \").concat(failCount, \" failures\"), successCount > failCount ? \"success\" : \"error\");\n            alert(\"Geocoding complete:\\n\\n\".concat(successCount, \" properties successfully geocoded\\n\").concat(failCount, \" properties failed to geocode\"));\n        } catch (error) {\n            console.error(\"Error in batch geocoding:\", error);\n            addGeocodingLog(\"Geocoding error: \".concat(error.message), \"error\");\n            alert(\"Error geocoding properties: \".concat(error.message));\n        } finally{\n            setGeocoding(false);\n        }\n    }\n    function runPropertyAnalysis() {\n        // Count properties at identical coordinates\n        const coordMap = new Map();\n        let duplicatedCoords = 0;\n        properties.forEach((p)=>{\n            if (p.latitude && p.longitude) {\n                const coordKey = \"\".concat(p.latitude, \",\").concat(p.longitude);\n                if (coordMap.has(coordKey)) {\n                    coordMap.set(coordKey, coordMap.get(coordKey) + 1);\n                    duplicatedCoords++;\n                } else {\n                    coordMap.set(coordKey, 1);\n                }\n            }\n        });\n        // Find coordinates with multiple properties\n        const multiplePropsLocations = Array.from(coordMap.entries()).filter((param)=>{\n            let [_, count] = param;\n            return count > 1;\n        }).sort((a, b)=>b[1] - a[1]); // Sort by count descending\n        const multiplePropsCount = multiplePropsLocations.reduce((sum, param)=>{\n            let [_, count] = param;\n            return sum + count;\n        }, 0);\n        const uniqueLocations = coordMap.size;\n        // Count by geocoding source if available\n        const bySource = {\n            existing: properties.filter((p)=>p._geocoding_source === \"existing\").length,\n            verified_address: properties.filter((p)=>p._geocoding_source === \"verified_address\").length,\n            full_address: properties.filter((p)=>p._geocoding_source === \"full_address\").length,\n            property_name: properties.filter((p)=>p._geocoding_source === \"property_name\").length,\n            unknown: properties.filter((p)=>p.latitude && p.longitude && !p._geocoding_source).length\n        };\n        alert(\"Map Properties Analysis:\\n\\n\" + \"- Total properties: \".concat(properties.length, \"\\n\") + \"- Properties with invalid coordinates: \".concat(dataStats.invalidCoordinates, \"\\n\") + \"   • Missing coordinates: \".concat(dataStats.missingCoordinates, \"\\n\") + \"   • Zero coordinates: \".concat(dataStats.zeroCoordinates, \"\\n\") + \"   • Invalid coordinate range: \".concat(dataStats.invalidRange, \"\\n\\n\") + \"- Unique locations on map: \".concat(uniqueLocations, \"\\n\") + \"- Properties sharing exact coordinates: \".concat(duplicatedCoords, \"\\n\") + \"- Number of shared locations: \".concat(multiplePropsLocations.length, \"\\n\\n\") + (multiplePropsLocations.length > 0 ? \"Top shared locations:\\n\" + multiplePropsLocations.slice(0, 5).map((param)=>{\n            let [coords, count] = param;\n            return \"   • \".concat(count, \" properties at \").concat(coords);\n        }).join(\"\\n\") : \"\") + \"\\n\\n\" + \"Geocoding sources:\\n\" + \"   • Existing valid: \".concat(bySource.existing, \"\\n\") + \"   • Verified address: \".concat(bySource.verified_address, \"\\n\") + \"   • Full address: \".concat(bySource.full_address, \"\\n\") + \"   • Property name: \".concat(bySource.property_name, \"\\n\") + \"   • Unknown source: \".concat(bySource.unknown, \"\\n\\n\") + \"Note: Properties at identical coordinates will appear as a single marker until clicked.\");\n    }\n    // Function to clean property data\n    async function cleanPropertyData() {\n        try {\n            // Start the cleaning process\n            setLoading(true);\n            setCleaning(true);\n            clearCleaningLogs();\n            setShowCleaningLogs(true);\n            addCleaningLog(\"Starting data cleaning process...\", \"info\");\n            // First, analyze the data to identify issues\n            addCleaningLog(\"Analyzing properties for data quality issues...\", \"info\");\n            const dataIssues = {\n                missingNames: properties.filter((p)=>!p.name || p.name.trim() === \"\").length,\n                incompleteAddresses: properties.filter((p)=>p.address && (!p.city || !p.state)).length,\n                suspiciousZeros: properties.filter((p)=>p.units === 0 || p.num_units === 0).length,\n                suspiciousCoordinates: properties.filter((p)=>{\n                    // Check for suspicious patterns in coordinates\n                    if (!p.latitude || !p.longitude) return false;\n                    const latStr = String(p.latitude);\n                    const lngStr = String(p.longitude);\n                    // Check for very low precision or suspicious patterns\n                    return latStr.includes(\".\") && latStr.split(\".\")[1].length <= 2 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 2 || latStr === lngStr || // Same lat/lng is suspicious\n                    latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\") || latStr.endsWith(\".0\") || lngStr.endsWith(\".0\") || latStr.endsWith(\".5\") || lngStr.endsWith(\".5\");\n                }).length,\n                duplicateNames: findDuplicates(properties, \"name\"),\n                duplicateAddresses: findDuplicates(properties, \"address\"),\n                testProperties: properties.filter((p)=>p.name && p.name.toLowerCase().includes(\"test\") || p.name && p.name.toLowerCase().includes(\"example\") || p.address && p.address.toLowerCase().includes(\"test\") || p._is_test_property).length\n            };\n            const totalIssues = dataIssues.missingNames + dataIssues.incompleteAddresses + dataIssues.suspiciousZeros + dataIssues.suspiciousCoordinates + dataIssues.duplicateNames.length + dataIssues.duplicateAddresses.length + dataIssues.testProperties;\n            // Log analysis results\n            addCleaningLog(\"Analysis found \".concat(totalIssues, \" data quality issues:\"), \"info\");\n            addCleaningLog(\"- \".concat(dataIssues.missingNames, \" properties missing names\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.incompleteAddresses, \" properties with incomplete addresses\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.suspiciousZeros, \" properties with suspicious zero values\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.suspiciousCoordinates, \" properties with suspicious coordinates\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.duplicateNames.length, \" duplicate property names\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.duplicateAddresses.length, \" duplicate addresses\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.testProperties, \" potential test/example properties\"), \"detail\");\n            // No issues found\n            if (totalIssues === 0) {\n                addCleaningLog(\"No data issues found that need cleaning\", \"success\");\n                alert(\"No data issues found that need cleaning\");\n                setLoading(false);\n                setCleaning(false);\n                return;\n            }\n            // Confirm with user\n            const confirmation = confirm(\"Found \".concat(totalIssues, \" data quality issues:\\n\\n\") + \"- \".concat(dataIssues.missingNames, \" properties missing names\\n\") + \"- \".concat(dataIssues.incompleteAddresses, \" properties with incomplete addresses\\n\") + \"- \".concat(dataIssues.suspiciousZeros, \" properties with suspicious zero values\\n\") + \"- \".concat(dataIssues.suspiciousCoordinates, \" properties with suspicious coordinates\\n\") + \"- \".concat(dataIssues.duplicateNames.length, \" duplicate property names\\n\") + \"- \".concat(dataIssues.duplicateAddresses.length, \" duplicate addresses\\n\") + \"- \".concat(dataIssues.testProperties, \" potential test/example properties\\n\\n\") + \"Would you like to clean these issues?\");\n            if (!confirmation) {\n                addCleaningLog(\"Cleaning cancelled by user\", \"warning\");\n                setLoading(false);\n                setCleaning(false);\n                return;\n            }\n            // Optional: offer advanced options\n            const advancedOptions = confirm(\"Would you like to use advanced cleaning options?\\n\\n\" + \"- Fix missing names and extract city/state from addresses\\n\" + \"- Flag suspicious coordinates for geocoding\\n\" + \"- Identify and flag duplicate properties\\n\" + \"- Flag test properties for filtering\\n\\n\" + \"Select 'Cancel' for basic cleaning only.\");\n            addCleaningLog(\"Starting \".concat(advancedOptions ? \"advanced\" : \"basic\", \" cleaning process...\"), \"info\");\n            // Apply fixes to a copy of the properties\n            const cleanedProperties = [\n                ...properties\n            ];\n            // Clean property names\n            let issuesCleaned = 0;\n            addCleaningLog(\"Processing \".concat(properties.length, \" properties...\"), \"info\");\n            properties.forEach((property, index)=>{\n                let propertyCleaned = false;\n                let cleaningNotes = [];\n                // Fix missing names using address\n                if (!property.name || property.name.trim() === \"\") {\n                    if (property.address) {\n                        cleanedProperties[index].name = \"Property at \".concat(property.address.split(\",\")[0]);\n                        addCleaningLog(\"Generated name for property #\".concat(property.id, ': \"').concat(cleanedProperties[index].name, '\"'), \"success\");\n                    } else {\n                        cleanedProperties[index].name = \"Unnamed Property \".concat(property.id.toString().substring(0, 8));\n                        addCleaningLog(\"Generated fallback name for property #\".concat(property.id, ': \"').concat(cleanedProperties[index].name, '\"'), \"success\");\n                    }\n                    propertyCleaned = true;\n                    cleaningNotes.push(\"Missing name fixed\");\n                }\n                // Fix missing city/state if address exists\n                if (property.address && (!property.city || !property.state)) {\n                    // Try to extract city and state from address\n                    const addressParts = property.address.split(\",\").map((p)=>p.trim());\n                    if (addressParts.length >= 2 && !property.city) {\n                        cleanedProperties[index].city = addressParts[addressParts.length - 2];\n                        addCleaningLog('Extracted city \"'.concat(cleanedProperties[index].city, '\" for property #').concat(property.id), \"success\");\n                        propertyCleaned = true;\n                        cleaningNotes.push(\"City extracted from address\");\n                    }\n                    if (addressParts.length >= 1 && !property.state) {\n                        // Try to extract state from the last part of the address\n                        const statePart = addressParts[addressParts.length - 1];\n                        const stateMatch = statePart.match(/[A-Z]{2}/);\n                        if (stateMatch) {\n                            cleanedProperties[index].state = stateMatch[0];\n                            addCleaningLog('Extracted state \"'.concat(cleanedProperties[index].state, '\" for property #').concat(property.id), \"success\");\n                            propertyCleaned = true;\n                            cleaningNotes.push(\"State extracted from address\");\n                        }\n                    }\n                }\n                // Flag suspicious coordinates for advanced cleaning\n                if (advancedOptions) {\n                    const latStr = String(property.latitude || \"\");\n                    const lngStr = String(property.longitude || \"\");\n                    // Check for suspicious patterns in coordinates\n                    const hasLowPrecision = latStr.includes(\".\") && latStr.split(\".\")[1].length <= 2 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 2;\n                    const hasSuspiciousPattern = latStr === lngStr || // Same lat/lng is very unlikely\n                    latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\") || latStr.endsWith(\".0\") || lngStr.endsWith(\".0\") || latStr.endsWith(\".5\") || lngStr.endsWith(\".5\");\n                    if (hasLowPrecision || hasSuspiciousPattern) {\n                        cleanedProperties[index]._is_grid_pattern = true;\n                        cleanedProperties[index]._needs_geocoding = true;\n                        addCleaningLog(\"Flagged suspicious coordinates (\".concat(latStr, \", \").concat(lngStr, \") for property #\").concat(property.id), \"warning\");\n                        propertyCleaned = true;\n                        cleaningNotes.push(\"Flagged suspicious coordinates for geocoding\");\n                    }\n                }\n                // Flag test properties\n                if (property.name && property.name.toLowerCase().includes(\"test\") || property.name && property.name.toLowerCase().includes(\"example\") || property.address && property.address.toLowerCase().includes(\"test\")) {\n                    cleanedProperties[index]._is_test_property = true;\n                    addCleaningLog(\"Flagged test property #\".concat(property.id, ': \"').concat(property.name, '\"'), \"warning\");\n                    propertyCleaned = true;\n                    cleaningNotes.push(\"Flagged as test property\");\n                }\n                // Flag suspicious zeros for advanced cleaning\n                if (advancedOptions && (property.units === 0 || property.num_units === 0)) {\n                    // We'll just flag these for now, manual review is needed\n                    if (!cleanedProperties[index]._data_quality_issues) {\n                        cleanedProperties[index]._data_quality_issues = [];\n                    }\n                    cleanedProperties[index]._data_quality_issues.push(\"zero_units\");\n                    addCleaningLog(\"Flagged zero units for property #\".concat(property.id), \"warning\");\n                    propertyCleaned = true;\n                    cleaningNotes.push(\"Flagged zero units\");\n                }\n                // Update property with cleaning information\n                if (propertyCleaned) {\n                    cleanedProperties[index]._data_cleaned = true;\n                    cleanedProperties[index]._cleaning_notes = cleaningNotes.join(\", \");\n                    issuesCleaned++;\n                }\n            });\n            addCleaningLog(\"Finished processing. Cleaned \".concat(issuesCleaned, \" properties.\"), \"success\");\n            // Update state with cleaned properties\n            addCleaningLog(\"Updating property data with cleaned values...\", \"info\");\n            setProperties(cleanedProperties);\n            calculateStats(cleanedProperties);\n            // Alert user of results\n            addCleaningLog(\"Data cleaning complete!\", \"success\");\n            alert(\"Data cleaning complete!\\n\\n\" + \"- \".concat(issuesCleaned, \" properties were cleaned\\n\") + \"- Added names to \".concat(dataIssues.missingNames, \" properties\\n\") + \"- Extracted city/state for \".concat(dataIssues.incompleteAddresses, \" properties\\n\") + \"- Flagged \".concat(dataIssues.suspiciousCoordinates, \" suspicious coordinates for geocoding\\n\") + \"- Identified \".concat(dataIssues.duplicateNames.length, \" duplicate names\\n\") + \"- Flagged \".concat(dataIssues.testProperties, \" test properties\\n\\n\") + \"Next steps:\\n\" + '1. Use \"Batch Geocode\" to fix flagged coordinates\\n' + '2. Use \"Properties Analysis\" to review data quality\\n' + \"3. Some properties still require manual review\");\n        } catch (error) {\n            console.error(\"Error cleaning property data:\", error);\n            addCleaningLog(\"Error: \".concat(error.message), \"error\");\n            alert(\"Error cleaning data: \".concat(error.message));\n        } finally{\n            setLoading(false);\n            setCleaning(false);\n        }\n    }\n    // Helper function to find duplicates in properties by field\n    function findDuplicates(array, key) {\n        const counts = {};\n        const duplicates = [];\n        // Skip entries with empty values\n        array.forEach((item)=>{\n            if (item[key] && item[key].trim() !== \"\") {\n                const value = item[key].toLowerCase().trim();\n                counts[value] = (counts[value] || 0) + 1;\n            }\n        });\n        // Find values that appear more than once\n        Object.keys(counts).forEach((value)=>{\n            if (counts[value] > 1) {\n                duplicates.push({\n                    value,\n                    count: counts[value]\n                });\n            }\n        });\n        return duplicates;\n    }\n    // Function to enrich property data with zero values\n    async function enrichPropertyData() {\n        try {\n            setLoading(true);\n            setEnriching(true);\n            clearEnrichingLogs();\n            setShowEnrichingLogs(true);\n            addEnrichingLog(\"Starting data enrichment process...\", \"info\");\n            // Identify properties with suspicious zero values\n            addEnrichingLog(\"Analyzing properties for suspicious zero values...\", \"info\");\n            const suspiciousProperties = properties.filter((p)=>p.units === 0 || p.num_units === 0);\n            if (suspiciousProperties.length === 0) {\n                addEnrichingLog(\"No properties with suspicious zero values found\", \"success\");\n                alert(\"No properties with suspicious zero values found\");\n                setLoading(false);\n                setEnriching(false);\n                return;\n            }\n            addEnrichingLog(\"Found \".concat(suspiciousProperties.length, \" properties with suspicious zero values:\"), \"info\");\n            addEnrichingLog(\"- \".concat(suspiciousProperties.filter((p)=>p.units === 0).length, \" properties with zero units\"), \"detail\");\n            addEnrichingLog(\"- \".concat(suspiciousProperties.filter((p)=>p.num_units === 0).length, \" properties with zero units\"), \"detail\");\n            // Confirm with user\n            const confirmation = confirm(\"Found \".concat(suspiciousProperties.length, \" properties with suspicious zero values:\\n\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.units === 0).length, \" properties with zero units\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.num_units === 0).length, \" properties with zero units\\n\\n\") + \"Would you like to attempt to enrich these properties?\");\n            if (!confirmation) {\n                addEnrichingLog(\"Enrichment cancelled by user\", \"warning\");\n                setLoading(false);\n                setEnriching(false);\n                return;\n            }\n            // Make a copy of the properties for enrichment\n            const enrichedProperties = [\n                ...properties\n            ];\n            let enrichedCount = 0;\n            // Analyze collections of similar properties to derive estimates\n            addEnrichingLog(\"Analyzing property data for statistical enrichment...\", \"info\");\n            // Group properties by city/state for better comparison\n            const cityStateGroups = {};\n            properties.forEach((p)=>{\n                if (p.city && p.state && p.price && p.price > 0 && (p.units > 0 || p.num_units > 0)) {\n                    const key = \"\".concat(p.city.toLowerCase(), \",\").concat(p.state.toLowerCase());\n                    if (!cityStateGroups[key]) {\n                        cityStateGroups[key] = [];\n                    }\n                    cityStateGroups[key].push(p);\n                }\n            });\n            // Calculate median values per city/state\n            const medianValues = {};\n            Object.keys(cityStateGroups).forEach((key)=>{\n                const group = cityStateGroups[key];\n                if (group.length >= 3) {\n                    // Calculate median price per unit\n                    const pricesPerUnit = group.map((p)=>{\n                        const units = p.units || p.num_units || 0;\n                        return units > 0 ? p.price / units : 0;\n                    }).filter((v)=>v > 0).sort((a, b)=>a - b);\n                    const medianPricePerUnit = pricesPerUnit[Math.floor(pricesPerUnit.length / 2)];\n                    // Calculate median year built\n                    const yearBuilt = group.map((p)=>p.year_built).filter((y)=>y && y > 1900).sort((a, b)=>a - b);\n                    const medianYearBuilt = yearBuilt.length > 0 ? yearBuilt[Math.floor(yearBuilt.length / 2)] : null;\n                    medianValues[key] = {\n                        medianPricePerUnit,\n                        medianYearBuilt,\n                        sampleSize: group.length\n                    };\n                    addEnrichingLog(\"Group \".concat(key, \": \").concat(group.length, \" properties, $\").concat(Math.round(medianPricePerUnit).toLocaleString(), \"/unit\"), \"detail\");\n                }\n            });\n            addEnrichingLog(\"Created \".concat(Object.keys(medianValues).length, \" statistical groups for comparison\"), \"info\");\n            addEnrichingLog(\"Starting to process \".concat(suspiciousProperties.length, \" properties with zero values...\"), \"info\");\n            // Enrich properties with suspicious zero values\n            suspiciousProperties.forEach((property)=>{\n                const index = enrichedProperties.findIndex((p)=>p.id === property.id);\n                if (index === -1) return;\n                let isEnriched = false;\n                let enrichmentNotes = [];\n                // Find the best reference group for this property\n                let referenceGroup = null;\n                let referenceKey = null;\n                if (property.city && property.state) {\n                    const key = \"\".concat(property.city.toLowerCase(), \",\").concat(property.state.toLowerCase());\n                    if (medianValues[key]) {\n                        referenceGroup = medianValues[key];\n                        referenceKey = key;\n                        addEnrichingLog(\"Property #\".concat(property.id, \": Found exact city/state match (\").concat(key, \")\"), \"detail\");\n                    }\n                }\n                // If no direct city/state match, use the closest geographically or a general average\n                if (!referenceGroup) {\n                    // Fall back to state-level data or general average\n                    if (property.state) {\n                        const stateGroups = Object.keys(medianValues).filter((key)=>key.endsWith(\",\".concat(property.state.toLowerCase())));\n                        if (stateGroups.length > 0) {\n                            // Use the largest sample from the state\n                            referenceKey = stateGroups.sort((a, b)=>medianValues[b].sampleSize - medianValues[a].sampleSize)[0];\n                            referenceGroup = medianValues[referenceKey];\n                            addEnrichingLog(\"Property #\".concat(property.id, \": Found state-level match (\").concat(referenceKey, \")\"), \"detail\");\n                        }\n                    }\n                    // If still no match, use the overall average\n                    if (!referenceGroup) {\n                        const allPricesPerUnit = properties.filter((p)=>p.price && p.price > 0 && (p.units > 0 || p.num_units > 0)).map((p)=>p.price / (p.units || p.num_units)).sort((a, b)=>a - b);\n                        if (allPricesPerUnit.length > 0) {\n                            referenceGroup = {\n                                medianPricePerUnit: allPricesPerUnit[Math.floor(allPricesPerUnit.length / 2)],\n                                medianYearBuilt: null,\n                                sampleSize: allPricesPerUnit.length\n                            };\n                            referenceKey = \"all_properties\";\n                            addEnrichingLog(\"Property #\".concat(property.id, \": Using global average (\").concat(allPricesPerUnit.length, \" properties)\"), \"detail\");\n                        }\n                    }\n                }\n                // Calculate missing values\n                if (referenceGroup) {\n                    // Fix zero units if price is available\n                    if ((property.units === 0 || !property.units) && (property.num_units === 0 || !property.num_units) && property.price > 0 && referenceGroup.medianPricePerUnit > 0) {\n                        const estimatedUnits = Math.round(property.price / referenceGroup.medianPricePerUnit);\n                        enrichedProperties[index].units = estimatedUnits;\n                        enrichedProperties[index].num_units = estimatedUnits;\n                        addEnrichingLog(\"Property #\".concat(property.id, \": Estimated \").concat(estimatedUnits, \" units based on $\").concat(property.price.toLocaleString(), \" price\"), \"success\");\n                        isEnriched = true;\n                        enrichmentNotes.push(\"Estimated \".concat(estimatedUnits, \" units based on price and \").concat(referenceKey, \" median\"));\n                    }\n                    // Add missing year built if we have a reference\n                    if ((!property.year_built || property.year_built < 1900) && referenceGroup.medianYearBuilt) {\n                        enrichedProperties[index].year_built = referenceGroup.medianYearBuilt;\n                        addEnrichingLog(\"Property #\".concat(property.id, \": Estimated year built as \").concat(referenceGroup.medianYearBuilt), \"success\");\n                        isEnriched = true;\n                        enrichmentNotes.push(\"Estimated year built as \".concat(referenceGroup.medianYearBuilt, \" based on \").concat(referenceKey, \" median\"));\n                    }\n                }\n                // Flag property as needing human review if we couldn't enrich it\n                if (!isEnriched) {\n                    // Mark as needing manual review\n                    if (!enrichedProperties[index]._data_quality_issues) {\n                        enrichedProperties[index]._data_quality_issues = [];\n                    }\n                    enrichedProperties[index]._data_quality_issues.push(\"needs_manual_review\");\n                    addEnrichingLog(\"Property #\".concat(property.id, \": Insufficient data for enrichment, marked for manual review\"), \"warning\");\n                    isEnriched = true;\n                    enrichmentNotes.push(\"Marked for manual review - insufficient data to make estimates\");\n                }\n                // Update property with enrichment information\n                if (isEnriched) {\n                    enrichedProperties[index]._data_enriched = true;\n                    enrichedProperties[index]._enrichment_notes = enrichmentNotes.join(\", \");\n                    enrichedCount++;\n                }\n            });\n            addEnrichingLog(\"Enrichment processing complete. Enriched \".concat(enrichedCount, \" properties.\"), \"success\");\n            // Update state with enriched properties\n            addEnrichingLog(\"Updating property data with enriched values...\", \"info\");\n            setProperties(enrichedProperties);\n            calculateStats(enrichedProperties);\n            // Alert user of results\n            addEnrichingLog(\"Data enrichment complete!\", \"success\");\n            alert(\"Data enrichment complete!\\n\\n\" + \"- \".concat(enrichedCount, \" properties were enriched or marked for review\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.units === 0).length, \" properties with zero units processed\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.num_units === 0).length, \" properties with zero units processed\\n\\n\") + \"Next steps:\\n\" + \"1. Review the enriched data for accuracy\\n\" + \"2. Properties marked for manual review need human attention\\n\" + '3. Use \"Properties Analysis\" to verify data quality');\n        } catch (error) {\n            console.error(\"Error enriching property data:\", error);\n            addEnrichingLog(\"Error: \".concat(error.message), \"error\");\n            alert(\"Error enriching data: \".concat(error.message));\n        } finally{\n            setLoading(false);\n            setEnriching(false);\n        }\n    }\n    // Function to add a log entry with timestamp\n    const addGeocodingLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"info\";\n        const timestamp = new Date().toLocaleTimeString();\n        setGeocodingLogs((prevLogs)=>[\n                {\n                    message,\n                    timestamp,\n                    type\n                },\n                ...prevLogs.slice(0, 99) // Keep only the last 100 logs\n            ]);\n    }, []);\n    // Clear logs when starting new geocoding process\n    const clearGeocodingLogs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setGeocodingLogs([]);\n    }, []);\n    // Function to add a cleaning log entry with timestamp\n    const addCleaningLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"info\";\n        const timestamp = new Date().toLocaleTimeString();\n        setCleaningLogs((prevLogs)=>[\n                {\n                    message,\n                    timestamp,\n                    type\n                },\n                ...prevLogs.slice(0, 99) // Keep only the last 100 logs\n            ]);\n    }, []);\n    // Clear logs when starting new cleaning process\n    const clearCleaningLogs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setCleaningLogs([]);\n    }, []);\n    // Function to add an enrichment log entry with timestamp\n    const addEnrichingLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"info\";\n        const timestamp = new Date().toLocaleTimeString();\n        setEnrichingLogs((prevLogs)=>[\n                {\n                    message,\n                    timestamp,\n                    type\n                },\n                ...prevLogs.slice(0, 99) // Keep only the last 100 logs\n            ]);\n    }, []);\n    // Clear logs when starting new enrichment process\n    const clearEnrichingLogs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setEnrichingLogs([]);\n    }, []);\n    // Handle property selection\n    const handlePropertySelect = (property)=>{\n        // For non-authenticated users, show login prompt when selecting a property\n        if (!user && property) {\n            setSelectedProperty(null);\n            return;\n        }\n        setSelectedProperty(property);\n        if (property) {\n            setShowDetails(true);\n        // Update URL with property ID for sharing\n        // ... existing code ...\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_Layout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Property Map | Acquire Apartments\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative bg-white min-h-screen\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col h-[calc(100vh-4rem)] overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"container mx-auto px-4 py-4 flex-shrink-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-2xl font-bold text-gray-800\",\n                                children: \"Map View\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1054,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600\",\n                                children: \"Browse properties on the map or use filters to refine your search\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1055,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1053,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-grow flex\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-shrink-0 transition-all duration-300 \".concat(sidebarState === \"collapsed\" ? \"w-12\" : sidebarState === \"fullscreen\" ? \"w-full\" : \"w-full md:w-1/3 lg:w-1/4\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-4\",\n                                    children: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(()=>__webpack_require__.e(/*! import() */ \"src_components_PropertySidebar_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../src/components/PropertySidebar */ \"./src/components/PropertySidebar.tsx\")), {\n                                        loadableGenerated: {\n                                            modules: [\n                                                \"map.js -> \" + \"../src/components/PropertySidebar\"\n                                            ]\n                                        }\n                                    }), {\n                                        properties,\n                                        selectedProperty,\n                                        setSelectedProperty,\n                                        loading,\n                                        sidebarState,\n                                        onSidebarStateChange: handleSidebarStateChange\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 1065,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1060,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-grow transition-all duration-300 \".concat(sidebarState === \"fullscreen\" ? \"hidden\" : \"block\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full rounded-lg shadow overflow-hidden\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapComponent, {\n                                        properties: user ? properties : sampleProperties,\n                                        selectedProperty: selectedProperty,\n                                        onPropertySelect: handlePropertySelect,\n                                        onBoundsChange: handleBoundsChange\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1082,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 1081,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1078,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1058,\n                        columnNumber: 11\n                    }, this),\n                    showGeocodingLogs && geocodingLogs.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-4 right-4 w-96 max-h-64 bg-white rounded-lg shadow-lg overflow-auto p-4 z-50\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold\",\n                                        children: \"Geocoding Logs\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1096,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowGeocodingLogs(false),\n                                        className: \"text-gray-500 hover:text-gray-700\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-5 h-5\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M6 18L18 6M6 6l12 12\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                lineNumber: 1099,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 1098,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1097,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1095,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: geocodingLogs.map((log, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm p-1 \".concat(log.type === \"error\" ? \"text-red-600\" : log.type === \"warning\" ? \"text-amber-600\" : log.type === \"success\" ? \"text-green-600\" : \"text-gray-600\"),\n                                        children: log.message\n                                    }, index, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1105,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1103,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1094,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 1052,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n            lineNumber: 1051,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n        lineNumber: 1050,\n        columnNumber: 5\n    }, this);\n}\n_s1(MapPage, \"n+kg7nqTdQHQ8gfNiM8v5CmpEXg=\", false, function() {\n    return [\n        _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth\n    ];\n});\n_c2 = MapPage;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"MapComponent\");\n$RefreshReg$(_c1, \"LoginGate\");\n$RefreshReg$(_c2, \"MapPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9tYXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdFO0FBQzdCO0FBQ1c7QUFDSTtBQUNXO0FBQ1A7QUFDekI7QUFFN0Isd0VBQXdFO0FBQ3hFLE1BQU1VLGVBQWVOLG1EQUFPQSxDQUMxQixJQUFNLHVNQUFPOzs7Ozs7SUFDWE8sS0FBSzs7S0FGSEQ7QUFLTix1RUFBdUU7QUFDdkUsTUFBTUUsWUFBWTtRQUFDLEVBQUVDLFFBQVEsRUFBRTs7SUFDN0IsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRSxHQUFHUCxrRUFBT0E7SUFFakMsbURBQW1EO0lBQ25ELElBQUlPLFNBQVM7UUFDWCxxQkFDRSw4REFBQ0M7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0Q7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0M7NEJBQ0NELFdBQVU7NEJBQ1ZFLE9BQU07NEJBQ05DLE1BQUs7NEJBQ0xDLFNBQVE7OzhDQUVSLDhEQUFDQztvQ0FDQ0wsV0FBVTtvQ0FDVk0sSUFBRztvQ0FDSEMsSUFBRztvQ0FDSEMsR0FBRTtvQ0FDRkMsUUFBTztvQ0FDUEMsYUFBWTs7Ozs7OzhDQUVkLDhEQUFDQztvQ0FDQ1gsV0FBVTtvQ0FDVkcsTUFBSztvQ0FDTFMsR0FBRTs7Ozs7Ozs7Ozs7O3NDQUdOLDhEQUFDQzs0QkFBRWIsV0FBVTtzQ0FBcUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFLNUM7SUFFQSw2Q0FBNkM7SUFDN0MsSUFBSUgsTUFBTTtRQUNSLHFCQUFPO3NCQUFHRDs7SUFDWjtJQUVBLCtEQUErRDtJQUMvRCxxQkFDRSw4REFBQ0c7UUFBSUMsV0FBVTs7MEJBRWIsOERBQUNEO2dCQUFJQyxXQUFVOzBCQUNaSjs7Ozs7OzBCQUlILDhEQUFDRztnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNDO29DQUNDQyxPQUFNO29DQUNORixXQUFVO29DQUNWRyxNQUFLO29DQUNMQyxTQUFRO29DQUNSSyxRQUFPOzhDQUVQLDRFQUFDRTt3Q0FDQ0csZUFBYzt3Q0FDZEMsZ0JBQWU7d0NBQ2ZMLGFBQWE7d0NBQ2JFLEdBQUU7Ozs7Ozs7Ozs7OzhDQUdOLDhEQUFDSTtvQ0FBR2hCLFdBQVU7OENBQW1EOzs7Ozs7OENBQ2pFLDhEQUFDYTtvQ0FBRWIsV0FBVTs4Q0FBd0M7Ozs7Ozs7Ozs7OztzQ0FLdkQsOERBQUNEOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ1Isa0RBQUlBO29DQUFDeUIsTUFBSzs4Q0FDVCw0RUFBQ0M7d0NBQUVsQixXQUFVO2tEQUFvSTs7Ozs7Ozs7Ozs7OENBSW5KLDhEQUFDUixrREFBSUE7b0NBQUN5QixNQUFLOzhDQUNULDRFQUFDQzt3Q0FBRWxCLFdBQVU7a0RBQXlNOzs7Ozs7Ozs7Ozs4Q0FJeE4sOERBQUNEO29DQUFJQyxXQUFVOztzREFDYiw4REFBQ2E7c0RBQUU7Ozs7OztzREFDSCw4REFBQ007NENBQUduQixXQUFVOzs4REFDWiw4REFBQ29COzhEQUFHOzs7Ozs7OERBQ0osOERBQUNBOzhEQUFHOzs7Ozs7OERBQ0osOERBQUNBOzhEQUFHOzs7Ozs7OERBQ0osOERBQUNBOzhEQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVFwQjtHQWxHTXpCOztRQUNzQkosOERBQU9BOzs7TUFEN0JJO0FBb0dTLFNBQVMwQjs7SUFDdEIsTUFBTSxDQUFDQyxZQUFZQyxjQUFjLEdBQUd2QywrQ0FBUUEsQ0FBQyxFQUFFO0lBQy9DLE1BQU0sQ0FBQ3dDLGtCQUFrQkMsb0JBQW9CLEdBQUd6QywrQ0FBUUEsQ0FBQyxFQUFFO0lBQzNELE1BQU0sQ0FBQzBDLGtCQUFrQkMsb0JBQW9CLEdBQUczQywrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNLENBQUNjLFNBQVM4QixXQUFXLEdBQUc1QywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUM2QyxXQUFXQyxhQUFhLEdBQUc5QywrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUMrQyxlQUFlQyxpQkFBaUIsR0FBR2hELCtDQUFRQSxDQUFDLEVBQUU7SUFDckQsTUFBTSxDQUFDaUQsbUJBQW1CQyxxQkFBcUIsR0FBR2xELCtDQUFRQSxDQUFDO0lBQzNELE1BQU0sQ0FBQ21ELFVBQVVDLFlBQVksR0FBR3BELCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ3FELGNBQWNDLGdCQUFnQixHQUFHdEQsK0NBQVFBLENBQUMsRUFBRTtJQUNuRCxNQUFNLENBQUN1RCxrQkFBa0JDLG9CQUFvQixHQUFHeEQsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDeUQsV0FBV0MsYUFBYSxHQUFHMUQsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDMkQsZUFBZUMsaUJBQWlCLEdBQUc1RCwrQ0FBUUEsQ0FBQyxFQUFFO0lBQ3JELE1BQU0sQ0FBQzZELG1CQUFtQkMscUJBQXFCLEdBQUc5RCwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUMrRCxXQUFXQyxhQUFhLEdBQUdoRSwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNpRSxjQUFjQyxnQkFBZ0IsR0FBR2xFLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ21FLGNBQWNDLGdCQUFnQixHQUFHcEUsK0NBQVFBLENBQUMsU0FBUyx1Q0FBdUM7SUFDakcsTUFBTSxDQUFDcUUsV0FBV0MsYUFBYSxHQUFHdEUsK0NBQVFBLENBQUM7UUFDekN1RSxpQkFBaUI7UUFDakJDLG9CQUFvQjtRQUNwQkMsb0JBQW9CO1FBQ3BCQyxpQkFBaUI7UUFDakJDLGNBQWM7UUFDZEMscUJBQXFCO0lBQ3ZCO0lBRUEsTUFBTSxFQUFFL0QsSUFBSSxFQUFFLEdBQUdOLGtFQUFPQTtJQUV4QixxREFBcUQ7SUFDckROLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTTRFLHVCQUF1QjtZQUMzQixJQUFJLENBQUNoRSxNQUFNO2dCQUNULElBQUk7b0JBQ0Ysd0RBQXdEO29CQUN4RCxNQUFNaUUsT0FBTyxNQUFNekUsOERBQWVBLENBQUM7d0JBQ2pDMEUsTUFBTTt3QkFDTkMsVUFBVTt3QkFDVkMsUUFBUTt3QkFDUkMsU0FBUzt3QkFDVEMsbUJBQW1CO3dCQUNuQkMsaUJBQWlCO3dCQUNqQkMsU0FBUyxDQUFDO3dCQUNWQyxTQUFTO3dCQUNUQyxRQUFRO29CQUNWO29CQUVBLGlDQUFpQztvQkFDakMsTUFBTUMsbUJBQW1CVixLQUFLVyxHQUFHLENBQUNDLENBQUFBLFdBQWE7NEJBQzdDLEdBQUdBLFFBQVE7NEJBQ1hDLE1BQU1ELFNBQVNDLElBQUksR0FBRyxHQUFpQixPQUFkRCxTQUFTQyxJQUFJLEVBQUMsZUFBYTs0QkFDcERDLFdBQVc7d0JBQ2I7b0JBRUFuRCxvQkFBb0IrQztnQkFDdEIsRUFBRSxPQUFPSyxPQUFPO29CQUNkQyxRQUFRRCxLQUFLLENBQUMsb0NBQW9DQTtnQkFDcEQ7WUFDRjtRQUNGO1FBRUFoQjtJQUNGLEdBQUc7UUFBQ2hFO0tBQUs7SUFFVCxxQ0FBcUM7SUFDckNaLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSVksTUFBTTtZQUNSa0Y7UUFDRjtJQUNGLEdBQUc7UUFBQ2xGO0tBQUs7SUFFVCwyQ0FBMkM7SUFDM0NaLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSThELFdBQVc7WUFDYitCLFFBQVFFLEdBQUcsQ0FBQztZQUNaRCxlQUFlaEM7UUFDakI7SUFDRixHQUFHO1FBQUNBO0tBQVU7SUFFZCw0QkFBNEI7SUFDNUIsTUFBTWtDLHFCQUFxQi9GLGtEQUFXQSxDQUFDLENBQUNxRjtRQUN0Q3ZCLGFBQWF1QjtJQUNmLEdBQUcsRUFBRTtJQUVMLCtDQUErQztJQUMvQyxNQUFNVyxpQkFBaUJoRyxrREFBV0EsQ0FBQyxDQUFDaUc7UUFDbEMsSUFBSSxDQUFDQSxZQUFZLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0YsV0FBVztRQUUzQyxNQUFNRyxnQkFBZ0JILFNBQVNJLE1BQU0sQ0FBQzFFLENBQUFBLElBQUssQ0FBQ0EsRUFBRTJFLFFBQVEsSUFBSSxDQUFDM0UsRUFBRTRFLFNBQVMsRUFBRUMsTUFBTTtRQUM5RSxNQUFNQyxhQUFhUixTQUFTSSxNQUFNLENBQUMxRSxDQUFBQSxJQUFLQSxFQUFFMkUsUUFBUSxLQUFLLEtBQUszRSxFQUFFNEUsU0FBUyxLQUFLLEdBQUdDLE1BQU07UUFDckYsTUFBTS9CLGVBQWV3QixTQUFTSSxNQUFNLENBQUMxRSxDQUFBQTtZQUNuQyxJQUFJLENBQUNBLEVBQUUyRSxRQUFRLElBQUksQ0FBQzNFLEVBQUU0RSxTQUFTLEVBQUUsT0FBTztZQUN4QyxNQUFNRyxNQUFNLE9BQU8vRSxFQUFFMkUsUUFBUSxLQUFLLFdBQVczRSxFQUFFMkUsUUFBUSxHQUFHSyxXQUFXQyxPQUFPakYsRUFBRTJFLFFBQVE7WUFDdEYsTUFBTU8sTUFBTSxPQUFPbEYsRUFBRTRFLFNBQVMsS0FBSyxXQUFXNUUsRUFBRTRFLFNBQVMsR0FBR0ksV0FBV0MsT0FBT2pGLEVBQUU0RSxTQUFTO1lBQ3pGLE9BQVFPLE1BQU1KLFFBQVFJLE1BQU1ELFFBQVFILE1BQU0sQ0FBQyxNQUFNQSxNQUFNLE1BQU1HLE1BQU0sQ0FBQyxPQUFPQSxNQUFNO1FBQ25GLEdBQUdMLE1BQU07UUFFVCw0Q0FBNEM7UUFDNUMsTUFBTU8sV0FBVyxJQUFJQztRQUNyQixJQUFJQyxtQkFBbUI7UUFFdkJoQixTQUFTaUIsT0FBTyxDQUFDdkYsQ0FBQUE7WUFDZixJQUFJQSxFQUFFMkUsUUFBUSxJQUFJM0UsRUFBRTRFLFNBQVMsRUFBRTtnQkFDN0IsTUFBTVksV0FBVyxHQUFpQnhGLE9BQWRBLEVBQUUyRSxRQUFRLEVBQUMsS0FBZSxPQUFaM0UsRUFBRTRFLFNBQVM7Z0JBQzdDLElBQUlRLFNBQVNLLEdBQUcsQ0FBQ0QsV0FBVztvQkFDMUJKLFNBQVNNLEdBQUcsQ0FBQ0YsVUFBVUosU0FBU08sR0FBRyxDQUFDSCxZQUFZO29CQUNoREY7Z0JBQ0YsT0FBTztvQkFDTEYsU0FBU00sR0FBRyxDQUFDRixVQUFVO2dCQUN6QjtZQUNGO1FBQ0Y7UUFFQS9DLGFBQWE7WUFDWEMsaUJBQWlCNEIsU0FBU08sTUFBTTtZQUNoQ2xDLG9CQUFvQjhCLGdCQUFnQkssYUFBYWhDO1lBQ2pERixvQkFBb0I2QjtZQUNwQjVCLGlCQUFpQmlDO1lBQ2pCaEMsY0FBY0E7WUFDZEMscUJBQXFCdUM7WUFDckJNLGlCQUFpQlIsU0FBU1MsSUFBSTtRQUNoQztJQUNGLEdBQUcsRUFBRTtJQUVMLDBEQUEwRDtJQUMxRCxlQUFlM0I7WUFBZVIsU0FBQUEsaUVBQVM7UUFDckMsSUFBSTtZQUNGM0MsV0FBVztZQUNYLE1BQU0rRSxVQUFVO2dCQUNkMUMsUUFBUTtnQkFDUkMsU0FBUztnQkFDVEgsTUFBTTtnQkFDTkMsVUFBVTtnQkFDVkssU0FBUyxDQUFDO2dCQUNWRixtQkFBbUI7Z0JBQ25CQyxpQkFBaUI7Z0JBQ2pCRSxTQUFTLEtBQUssMENBQTBDO1lBQzFEO1lBRUEsa0NBQWtDO1lBQ2xDLElBQUlDLFFBQVE7Z0JBQ1ZvQyxRQUFRcEMsTUFBTSxHQUFHQTtZQUNuQjtZQUVBLE1BQU1ULE9BQU8sTUFBTXpFLDhEQUFlQSxDQUFDc0g7WUFFbkMsdUJBQXVCO1lBQ3ZCekIsZUFBZXBCO1lBRWYsaUNBQWlDO1lBQ2pDZ0IsUUFBUUUsR0FBRyxDQUFFO1lBQ2JGLFFBQVFFLEdBQUcsQ0FBQyxVQUFzQixPQUFabEIsS0FBSzRCLE1BQU0sRUFBQztZQUVsQyw0QkFBNEI7WUFDNUIsTUFBTWtCLGNBQWM5QyxLQUFLeUIsTUFBTSxDQUFDMUUsQ0FBQUEsSUFDOUJBLEVBQUUyRSxRQUFRLElBQ1YzRSxFQUFFNEUsU0FBUyxJQUNYLE9BQU81RSxFQUFFMkUsUUFBUSxLQUFLLFlBQ3RCLE9BQU8zRSxFQUFFNEUsU0FBUyxLQUFLLFlBQ3ZCLENBQUU1RSxDQUFBQSxFQUFFMkUsUUFBUSxLQUFLLEtBQUszRSxFQUFFNEUsU0FBUyxLQUFLO1lBRXhDWCxRQUFRRSxHQUFHLENBQUMsc0NBQXlELE9BQW5CNEIsWUFBWWxCLE1BQU07WUFFcEUsZ0NBQWdDO1lBQ2hDLE1BQU1tQixlQUFlRCxZQUFZckIsTUFBTSxDQUFDMUUsQ0FBQUEsSUFDdENBLEVBQUUyRSxRQUFRLElBQUksUUFBUTNFLEVBQUUyRSxRQUFRLElBQUksUUFDcEMzRSxFQUFFNEUsU0FBUyxJQUFJLENBQUMsUUFBUTVFLEVBQUU0RSxTQUFTLElBQUksQ0FBQztZQUUxQ1gsUUFBUUUsR0FBRyxDQUFDLCtDQUFtRSxPQUFwQjZCLGFBQWFuQixNQUFNO1lBRTlFLCtCQUErQjtZQUMvQixNQUFNb0IsbUJBQW1CRixZQUFZckIsTUFBTSxDQUFDMUUsQ0FBQUE7Z0JBQzFDLE1BQU1rRyxTQUFTakIsT0FBT2pGLEVBQUUyRSxRQUFRO2dCQUNoQyxNQUFNd0IsU0FBU2xCLE9BQU9qRixFQUFFNEUsU0FBUztnQkFDakMsTUFBTXdCLGtCQUNKLE9BQVFDLFFBQVEsQ0FBQyxRQUFRSCxPQUFPSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQ3pCLE1BQU0sSUFBSSxLQUN2RHNCLE9BQU9FLFFBQVEsQ0FBQyxRQUFRRixPQUFPRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQ3pCLE1BQU0sSUFBSTtnQkFDMUQsTUFBTTBCLHVCQUNKTCxXQUFXQyxVQUNYRCxPQUFPTSxRQUFRLENBQUMsWUFDaEJMLE9BQU9LLFFBQVEsQ0FBQztnQkFDbEIsT0FBT0osbUJBQW1CRztZQUM1QjtZQUNBdEMsUUFBUUUsR0FBRyxDQUFDLDJDQUFtRSxPQUF4QjhCLGlCQUFpQnBCLE1BQU07WUFDOUVaLFFBQVFFLEdBQUcsQ0FBRTtZQUViekQsY0FBY3VDO1lBQ2RaLGdCQUFnQlksS0FBSzRCLE1BQU07UUFDN0IsRUFBRSxPQUFPYixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1FBQzlDLFNBQVU7WUFDUmpELFdBQVc7UUFDYjtJQUNGO0lBRUEsMENBQTBDO0lBQzFDLE1BQU0wRiwyQkFBMkIsQ0FBQ0M7UUFDaENuRSxnQkFBZ0JtRTtJQUNsQjtJQUVBLGdFQUFnRTtJQUNoRSxlQUFlQztRQUNiLElBQUk7WUFDRjFGLGFBQWE7WUFDYjJGO1lBQ0F2RixxQkFBcUI7WUFFckIsd0NBQXdDO1lBQ3hDLE1BQU13RixpQkFBaUJwRyxXQUFXaUUsTUFBTSxDQUFDMUUsQ0FBQUEsSUFDdkMsQ0FBQ0EsRUFBRTJFLFFBQVEsSUFBSSxDQUFDM0UsRUFBRTRFLFNBQVMsSUFDM0I1RSxFQUFFMkUsUUFBUSxLQUFLLEtBQUszRSxFQUFFNEUsU0FBUyxLQUFLLEtBQ3BDNUUsRUFBRThHLG9CQUFvQixJQUFJOUcsRUFBRStHLGdCQUFnQixJQUM1Qy9HLEVBQUVnSCxnQkFBZ0I7WUFHcEIsSUFBSUgsZUFBZWhDLE1BQU0sS0FBSyxHQUFHO2dCQUMvQm9DLGdCQUFnQixnQ0FBZ0M7Z0JBQ2hEQyxNQUFNO2dCQUNOakcsYUFBYTtnQkFDYjtZQUNGO1lBRUEsb0JBQW9CO1lBQ3BCZ0csZ0JBQWdCLFNBQStCLE9BQXRCSixlQUFlaEMsTUFBTSxFQUFDLG9DQUFrQztZQUNqRixJQUFJLENBQUNzQyxRQUFRLGdDQUFzRCxPQUF0Qk4sZUFBZWhDLE1BQU0sRUFBQyxnRUFBOEQ7Z0JBQy9Ib0MsZ0JBQWdCLCtCQUErQjtnQkFDL0NoRyxhQUFhO2dCQUNiO1lBQ0Y7WUFFQWdHLGdCQUFnQiwrQkFBcUQsT0FBdEJKLGVBQWVoQyxNQUFNLEVBQUMsZ0JBQWM7WUFFbkYsZ0RBQWdEO1lBQ2hELE1BQU11QyxZQUFZO1lBQ2xCLE1BQU1DLFVBQVVDLEtBQUtDLElBQUksQ0FBQ1YsZUFBZWhDLE1BQU0sR0FBR3VDO1lBQ2xELElBQUlJLGVBQWU7WUFDbkIsSUFBSUMsWUFBWTtZQUVoQixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUwsU0FBU0ssSUFBSztnQkFDaEMsTUFBTUMsUUFBUUQsSUFBSU47Z0JBQ2xCLE1BQU1RLE1BQU1OLEtBQUtPLEdBQUcsQ0FBQ0YsUUFBUVAsV0FBV1AsZUFBZWhDLE1BQU07Z0JBQzdELE1BQU1pRCxRQUFRakIsZUFBZWtCLEtBQUssQ0FBQ0osT0FBT0M7Z0JBRTFDWCxnQkFBZ0Isb0JBQTJCSSxPQUFQSyxJQUFFLEdBQUUsS0FBZUksT0FBWlQsU0FBUSxNQUFpQixPQUFiUyxNQUFNakQsTUFBTSxFQUFDLGlCQUFlO2dCQUNuRlosUUFBUUUsR0FBRyxDQUFDLG9CQUEyQmtELE9BQVBLLElBQUUsR0FBRSxLQUFlSSxPQUFaVCxTQUFRLE1BQWlCLE9BQWJTLE1BQU1qRCxNQUFNLEVBQUM7Z0JBRWhFLElBQUk7b0JBQ0YsbUVBQW1FO29CQUNuRWlELE1BQU12QyxPQUFPLENBQUMsQ0FBQzFCLFVBQVVtRTt3QkFDdkIsTUFBTUMsZUFBZXBFLFNBQVNDLElBQUksSUFBSSxhQUF5QixPQUFaRCxTQUFTcUUsRUFBRTt3QkFDOURqQixnQkFBZ0IsSUFBV2UsT0FBUE4sSUFBRSxHQUFFLEtBQXFCTyxPQUFsQkQsTUFBSSxHQUFFLGNBQXlCLE9BQWJDLGVBQWdCO29CQUMvRDtvQkFFQSxNQUFNRSxnQkFBZ0IsTUFBTTFKLHlFQUF5QkEsQ0FBQ3FKLE9BQU8sQ0FBQ2pFLFVBQVV1RSxRQUFRQzt3QkFDOUUsNkVBQTZFO3dCQUM3RSxNQUFNSixlQUFlcEUsU0FBU0MsSUFBSSxJQUFJLGFBQXlCLE9BQVpELFNBQVNxRSxFQUFFO3dCQUM5RCxJQUFJRSxXQUFXLFdBQVc7NEJBQ3hCbkIsZ0JBQWdCLGFBQThCb0IsT0FBakJKLGNBQWEsTUFBWSxPQUFSSSxTQUFRLE1BQUk7d0JBQzVELE9BQU8sSUFBSUQsV0FBVyxTQUFTOzRCQUM3Qm5CLGdCQUFnQixXQUE0Qm9CLE9BQWpCSixjQUFhLE1BQVksT0FBUkksU0FBUSxNQUFJO3dCQUMxRCxPQUFPOzRCQUNMcEIsZ0JBQWdCLEdBQWNnQixPQUFYRyxRQUFPLE1BQW9CQyxPQUFoQkosY0FBYSxLQUFpQyxPQUE5QkksVUFBVSxJQUFZLE9BQVJBLFNBQVEsT0FBSyxLQUFNO3dCQUNqRjtvQkFDRjtvQkFFQSwrQkFBK0I7b0JBQy9CLE1BQU1DLGVBQWVILGNBQWN6RCxNQUFNLENBQUMxRSxDQUFBQSxJQUFLQSxFQUFFdUksU0FBUyxFQUFFMUQsTUFBTTtvQkFDbEUsTUFBTTJELFlBQVlMLGNBQWN6RCxNQUFNLENBQUMxRSxDQUFBQSxJQUFLQSxFQUFFeUksaUJBQWlCLEVBQUU1RCxNQUFNO29CQUV2RTJDLGdCQUFnQmM7b0JBQ2hCYixhQUFhZTtvQkFFYnZCLGdCQUFnQixTQUEwQnFCLE9BQWpCWixJQUFFLEdBQUUsZUFBd0NjLE9BQTNCRixjQUFhLGdCQUF3QixPQUFWRSxXQUFVLGNBQy9ERixlQUFlRSxZQUFZLFlBQVk7b0JBRXZELHFEQUFxRDtvQkFDckQsTUFBTUUsb0JBQW9COzJCQUFJakk7cUJBQVc7b0JBQ3pDMEgsY0FBYzVDLE9BQU8sQ0FBQ29ELENBQUFBO3dCQUNwQixNQUFNQyxRQUFRRixrQkFBa0JHLFNBQVMsQ0FBQzdJLENBQUFBLElBQUtBLEVBQUVrSSxFQUFFLEtBQUtTLGFBQWFULEVBQUU7d0JBQ3ZFLElBQUlVLFVBQVUsQ0FBQyxHQUFHOzRCQUNoQkYsaUJBQWlCLENBQUNFLE1BQU0sR0FBR0Q7d0JBQzdCO29CQUNGO29CQUVBLDhCQUE4QjtvQkFDOUJqSSxjQUFjZ0k7b0JBQ2RyRSxlQUFlcUU7b0JBRWYsa0RBQWtEO29CQUNsRCxJQUFJaEIsSUFBSUwsVUFBVSxHQUFHO3dCQUNuQkosZ0JBQWlCLDREQUEyRDt3QkFDNUUsTUFBTSxJQUFJNkIsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztvQkFDbkQ7Z0JBQ0YsRUFBRSxPQUFPL0UsT0FBTztvQkFDZEMsUUFBUUQsS0FBSyxDQUFDLHlCQUE2QixPQUFKMEQsSUFBRSxHQUFFLE1BQUkxRDtvQkFDL0NpRCxnQkFBZ0Isb0JBQTRCakQsT0FBUjBELElBQUUsR0FBRSxNQUFrQixPQUFkMUQsTUFBTWlGLE9BQU8sR0FBSTtvQkFDN0R4QixhQUFhSyxNQUFNakQsTUFBTTtnQkFDM0I7WUFDRjtZQUVBb0MsZ0JBQWdCLHVCQUFrRFEsT0FBM0JELGNBQWEsZ0JBQXdCLE9BQVZDLFdBQVUsY0FDNURELGVBQWVDLFlBQVksWUFBWTtZQUV2RFAsTUFBTSwwQkFBNEVPLE9BQWxERCxjQUFhLHVDQUErQyxPQUFWQyxXQUFVO1FBRTlGLEVBQUUsT0FBT3pELE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7WUFDM0NpRCxnQkFBZ0Isb0JBQWtDLE9BQWRqRCxNQUFNaUYsT0FBTyxHQUFJO1lBQ3JEL0IsTUFBTSwrQkFBNkMsT0FBZGxELE1BQU1pRixPQUFPO1FBQ3BELFNBQVU7WUFDUmhJLGFBQWE7UUFDZjtJQUNGO0lBRUEsU0FBU2lJO1FBQ1AsNENBQTRDO1FBQzVDLE1BQU05RCxXQUFXLElBQUlDO1FBQ3JCLElBQUlDLG1CQUFtQjtRQUV2QjdFLFdBQVc4RSxPQUFPLENBQUN2RixDQUFBQTtZQUNqQixJQUFJQSxFQUFFMkUsUUFBUSxJQUFJM0UsRUFBRTRFLFNBQVMsRUFBRTtnQkFDN0IsTUFBTVksV0FBVyxHQUFpQnhGLE9BQWRBLEVBQUUyRSxRQUFRLEVBQUMsS0FBZSxPQUFaM0UsRUFBRTRFLFNBQVM7Z0JBQzdDLElBQUlRLFNBQVNLLEdBQUcsQ0FBQ0QsV0FBVztvQkFDMUJKLFNBQVNNLEdBQUcsQ0FBQ0YsVUFBVUosU0FBU08sR0FBRyxDQUFDSCxZQUFZO29CQUNoREY7Z0JBQ0YsT0FBTztvQkFDTEYsU0FBU00sR0FBRyxDQUFDRixVQUFVO2dCQUN6QjtZQUNGO1FBQ0Y7UUFFQSw0Q0FBNEM7UUFDNUMsTUFBTTJELHlCQUF5QjVFLE1BQU02RSxJQUFJLENBQUNoRSxTQUFTaUUsT0FBTyxJQUN2RDNFLE1BQU0sQ0FBQztnQkFBQyxDQUFDNEUsR0FBR0MsTUFBTTttQkFBS0EsUUFBUTtRQUFBLEdBQy9CQyxJQUFJLENBQUMsQ0FBQ25KLEdBQUdvSixJQUFNQSxDQUFDLENBQUMsRUFBRSxHQUFHcEosQ0FBQyxDQUFDLEVBQUUsR0FBRywyQkFBMkI7UUFFM0QsTUFBTXFKLHFCQUFxQlAsdUJBQXVCUSxNQUFNLENBQUMsQ0FBQ0M7Z0JBQUssQ0FBQ04sR0FBR0MsTUFBTTttQkFBS0ssTUFBTUw7UUFBSSxHQUFHO1FBQzNGLE1BQU0zRCxrQkFBa0JSLFNBQVNTLElBQUk7UUFFckMseUNBQXlDO1FBQ3pDLE1BQU1nRSxXQUFXO1lBQ2ZDLFVBQVVySixXQUFXaUUsTUFBTSxDQUFDMUUsQ0FBQUEsSUFBS0EsRUFBRStKLGlCQUFpQixLQUFLLFlBQVlsRixNQUFNO1lBQzNFbUYsa0JBQWtCdkosV0FBV2lFLE1BQU0sQ0FBQzFFLENBQUFBLElBQUtBLEVBQUUrSixpQkFBaUIsS0FBSyxvQkFBb0JsRixNQUFNO1lBQzNGb0YsY0FBY3hKLFdBQVdpRSxNQUFNLENBQUMxRSxDQUFBQSxJQUFLQSxFQUFFK0osaUJBQWlCLEtBQUssZ0JBQWdCbEYsTUFBTTtZQUNuRnFGLGVBQWV6SixXQUFXaUUsTUFBTSxDQUFDMUUsQ0FBQUEsSUFBS0EsRUFBRStKLGlCQUFpQixLQUFLLGlCQUFpQmxGLE1BQU07WUFDckZzRixTQUFTMUosV0FBV2lFLE1BQU0sQ0FBQzFFLENBQUFBLElBQUtBLEVBQUUyRSxRQUFRLElBQUkzRSxFQUFFNEUsU0FBUyxJQUFJLENBQUM1RSxFQUFFK0osaUJBQWlCLEVBQUVsRixNQUFNO1FBQzNGO1FBRUFxQyxNQUNFLGlDQUNBLHVCQUF5QyxPQUFsQnpHLFdBQVdvRSxNQUFNLEVBQUMsUUFDekMsMENBQXVFLE9BQTdCckMsVUFBVUcsa0JBQWtCLEVBQUMsUUFDdkUsNkJBQTBELE9BQTdCSCxVQUFVSSxrQkFBa0IsRUFBQyxRQUMxRCwwQkFBb0QsT0FBMUJKLFVBQVVLLGVBQWUsRUFBQyxRQUNwRCxrQ0FBeUQsT0FBdkJMLFVBQVVNLFlBQVksRUFBQyxVQUN6RCw4QkFBOEMsT0FBaEI4QyxpQkFBZ0IsUUFDOUMsMkNBQTRELE9BQWpCTixrQkFBaUIsUUFDNUQsaUNBQStELE9BQTlCNkQsdUJBQXVCdEUsTUFBTSxFQUFDLFVBQzlEc0UsQ0FBQUEsdUJBQXVCdEUsTUFBTSxHQUFHLElBQy9CLDRCQUNBc0UsdUJBQXVCcEIsS0FBSyxDQUFDLEdBQUcsR0FBR25FLEdBQUcsQ0FBQztnQkFBQyxDQUFDd0csUUFBUWIsTUFBTTttQkFDckQsUUFBK0JhLE9BQXZCYixPQUFNLG1CQUF3QixPQUFQYTtRQUFPLEdBQ3RDQyxJQUFJLENBQUMsUUFBUSxFQUFDLElBQ2pCLFNBQ0EseUJBQ0Qsd0JBQTBDLE9BQWxCUixTQUFTQyxRQUFRLEVBQUMsUUFDMUMsMEJBQW9ELE9BQTFCRCxTQUFTRyxnQkFBZ0IsRUFBQyxRQUNwRCxzQkFBNEMsT0FBdEJILFNBQVNJLFlBQVksRUFBQyxRQUM1Qyx1QkFBOEMsT0FBdkJKLFNBQVNLLGFBQWEsRUFBQyxRQUM5Qyx3QkFBeUMsT0FBakJMLFNBQVNNLE9BQU8sRUFBQyxVQUN4QztJQUVMO0lBRUEsa0NBQWtDO0lBQ2xDLGVBQWVHO1FBQ2IsSUFBSTtZQUNGLDZCQUE2QjtZQUM3QnZKLFdBQVc7WUFDWFEsWUFBWTtZQUNaZ0o7WUFDQTVJLG9CQUFvQjtZQUVwQjZJLGVBQWUscUNBQXFDO1lBRXBELDZDQUE2QztZQUM3Q0EsZUFBZSxtREFBbUQ7WUFFbEUsTUFBTUMsYUFBYTtnQkFDakJDLGNBQWNqSyxXQUFXaUUsTUFBTSxDQUFDMUUsQ0FBQUEsSUFBSyxDQUFDQSxFQUFFOEQsSUFBSSxJQUFJOUQsRUFBRThELElBQUksQ0FBQzZHLElBQUksT0FBTyxJQUFJOUYsTUFBTTtnQkFDNUUrRixxQkFBcUJuSyxXQUFXaUUsTUFBTSxDQUFDMUUsQ0FBQUEsSUFBS0EsRUFBRTZLLE9BQU8sSUFBSyxFQUFDN0ssRUFBRThLLElBQUksSUFBSSxDQUFDOUssRUFBRTBHLEtBQUssR0FBRzdCLE1BQU07Z0JBQ3RGa0csaUJBQWlCdEssV0FBV2lFLE1BQU0sQ0FBQzFFLENBQUFBLElBQ2hDQSxFQUFFZ0wsS0FBSyxLQUFLLEtBQUtoTCxFQUFFaUwsU0FBUyxLQUFLLEdBQ2xDcEcsTUFBTTtnQkFDUnFHLHVCQUF1QnpLLFdBQVdpRSxNQUFNLENBQUMxRSxDQUFBQTtvQkFDdkMsK0NBQStDO29CQUMvQyxJQUFJLENBQUNBLEVBQUUyRSxRQUFRLElBQUksQ0FBQzNFLEVBQUU0RSxTQUFTLEVBQUUsT0FBTztvQkFFeEMsTUFBTXNCLFNBQVNqQixPQUFPakYsRUFBRTJFLFFBQVE7b0JBQ2hDLE1BQU13QixTQUFTbEIsT0FBT2pGLEVBQUU0RSxTQUFTO29CQUVqQyxzREFBc0Q7b0JBQ3RELE9BQ0UsT0FBUXlCLFFBQVEsQ0FBQyxRQUFRSCxPQUFPSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQ3pCLE1BQU0sSUFBSSxLQUN2RHNCLE9BQU9FLFFBQVEsQ0FBQyxRQUFRRixPQUFPRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQ3pCLE1BQU0sSUFBSSxLQUN4RHFCLFdBQVdDLFVBQVUsNkJBQTZCO29CQUNsREQsT0FBT00sUUFBUSxDQUFDLFlBQ2hCTCxPQUFPSyxRQUFRLENBQUMsWUFDaEJOLE9BQU9NLFFBQVEsQ0FBQyxTQUNoQkwsT0FBT0ssUUFBUSxDQUFDLFNBQ2hCTixPQUFPTSxRQUFRLENBQUMsU0FDaEJMLE9BQU9LLFFBQVEsQ0FBQztnQkFFcEIsR0FBRzNCLE1BQU07Z0JBQ1RzRyxnQkFBZ0JDLGVBQWUzSyxZQUFZO2dCQUMzQzRLLG9CQUFvQkQsZUFBZTNLLFlBQVk7Z0JBQy9DNkssZ0JBQWdCN0ssV0FBV2lFLE1BQU0sQ0FBQzFFLENBQUFBLElBQ2hDLEVBQUc4RCxJQUFJLElBQUk5RCxFQUFFOEQsSUFBSSxDQUFDeUgsV0FBVyxHQUFHbEYsUUFBUSxDQUFDLFdBQ3hDckcsRUFBRThELElBQUksSUFBSTlELEVBQUU4RCxJQUFJLENBQUN5SCxXQUFXLEdBQUdsRixRQUFRLENBQUMsY0FDeENyRyxFQUFFNkssT0FBTyxJQUFJN0ssRUFBRTZLLE9BQU8sQ0FBQ1UsV0FBVyxHQUFHbEYsUUFBUSxDQUFDLFdBQy9DckcsRUFBRXdMLGlCQUFpQixFQUNuQjNHLE1BQU07WUFDVjtZQUVBLE1BQU00RyxjQUFjaEIsV0FBV0MsWUFBWSxHQUN2QkQsV0FBV0csbUJBQW1CLEdBQzlCSCxXQUFXTSxlQUFlLEdBQzFCTixXQUFXUyxxQkFBcUIsR0FDaENULFdBQVdVLGNBQWMsQ0FBQ3RHLE1BQU0sR0FDaEM0RixXQUFXWSxrQkFBa0IsQ0FBQ3hHLE1BQU0sR0FDcEM0RixXQUFXYSxjQUFjO1lBRTdDLHVCQUF1QjtZQUN2QmQsZUFBZSxrQkFBOEIsT0FBWmlCLGFBQVksMEJBQXdCO1lBQ3JFakIsZUFBZSxLQUE2QixPQUF4QkMsV0FBV0MsWUFBWSxFQUFDLDhCQUE0QjtZQUN4RUYsZUFBZSxLQUFvQyxPQUEvQkMsV0FBV0csbUJBQW1CLEVBQUMsMENBQXdDO1lBQzNGSixlQUFlLEtBQWdDLE9BQTNCQyxXQUFXTSxlQUFlLEVBQUMsNENBQTBDO1lBQ3pGUCxlQUFlLEtBQXNDLE9BQWpDQyxXQUFXUyxxQkFBcUIsRUFBQyw0Q0FBMEM7WUFDL0ZWLGVBQWUsS0FBc0MsT0FBakNDLFdBQVdVLGNBQWMsQ0FBQ3RHLE1BQU0sRUFBQyw4QkFBNEI7WUFDakYyRixlQUFlLEtBQTBDLE9BQXJDQyxXQUFXWSxrQkFBa0IsQ0FBQ3hHLE1BQU0sRUFBQyx5QkFBdUI7WUFDaEYyRixlQUFlLEtBQStCLE9BQTFCQyxXQUFXYSxjQUFjLEVBQUMsdUNBQXFDO1lBRW5GLGtCQUFrQjtZQUNsQixJQUFJRyxnQkFBZ0IsR0FBRztnQkFDckJqQixlQUFlLDJDQUEyQztnQkFDMUR0RCxNQUFNO2dCQUNObkcsV0FBVztnQkFDWFEsWUFBWTtnQkFDWjtZQUNGO1lBRUEsb0JBQW9CO1lBQ3BCLE1BQU1tSyxlQUFldkUsUUFDbkIsU0FBcUIsT0FBWnNFLGFBQVksK0JBQ3JCLEtBQTZCLE9BQXhCaEIsV0FBV0MsWUFBWSxFQUFDLGlDQUM3QixLQUFvQyxPQUEvQkQsV0FBV0csbUJBQW1CLEVBQUMsNkNBQ3BDLEtBQWdDLE9BQTNCSCxXQUFXTSxlQUFlLEVBQUMsK0NBQ2hDLEtBQXNDLE9BQWpDTixXQUFXUyxxQkFBcUIsRUFBQywrQ0FDdEMsS0FBc0MsT0FBakNULFdBQVdVLGNBQWMsQ0FBQ3RHLE1BQU0sRUFBQyxpQ0FDdEMsS0FBMEMsT0FBckM0RixXQUFXWSxrQkFBa0IsQ0FBQ3hHLE1BQU0sRUFBQyw0QkFDMUMsS0FBK0IsT0FBMUI0RixXQUFXYSxjQUFjLEVBQUMsNENBQzlCO1lBR0gsSUFBSSxDQUFDSSxjQUFjO2dCQUNqQmxCLGVBQWUsOEJBQThCO2dCQUM3Q3pKLFdBQVc7Z0JBQ1hRLFlBQVk7Z0JBQ1o7WUFDRjtZQUVBLG1DQUFtQztZQUNuQyxNQUFNb0ssa0JBQWtCeEUsUUFDdEIseURBQ0EsZ0VBQ0Esa0RBQ0EsK0NBQ0EsNkNBQ0E7WUFHRnFELGVBQWUsWUFBbUQsT0FBdkNtQixrQkFBa0IsYUFBYSxTQUFRLHlCQUF1QjtZQUV6RiwwQ0FBMEM7WUFDMUMsTUFBTUMsb0JBQW9CO21CQUFJbkw7YUFBVztZQUV6Qyx1QkFBdUI7WUFDdkIsSUFBSW9MLGdCQUFnQjtZQUVwQnJCLGVBQWUsY0FBZ0MsT0FBbEIvSixXQUFXb0UsTUFBTSxFQUFDLG1CQUFpQjtZQUVoRXBFLFdBQVc4RSxPQUFPLENBQUMsQ0FBQzFCLFVBQVUrRTtnQkFDNUIsSUFBSWtELGtCQUFrQjtnQkFDdEIsSUFBSUMsZ0JBQWdCLEVBQUU7Z0JBRXRCLGtDQUFrQztnQkFDbEMsSUFBSSxDQUFDbEksU0FBU0MsSUFBSSxJQUFJRCxTQUFTQyxJQUFJLENBQUM2RyxJQUFJLE9BQU8sSUFBSTtvQkFDakQsSUFBSTlHLFNBQVNnSCxPQUFPLEVBQUU7d0JBQ3BCZSxpQkFBaUIsQ0FBQ2hELE1BQU0sQ0FBQzlFLElBQUksR0FBRyxlQUE4QyxPQUEvQkQsU0FBU2dILE9BQU8sQ0FBQ3ZFLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTt3QkFDN0VrRSxlQUFlLGdDQUFpRG9CLE9BQWpCL0gsU0FBU3FFLEVBQUUsRUFBQyxPQUFtQyxPQUE5QjBELGlCQUFpQixDQUFDaEQsTUFBTSxDQUFDOUUsSUFBSSxFQUFDLE1BQUk7b0JBQ3BHLE9BQU87d0JBQ0w4SCxpQkFBaUIsQ0FBQ2hELE1BQU0sQ0FBQzlFLElBQUksR0FBRyxvQkFBMkQsT0FBdkNELFNBQVNxRSxFQUFFLENBQUM4RCxRQUFRLEdBQUdDLFNBQVMsQ0FBQyxHQUFHO3dCQUN4RnpCLGVBQWUseUNBQTBEb0IsT0FBakIvSCxTQUFTcUUsRUFBRSxFQUFDLE9BQW1DLE9BQTlCMEQsaUJBQWlCLENBQUNoRCxNQUFNLENBQUM5RSxJQUFJLEVBQUMsTUFBSTtvQkFDN0c7b0JBQ0FnSSxrQkFBa0I7b0JBQ2xCQyxjQUFjRyxJQUFJLENBQUM7Z0JBQ3JCO2dCQUVBLDJDQUEyQztnQkFDM0MsSUFBSXJJLFNBQVNnSCxPQUFPLElBQUssRUFBQ2hILFNBQVNpSCxJQUFJLElBQUksQ0FBQ2pILFNBQVM2QyxLQUFLLEdBQUc7b0JBQzNELDZDQUE2QztvQkFDN0MsTUFBTXlGLGVBQWV0SSxTQUFTZ0gsT0FBTyxDQUFDdkUsS0FBSyxDQUFDLEtBQUsxQyxHQUFHLENBQUM1RCxDQUFBQSxJQUFLQSxFQUFFMkssSUFBSTtvQkFFaEUsSUFBSXdCLGFBQWF0SCxNQUFNLElBQUksS0FBSyxDQUFDaEIsU0FBU2lILElBQUksRUFBRTt3QkFDOUNjLGlCQUFpQixDQUFDaEQsTUFBTSxDQUFDa0MsSUFBSSxHQUFHcUIsWUFBWSxDQUFDQSxhQUFhdEgsTUFBTSxHQUFHLEVBQUU7d0JBQ3JFMkYsZUFBZSxtQkFBbUUzRyxPQUFoRCtILGlCQUFpQixDQUFDaEQsTUFBTSxDQUFDa0MsSUFBSSxFQUFDLG9CQUE4QixPQUFaakgsU0FBU3FFLEVBQUUsR0FBSTt3QkFDakc0RCxrQkFBa0I7d0JBQ2xCQyxjQUFjRyxJQUFJLENBQUM7b0JBQ3JCO29CQUVBLElBQUlDLGFBQWF0SCxNQUFNLElBQUksS0FBSyxDQUFDaEIsU0FBUzZDLEtBQUssRUFBRTt3QkFDL0MseURBQXlEO3dCQUN6RCxNQUFNMEYsWUFBWUQsWUFBWSxDQUFDQSxhQUFhdEgsTUFBTSxHQUFHLEVBQUU7d0JBQ3ZELE1BQU13SCxhQUFhRCxVQUFVRSxLQUFLLENBQUM7d0JBQ25DLElBQUlELFlBQVk7NEJBQ2RULGlCQUFpQixDQUFDaEQsTUFBTSxDQUFDbEMsS0FBSyxHQUFHMkYsVUFBVSxDQUFDLEVBQUU7NEJBQzlDN0IsZUFBZSxvQkFBcUUzRyxPQUFqRCtILGlCQUFpQixDQUFDaEQsTUFBTSxDQUFDbEMsS0FBSyxFQUFDLG9CQUE4QixPQUFaN0MsU0FBU3FFLEVBQUUsR0FBSTs0QkFDbkc0RCxrQkFBa0I7NEJBQ2xCQyxjQUFjRyxJQUFJLENBQUM7d0JBQ3JCO29CQUNGO2dCQUNGO2dCQUVBLG9EQUFvRDtnQkFDcEQsSUFBSVAsaUJBQWlCO29CQUNuQixNQUFNekYsU0FBU2pCLE9BQU9wQixTQUFTYyxRQUFRLElBQUk7b0JBQzNDLE1BQU13QixTQUFTbEIsT0FBT3BCLFNBQVNlLFNBQVMsSUFBSTtvQkFFNUMsK0NBQStDO29CQUMvQyxNQUFNd0Isa0JBQ0osT0FBUUMsUUFBUSxDQUFDLFFBQVFILE9BQU9JLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDekIsTUFBTSxJQUFJLEtBQ3ZEc0IsT0FBT0UsUUFBUSxDQUFDLFFBQVFGLE9BQU9HLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDekIsTUFBTSxJQUFJO29CQUUxRCxNQUFNMEIsdUJBQ0pMLFdBQVdDLFVBQVUsZ0NBQWdDO29CQUNyREQsT0FBT00sUUFBUSxDQUFDLFlBQ2hCTCxPQUFPSyxRQUFRLENBQUMsWUFDaEJOLE9BQU9NLFFBQVEsQ0FBQyxTQUNoQkwsT0FBT0ssUUFBUSxDQUFDLFNBQ2hCTixPQUFPTSxRQUFRLENBQUMsU0FDaEJMLE9BQU9LLFFBQVEsQ0FBQztvQkFFbEIsSUFBSUosbUJBQW1CRyxzQkFBc0I7d0JBQzNDcUYsaUJBQWlCLENBQUNoRCxNQUFNLENBQUM1QixnQkFBZ0IsR0FBRzt3QkFDNUM0RSxpQkFBaUIsQ0FBQ2hELE1BQU0sQ0FBQzdCLGdCQUFnQixHQUFHO3dCQUM1Q3lELGVBQWUsbUNBQThDckUsT0FBWEQsUUFBTyxNQUE2QnJDLE9BQXpCc0MsUUFBTyxvQkFBOEIsT0FBWnRDLFNBQVNxRSxFQUFFLEdBQUk7d0JBQ3JHNEQsa0JBQWtCO3dCQUNsQkMsY0FBY0csSUFBSSxDQUFDO29CQUNyQjtnQkFDRjtnQkFFQSx1QkFBdUI7Z0JBQ3ZCLElBQUksU0FBVXBJLElBQUksSUFBSUQsU0FBU0MsSUFBSSxDQUFDeUgsV0FBVyxHQUFHbEYsUUFBUSxDQUFDLFdBQ3REeEMsU0FBU0MsSUFBSSxJQUFJRCxTQUFTQyxJQUFJLENBQUN5SCxXQUFXLEdBQUdsRixRQUFRLENBQUMsY0FDdER4QyxTQUFTZ0gsT0FBTyxJQUFJaEgsU0FBU2dILE9BQU8sQ0FBQ1UsV0FBVyxHQUFHbEYsUUFBUSxDQUFDLFNBQVU7b0JBQ3pFdUYsaUJBQWlCLENBQUNoRCxNQUFNLENBQUM0QyxpQkFBaUIsR0FBRztvQkFDN0NoQixlQUFlLDBCQUEyQzNHLE9BQWpCQSxTQUFTcUUsRUFBRSxFQUFDLE9BQW1CLE9BQWRyRSxTQUFTQyxJQUFJLEVBQUMsTUFBSTtvQkFDNUVnSSxrQkFBa0I7b0JBQ2xCQyxjQUFjRyxJQUFJLENBQUM7Z0JBQ3JCO2dCQUVBLDhDQUE4QztnQkFDOUMsSUFBSVAsbUJBQW9COUgsQ0FBQUEsU0FBU21ILEtBQUssS0FBSyxLQUFLbkgsU0FBU29ILFNBQVMsS0FBSyxJQUFJO29CQUN6RSx5REFBeUQ7b0JBQ3pELElBQUksQ0FBQ1csaUJBQWlCLENBQUNoRCxNQUFNLENBQUMyRCxvQkFBb0IsRUFBRTt3QkFDbERYLGlCQUFpQixDQUFDaEQsTUFBTSxDQUFDMkQsb0JBQW9CLEdBQUcsRUFBRTtvQkFDcEQ7b0JBRUFYLGlCQUFpQixDQUFDaEQsTUFBTSxDQUFDMkQsb0JBQW9CLENBQUNMLElBQUksQ0FBQztvQkFDbkQxQixlQUFlLG9DQUFnRCxPQUFaM0csU0FBU3FFLEVBQUUsR0FBSTtvQkFDbEU0RCxrQkFBa0I7b0JBQ2xCQyxjQUFjRyxJQUFJLENBQUM7Z0JBQ3JCO2dCQUVBLDRDQUE0QztnQkFDNUMsSUFBSUosaUJBQWlCO29CQUNuQkYsaUJBQWlCLENBQUNoRCxNQUFNLENBQUM0RCxhQUFhLEdBQUc7b0JBQ3pDWixpQkFBaUIsQ0FBQ2hELE1BQU0sQ0FBQzZELGVBQWUsR0FBR1YsY0FBYzFCLElBQUksQ0FBQztvQkFDOUR3QjtnQkFDRjtZQUNGO1lBRUFyQixlQUFlLGdDQUE4QyxPQUFkcUIsZUFBYyxpQkFBZTtZQUU1RSx1Q0FBdUM7WUFDdkNyQixlQUFlLGlEQUFpRDtZQUNoRTlKLGNBQWNrTDtZQUNkdkgsZUFBZXVIO1lBRWYsd0JBQXdCO1lBQ3hCcEIsZUFBZSwyQkFBMkI7WUFDMUN0RCxNQUNFLGdDQUNBLEtBQW1CLE9BQWQyRSxlQUFjLGdDQUNuQixvQkFBNEMsT0FBeEJwQixXQUFXQyxZQUFZLEVBQUMsbUJBQzVDLDhCQUE2RCxPQUEvQkQsV0FBV0csbUJBQW1CLEVBQUMsbUJBQzdELGFBQThDLE9BQWpDSCxXQUFXUyxxQkFBcUIsRUFBQyw2Q0FDOUMsZ0JBQWlELE9BQWpDVCxXQUFXVSxjQUFjLENBQUN0RyxNQUFNLEVBQUMsd0JBQ2pELGFBQXVDLE9BQTFCNEYsV0FBV2EsY0FBYyxFQUFDLDBCQUN0QyxrQkFDQSx3REFDQSwwREFDQTtRQUVMLEVBQUUsT0FBT3RILE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7WUFDL0N3RyxlQUFlLFVBQXdCLE9BQWR4RyxNQUFNaUYsT0FBTyxHQUFJO1lBQzFDL0IsTUFBTSx3QkFBc0MsT0FBZGxELE1BQU1pRixPQUFPO1FBQzdDLFNBQVU7WUFDUmxJLFdBQVc7WUFDWFEsWUFBWTtRQUNkO0lBQ0Y7SUFFQSw0REFBNEQ7SUFDNUQsU0FBUzZKLGVBQWVzQixLQUFLLEVBQUVDLEdBQUc7UUFDaEMsTUFBTUMsU0FBUyxDQUFDO1FBQ2hCLE1BQU1DLGFBQWEsRUFBRTtRQUVyQixpQ0FBaUM7UUFDakNILE1BQU1uSCxPQUFPLENBQUN1SCxDQUFBQTtZQUNaLElBQUlBLElBQUksQ0FBQ0gsSUFBSSxJQUFJRyxJQUFJLENBQUNILElBQUksQ0FBQ2hDLElBQUksT0FBTyxJQUFJO2dCQUN4QyxNQUFNb0MsUUFBUUQsSUFBSSxDQUFDSCxJQUFJLENBQUNwQixXQUFXLEdBQUdaLElBQUk7Z0JBQzFDaUMsTUFBTSxDQUFDRyxNQUFNLEdBQUcsQ0FBQ0gsTUFBTSxDQUFDRyxNQUFNLElBQUksS0FBSztZQUN6QztRQUNGO1FBRUEseUNBQXlDO1FBQ3pDQyxPQUFPQyxJQUFJLENBQUNMLFFBQVFySCxPQUFPLENBQUN3SCxDQUFBQTtZQUMxQixJQUFJSCxNQUFNLENBQUNHLE1BQU0sR0FBRyxHQUFHO2dCQUNyQkYsV0FBV1gsSUFBSSxDQUFDO29CQUNkYTtvQkFDQXhELE9BQU9xRCxNQUFNLENBQUNHLE1BQU07Z0JBQ3RCO1lBQ0Y7UUFDRjtRQUVBLE9BQU9GO0lBQ1Q7SUFFQSxvREFBb0Q7SUFDcEQsZUFBZUs7UUFDYixJQUFJO1lBQ0ZuTSxXQUFXO1lBQ1hjLGFBQWE7WUFDYnNMO1lBQ0FsTCxxQkFBcUI7WUFFckJtTCxnQkFBZ0IsdUNBQXVDO1lBRXZELGtEQUFrRDtZQUNsREEsZ0JBQWdCLHNEQUFzRDtZQUV0RSxNQUFNQyx1QkFBdUI1TSxXQUFXaUUsTUFBTSxDQUFDMUUsQ0FBQUEsSUFDNUNBLEVBQUVnTCxLQUFLLEtBQUssS0FBS2hMLEVBQUVpTCxTQUFTLEtBQUs7WUFHcEMsSUFBSW9DLHFCQUFxQnhJLE1BQU0sS0FBSyxHQUFHO2dCQUNyQ3VJLGdCQUFnQixtREFBbUQ7Z0JBQ25FbEcsTUFBTTtnQkFDTm5HLFdBQVc7Z0JBQ1hjLGFBQWE7Z0JBQ2I7WUFDRjtZQUVBdUwsZ0JBQWdCLFNBQXFDLE9BQTVCQyxxQkFBcUJ4SSxNQUFNLEVBQUMsNkNBQTJDO1lBQ2hHdUksZ0JBQWdCLEtBQTRELE9BQXZEQyxxQkFBcUIzSSxNQUFNLENBQUMxRSxDQUFBQSxJQUFLQSxFQUFFZ0wsS0FBSyxLQUFLLEdBQUduRyxNQUFNLEVBQUMsZ0NBQThCO1lBQzFHdUksZ0JBQWdCLEtBQWdFLE9BQTNEQyxxQkFBcUIzSSxNQUFNLENBQUMxRSxDQUFBQSxJQUFLQSxFQUFFaUwsU0FBUyxLQUFLLEdBQUdwRyxNQUFNLEVBQUMsZ0NBQThCO1lBRTlHLG9CQUFvQjtZQUNwQixNQUFNNkcsZUFBZXZFLFFBQ25CLFNBQXFDLE9BQTVCa0cscUJBQXFCeEksTUFBTSxFQUFDLGtEQUNyQyxLQUE0RCxPQUF2RHdJLHFCQUFxQjNJLE1BQU0sQ0FBQzFFLENBQUFBLElBQUtBLEVBQUVnTCxLQUFLLEtBQUssR0FBR25HLE1BQU0sRUFBQyxtQ0FDNUQsS0FBZ0UsT0FBM0R3SSxxQkFBcUIzSSxNQUFNLENBQUMxRSxDQUFBQSxJQUFLQSxFQUFFaUwsU0FBUyxLQUFLLEdBQUdwRyxNQUFNLEVBQUMscUNBQy9EO1lBR0gsSUFBSSxDQUFDNkcsY0FBYztnQkFDakIwQixnQkFBZ0IsZ0NBQWdDO2dCQUNoRHJNLFdBQVc7Z0JBQ1hjLGFBQWE7Z0JBQ2I7WUFDRjtZQUVBLCtDQUErQztZQUMvQyxNQUFNeUwscUJBQXFCO21CQUFJN007YUFBVztZQUMxQyxJQUFJOE0sZ0JBQWdCO1lBRXBCLGdFQUFnRTtZQUNoRUgsZ0JBQWdCLHlEQUF5RDtZQUV6RSx1REFBdUQ7WUFDdkQsTUFBTUksa0JBQWtCLENBQUM7WUFDekIvTSxXQUFXOEUsT0FBTyxDQUFDdkYsQ0FBQUE7Z0JBQ2pCLElBQUlBLEVBQUU4SyxJQUFJLElBQUk5SyxFQUFFMEcsS0FBSyxJQUFJMUcsRUFBRXlOLEtBQUssSUFBSXpOLEVBQUV5TixLQUFLLEdBQUcsS0FBTXpOLENBQUFBLEVBQUVnTCxLQUFLLEdBQUcsS0FBS2hMLEVBQUVpTCxTQUFTLEdBQUcsSUFBSTtvQkFDbkYsTUFBTTBCLE1BQU0sR0FBMkIzTSxPQUF4QkEsRUFBRThLLElBQUksQ0FBQ1MsV0FBVyxJQUFHLEtBQXlCLE9BQXRCdkwsRUFBRTBHLEtBQUssQ0FBQzZFLFdBQVc7b0JBQzFELElBQUksQ0FBQ2lDLGVBQWUsQ0FBQ2IsSUFBSSxFQUFFO3dCQUN6QmEsZUFBZSxDQUFDYixJQUFJLEdBQUcsRUFBRTtvQkFDM0I7b0JBQ0FhLGVBQWUsQ0FBQ2IsSUFBSSxDQUFDVCxJQUFJLENBQUNsTTtnQkFDNUI7WUFDRjtZQUVBLHlDQUF5QztZQUN6QyxNQUFNME4sZUFBZSxDQUFDO1lBQ3RCVixPQUFPQyxJQUFJLENBQUNPLGlCQUFpQmpJLE9BQU8sQ0FBQ29ILENBQUFBO2dCQUNuQyxNQUFNZ0IsUUFBUUgsZUFBZSxDQUFDYixJQUFJO2dCQUNsQyxJQUFJZ0IsTUFBTTlJLE1BQU0sSUFBSSxHQUFHO29CQUNyQixrQ0FBa0M7b0JBQ2xDLE1BQU0rSSxnQkFBZ0JELE1BQU0vSixHQUFHLENBQUM1RCxDQUFBQTt3QkFDOUIsTUFBTWdMLFFBQVFoTCxFQUFFZ0wsS0FBSyxJQUFJaEwsRUFBRWlMLFNBQVMsSUFBSTt3QkFDeEMsT0FBT0QsUUFBUSxJQUFJaEwsRUFBRXlOLEtBQUssR0FBR3pDLFFBQVE7b0JBQ3ZDLEdBQUd0RyxNQUFNLENBQUNtSixDQUFBQSxJQUFLQSxJQUFJLEdBQUdyRSxJQUFJLENBQUMsQ0FBQ25KLEdBQUdvSixJQUFNcEosSUFBSW9KO29CQUV6QyxNQUFNcUUscUJBQXFCRixhQUFhLENBQUN0RyxLQUFLeUcsS0FBSyxDQUFDSCxjQUFjL0ksTUFBTSxHQUFHLEdBQUc7b0JBRTlFLDhCQUE4QjtvQkFDOUIsTUFBTW1KLFlBQVlMLE1BQU0vSixHQUFHLENBQUM1RCxDQUFBQSxJQUFLQSxFQUFFaU8sVUFBVSxFQUFFdkosTUFBTSxDQUFDd0osQ0FBQUEsSUFBS0EsS0FBS0EsSUFBSSxNQUFNMUUsSUFBSSxDQUFDLENBQUNuSixHQUFHb0osSUFBTXBKLElBQUlvSjtvQkFDN0YsTUFBTTBFLGtCQUFrQkgsVUFBVW5KLE1BQU0sR0FBRyxJQUFJbUosU0FBUyxDQUFDMUcsS0FBS3lHLEtBQUssQ0FBQ0MsVUFBVW5KLE1BQU0sR0FBRyxHQUFHLEdBQUc7b0JBRTdGNkksWUFBWSxDQUFDZixJQUFJLEdBQUc7d0JBQ2xCbUI7d0JBQ0FLO3dCQUNBQyxZQUFZVCxNQUFNOUksTUFBTTtvQkFDMUI7b0JBRUF1SSxnQkFBZ0IsU0FBaUJPLE9BQVJoQixLQUFJLE1BQWlDckYsT0FBN0JxRyxNQUFNOUksTUFBTSxFQUFDLGtCQUFnRSxPQUFoRHlDLEtBQUsrRyxLQUFLLENBQUNQLG9CQUFvQlEsY0FBYyxJQUFHLFVBQVE7Z0JBQ3hIO1lBQ0Y7WUFFQWxCLGdCQUFnQixXQUE0QyxPQUFqQ0osT0FBT0MsSUFBSSxDQUFDUyxjQUFjN0ksTUFBTSxFQUFDLHVDQUFxQztZQUNqR3VJLGdCQUFnQix1QkFBbUQsT0FBNUJDLHFCQUFxQnhJLE1BQU0sRUFBQyxvQ0FBa0M7WUFFckcsZ0RBQWdEO1lBQ2hEd0kscUJBQXFCOUgsT0FBTyxDQUFDMUIsQ0FBQUE7Z0JBQzNCLE1BQU0rRSxRQUFRMEUsbUJBQW1CekUsU0FBUyxDQUFDN0ksQ0FBQUEsSUFBS0EsRUFBRWtJLEVBQUUsS0FBS3JFLFNBQVNxRSxFQUFFO2dCQUNwRSxJQUFJVSxVQUFVLENBQUMsR0FBRztnQkFFbEIsSUFBSTJGLGFBQWE7Z0JBQ2pCLElBQUlDLGtCQUFrQixFQUFFO2dCQUV4QixrREFBa0Q7Z0JBQ2xELElBQUlDLGlCQUFpQjtnQkFDckIsSUFBSUMsZUFBZTtnQkFFbkIsSUFBSTdLLFNBQVNpSCxJQUFJLElBQUlqSCxTQUFTNkMsS0FBSyxFQUFFO29CQUNuQyxNQUFNaUcsTUFBTSxHQUFrQzlJLE9BQS9CQSxTQUFTaUgsSUFBSSxDQUFDUyxXQUFXLElBQUcsS0FBZ0MsT0FBN0IxSCxTQUFTNkMsS0FBSyxDQUFDNkUsV0FBVztvQkFDeEUsSUFBSW1DLFlBQVksQ0FBQ2YsSUFBSSxFQUFFO3dCQUNyQjhCLGlCQUFpQmYsWUFBWSxDQUFDZixJQUFJO3dCQUNsQytCLGVBQWUvQjt3QkFDZlMsZ0JBQWdCLGFBQTJEVCxPQUE5QzlJLFNBQVNxRSxFQUFFLEVBQUMsb0NBQXNDLE9BQUp5RSxLQUFJLE1BQUk7b0JBQ3JGO2dCQUNGO2dCQUVBLHFGQUFxRjtnQkFDckYsSUFBSSxDQUFDOEIsZ0JBQWdCO29CQUNuQixtREFBbUQ7b0JBQ25ELElBQUk1SyxTQUFTNkMsS0FBSyxFQUFFO3dCQUNsQixNQUFNaUksY0FBYzNCLE9BQU9DLElBQUksQ0FBQ1MsY0FBY2hKLE1BQU0sQ0FBQ2lJLENBQUFBLE1BQ25EQSxJQUFJbkcsUUFBUSxDQUFDLElBQWlDLE9BQTdCM0MsU0FBUzZDLEtBQUssQ0FBQzZFLFdBQVc7d0JBRzdDLElBQUlvRCxZQUFZOUosTUFBTSxHQUFHLEdBQUc7NEJBQzFCLHdDQUF3Qzs0QkFDeEM2SixlQUFlQyxZQUFZbkYsSUFBSSxDQUFDLENBQUNuSixHQUFHb0osSUFDbENpRSxZQUFZLENBQUNqRSxFQUFFLENBQUMyRSxVQUFVLEdBQUdWLFlBQVksQ0FBQ3JOLEVBQUUsQ0FBQytOLFVBQVUsQ0FDeEQsQ0FBQyxFQUFFOzRCQUNKSyxpQkFBaUJmLFlBQVksQ0FBQ2dCLGFBQWE7NEJBQzNDdEIsZ0JBQWdCLGFBQXNEc0IsT0FBekM3SyxTQUFTcUUsRUFBRSxFQUFDLCtCQUEwQyxPQUFid0csY0FBYSxNQUFJO3dCQUN6RjtvQkFDRjtvQkFFQSw2Q0FBNkM7b0JBQzdDLElBQUksQ0FBQ0QsZ0JBQWdCO3dCQUNuQixNQUFNRyxtQkFBbUJuTyxXQUN0QmlFLE1BQU0sQ0FBQzFFLENBQUFBLElBQUtBLEVBQUV5TixLQUFLLElBQUl6TixFQUFFeU4sS0FBSyxHQUFHLEtBQU16TixDQUFBQSxFQUFFZ0wsS0FBSyxHQUFHLEtBQUtoTCxFQUFFaUwsU0FBUyxHQUFHLElBQ3BFckgsR0FBRyxDQUFDNUQsQ0FBQUEsSUFBS0EsRUFBRXlOLEtBQUssR0FBSXpOLENBQUFBLEVBQUVnTCxLQUFLLElBQUloTCxFQUFFaUwsU0FBUyxHQUMxQ3pCLElBQUksQ0FBQyxDQUFDbkosR0FBR29KLElBQU1wSixJQUFJb0o7d0JBRXRCLElBQUltRixpQkFBaUIvSixNQUFNLEdBQUcsR0FBRzs0QkFDL0I0SixpQkFBaUI7Z0NBQ2ZYLG9CQUFvQmMsZ0JBQWdCLENBQUN0SCxLQUFLeUcsS0FBSyxDQUFDYSxpQkFBaUIvSixNQUFNLEdBQUcsR0FBRztnQ0FDN0VzSixpQkFBaUI7Z0NBQ2pCQyxZQUFZUSxpQkFBaUIvSixNQUFNOzRCQUNyQzs0QkFDQTZKLGVBQWU7NEJBQ2Z0QixnQkFBZ0IsYUFBbUR3QixPQUF0Qy9LLFNBQVNxRSxFQUFFLEVBQUMsNEJBQWtELE9BQXhCMEcsaUJBQWlCL0osTUFBTSxFQUFDLGlCQUFlO3dCQUM1RztvQkFDRjtnQkFDRjtnQkFFQSwyQkFBMkI7Z0JBQzNCLElBQUk0SixnQkFBZ0I7b0JBQ2xCLHVDQUF1QztvQkFDdkMsSUFBSSxDQUFDNUssU0FBU21ILEtBQUssS0FBSyxLQUFLLENBQUNuSCxTQUFTbUgsS0FBSyxLQUN2Q25ILENBQUFBLFNBQVNvSCxTQUFTLEtBQUssS0FBSyxDQUFDcEgsU0FBU29ILFNBQVMsS0FDaERwSCxTQUFTNEosS0FBSyxHQUFHLEtBQ2pCZ0IsZUFBZVgsa0JBQWtCLEdBQUcsR0FBRzt3QkFFekMsTUFBTWUsaUJBQWlCdkgsS0FBSytHLEtBQUssQ0FBQ3hLLFNBQVM0SixLQUFLLEdBQUdnQixlQUFlWCxrQkFBa0I7d0JBQ3BGUixrQkFBa0IsQ0FBQzFFLE1BQU0sQ0FBQ29DLEtBQUssR0FBRzZEO3dCQUNsQ3ZCLGtCQUFrQixDQUFDMUUsTUFBTSxDQUFDcUMsU0FBUyxHQUFHNEQ7d0JBQ3RDekIsZ0JBQWdCLGFBQXVDeUIsT0FBMUJoTCxTQUFTcUUsRUFBRSxFQUFDLGdCQUFnRHJFLE9BQWxDZ0wsZ0JBQWUscUJBQW1ELE9BQWhDaEwsU0FBUzRKLEtBQUssQ0FBQ2EsY0FBYyxJQUFHLFdBQVM7d0JBQ2xJQyxhQUFhO3dCQUNiQyxnQkFBZ0J0QyxJQUFJLENBQUMsYUFBd0R3QyxPQUEzQ0csZ0JBQWUsOEJBQXlDLE9BQWJILGNBQWE7b0JBQzVGO29CQUVBLGdEQUFnRDtvQkFDaEQsSUFBSSxDQUFDLENBQUM3SyxTQUFTb0ssVUFBVSxJQUFJcEssU0FBU29LLFVBQVUsR0FBRyxJQUFHLEtBQU1RLGVBQWVOLGVBQWUsRUFBRTt3QkFDMUZiLGtCQUFrQixDQUFDMUUsTUFBTSxDQUFDcUYsVUFBVSxHQUFHUSxlQUFlTixlQUFlO3dCQUNyRWYsZ0JBQWdCLGFBQXFEcUIsT0FBeEM1SyxTQUFTcUUsRUFBRSxFQUFDLDhCQUEyRCxPQUEvQnVHLGVBQWVOLGVBQWUsR0FBSTt3QkFDdkdJLGFBQWE7d0JBQ2JDLGdCQUFnQnRDLElBQUksQ0FBQywyQkFBc0V3QyxPQUEzQ0QsZUFBZU4sZUFBZSxFQUFDLGNBQXlCLE9BQWJPLGNBQWE7b0JBQzFHO2dCQUNGO2dCQUVBLGlFQUFpRTtnQkFDakUsSUFBSSxDQUFDSCxZQUFZO29CQUNmLGdDQUFnQztvQkFDaEMsSUFBSSxDQUFDakIsa0JBQWtCLENBQUMxRSxNQUFNLENBQUMyRCxvQkFBb0IsRUFBRTt3QkFDbkRlLGtCQUFrQixDQUFDMUUsTUFBTSxDQUFDMkQsb0JBQW9CLEdBQUcsRUFBRTtvQkFDckQ7b0JBQ0FlLGtCQUFrQixDQUFDMUUsTUFBTSxDQUFDMkQsb0JBQW9CLENBQUNMLElBQUksQ0FBQztvQkFDcERrQixnQkFBZ0IsYUFBeUIsT0FBWnZKLFNBQVNxRSxFQUFFLEVBQUMsaUVBQStEO29CQUN4R3FHLGFBQWE7b0JBQ2JDLGdCQUFnQnRDLElBQUksQ0FBQztnQkFDdkI7Z0JBRUEsOENBQThDO2dCQUM5QyxJQUFJcUMsWUFBWTtvQkFDZGpCLGtCQUFrQixDQUFDMUUsTUFBTSxDQUFDa0csY0FBYyxHQUFHO29CQUMzQ3hCLGtCQUFrQixDQUFDMUUsTUFBTSxDQUFDbUcsaUJBQWlCLEdBQUdQLGdCQUFnQm5FLElBQUksQ0FBQztvQkFDbkVrRDtnQkFDRjtZQUNGO1lBRUFILGdCQUFnQiw0Q0FBMEQsT0FBZEcsZUFBYyxpQkFBZTtZQUV6Rix3Q0FBd0M7WUFDeENILGdCQUFnQixrREFBa0Q7WUFDbEUxTSxjQUFjNE07WUFDZGpKLGVBQWVpSjtZQUVmLHdCQUF3QjtZQUN4QkYsZ0JBQWdCLDZCQUE2QjtZQUM3Q2xHLE1BQ0Usa0NBQ0EsS0FBbUIsT0FBZHFHLGVBQWMsc0RBQ25CLEtBQTRELE9BQXZERixxQkFBcUIzSSxNQUFNLENBQUMxRSxDQUFBQSxJQUFLQSxFQUFFZ0wsS0FBSyxLQUFLLEdBQUduRyxNQUFNLEVBQUMsNkNBQzVELEtBQWdFLE9BQTNEd0kscUJBQXFCM0ksTUFBTSxDQUFDMUUsQ0FBQUEsSUFBS0EsRUFBRWlMLFNBQVMsS0FBSyxHQUFHcEcsTUFBTSxFQUFDLCtDQUMvRCxrQkFDQSwrQ0FDQSxrRUFDQTtRQUVMLEVBQUUsT0FBT2IsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsa0NBQWtDQTtZQUNoRG9KLGdCQUFnQixVQUF3QixPQUFkcEosTUFBTWlGLE9BQU8sR0FBSTtZQUMzQy9CLE1BQU0seUJBQXVDLE9BQWRsRCxNQUFNaUYsT0FBTztRQUM5QyxTQUFVO1lBQ1JsSSxXQUFXO1lBQ1hjLGFBQWE7UUFDZjtJQUNGO0lBRUEsNkNBQTZDO0lBQzdDLE1BQU1vRixrQkFBa0I1SSxrREFBV0EsQ0FBQyxTQUFDNEs7WUFBUytGLHdFQUFPO1FBQ25ELE1BQU1DLFlBQVksSUFBSUMsT0FBT0Msa0JBQWtCO1FBQy9DaE8saUJBQWlCaU8sQ0FBQUEsV0FBWTtnQkFDM0I7b0JBQUVuRztvQkFBU2dHO29CQUFXRDtnQkFBSzttQkFDeEJJLFNBQVNySCxLQUFLLENBQUMsR0FBRyxJQUFJLDhCQUE4QjthQUN4RDtJQUNILEdBQUcsRUFBRTtJQUVMLGlEQUFpRDtJQUNqRCxNQUFNbkIscUJBQXFCdkksa0RBQVdBLENBQUM7UUFDckM4QyxpQkFBaUIsRUFBRTtJQUNyQixHQUFHLEVBQUU7SUFFTCxzREFBc0Q7SUFDdEQsTUFBTXFKLGlCQUFpQm5NLGtEQUFXQSxDQUFDLFNBQUM0SztZQUFTK0Ysd0VBQU87UUFDbEQsTUFBTUMsWUFBWSxJQUFJQyxPQUFPQyxrQkFBa0I7UUFDL0MxTixnQkFBZ0IyTixDQUFBQSxXQUFZO2dCQUMxQjtvQkFBRW5HO29CQUFTZ0c7b0JBQVdEO2dCQUFLO21CQUN4QkksU0FBU3JILEtBQUssQ0FBQyxHQUFHLElBQUksOEJBQThCO2FBQ3hEO0lBQ0gsR0FBRyxFQUFFO0lBRUwsZ0RBQWdEO0lBQ2hELE1BQU13QyxvQkFBb0JsTSxrREFBV0EsQ0FBQztRQUNwQ29ELGdCQUFnQixFQUFFO0lBQ3BCLEdBQUcsRUFBRTtJQUVMLHlEQUF5RDtJQUN6RCxNQUFNMkwsa0JBQWtCL08sa0RBQVdBLENBQUMsU0FBQzRLO1lBQVMrRix3RUFBTztRQUNuRCxNQUFNQyxZQUFZLElBQUlDLE9BQU9DLGtCQUFrQjtRQUMvQ3BOLGlCQUFpQnFOLENBQUFBLFdBQVk7Z0JBQzNCO29CQUFFbkc7b0JBQVNnRztvQkFBV0Q7Z0JBQUs7bUJBQ3hCSSxTQUFTckgsS0FBSyxDQUFDLEdBQUcsSUFBSSw4QkFBOEI7YUFDeEQ7SUFDSCxHQUFHLEVBQUU7SUFFTCxrREFBa0Q7SUFDbEQsTUFBTW9GLHFCQUFxQjlPLGtEQUFXQSxDQUFDO1FBQ3JDMEQsaUJBQWlCLEVBQUU7SUFDckIsR0FBRyxFQUFFO0lBRUwsNEJBQTRCO0lBQzVCLE1BQU1zTix1QkFBdUIsQ0FBQ3hMO1FBQzVCLDJFQUEyRTtRQUMzRSxJQUFJLENBQUM3RSxRQUFRNkUsVUFBVTtZQUNyQi9DLG9CQUFvQjtZQUNwQjtRQUNGO1FBRUFBLG9CQUFvQitDO1FBQ3BCLElBQUlBLFVBQVU7WUFDWnlMLGVBQWU7UUFFZiwwQ0FBMEM7UUFDMUMsd0JBQXdCO1FBQzFCO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQy9RLDhEQUFNQTtRQUFDZ1IsT0FBTTtrQkFDWiw0RUFBQ3JRO1lBQUlDLFdBQVU7c0JBQ2IsNEVBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDcVE7Z0NBQUdyUSxXQUFVOzBDQUFtQzs7Ozs7OzBDQUNqRCw4REFBQ2E7Z0NBQUViLFdBQVU7MENBQWdCOzs7Ozs7Ozs7Ozs7a0NBRy9CLDhEQUFDRDt3QkFBSUMsV0FBVTs7MENBRWIsOERBQUNEO2dDQUFJQyxXQUFXLDZDQUlmLE9BSENtRCxpQkFBaUIsY0FBYyxTQUMvQkEsaUJBQWlCLGVBQWUsV0FDaEM7MENBRUEsNEVBQUNwRDtvQ0FBSUMsV0FBVTs4Q0FDWmpCLGNBQUFBLDBEQUFtQixDQUFDSSxtREFBT0EsQ0FBQyxJQUFNLGdOQUFPOzs7Ozs7d0NBQXVDO3dDQUMvRW1DO3dDQUNBSTt3Q0FDQUM7d0NBQ0E3Qjt3Q0FDQXFEO3dDQUNBb04sc0JBQXNCako7b0NBQ3hCOzs7Ozs7Ozs7OzswQ0FLSiw4REFBQ3ZIO2dDQUFJQyxXQUFXLHlDQUVmLE9BRENtRCxpQkFBaUIsZUFBZSxXQUFXOzBDQUUzQyw0RUFBQ3BEO29DQUFJQyxXQUFVOzhDQUNiLDRFQUFDUDt3Q0FDQzZCLFlBQVl6QixPQUFPeUIsYUFBYUU7d0NBQ2hDRSxrQkFBa0JBO3dDQUNsQjhPLGtCQUFrQk47d0NBQ2xCTyxnQkFBZ0J4TDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFPdkJoRCxxQkFBcUJGLGNBQWMyRCxNQUFNLEdBQUcsbUJBQzNDLDhEQUFDM0Y7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUMwUTt3Q0FBRzFRLFdBQVU7a0RBQWdCOzs7Ozs7a0RBQzlCLDhEQUFDMlE7d0NBQU9DLFNBQVMsSUFBTTFPLHFCQUFxQjt3Q0FBUWxDLFdBQVU7a0RBQzVELDRFQUFDQzs0Q0FBSUQsV0FBVTs0Q0FBVUcsTUFBSzs0Q0FBT00sUUFBTzs0Q0FBZUwsU0FBUTs0Q0FBWUYsT0FBTTtzREFDbkYsNEVBQUNTO2dEQUFLRyxlQUFjO2dEQUFRQyxnQkFBZTtnREFBUUwsYUFBYTtnREFBR0UsR0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQ0FJM0UsOERBQUNiO2dDQUFJQyxXQUFVOzBDQUNaK0IsY0FBYzBDLEdBQUcsQ0FBQyxDQUFDTyxLQUFLeUUsc0JBQ3ZCLDhEQUFDMUo7d0NBQWdCQyxXQUFXLGVBSzNCLE9BSkNnRixJQUFJNkssSUFBSSxLQUFLLFVBQVUsaUJBQ3ZCN0ssSUFBSTZLLElBQUksS0FBSyxZQUFZLG1CQUN6QjdLLElBQUk2SyxJQUFJLEtBQUssWUFBWSxtQkFDekI7a0RBRUM3SyxJQUFJOEUsT0FBTzt1Q0FOSkw7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0I1QjtJQS8rQndCcEk7O1FBMEJMOUIsOERBQU9BOzs7TUExQkY4QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9tYXAuanM/ZDI0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9MYXlvdXQnO1xuaW1wb3J0IHsgZmV0Y2hQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vbGliL3N1cGFiYXNlJztcbmltcG9ydCB7IGVuaGFuY2VkR2VvY29kZVByb3BlcnRpZXMgfSBmcm9tICcuLi9saWIvZ2VvY29kaW5nJztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICcuLi9zcmMvY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcblxuLy8gSW1wb3J0IHRoZSBtYXAgY29tcG9uZW50IGR5bmFtaWNhbGx5IHRvIGF2b2lkIFNTUiBpc3N1ZXMgd2l0aCBMZWFmbGV0XG5jb25zdCBNYXBDb21wb25lbnQgPSBkeW5hbWljKFxuICAoKSA9PiBpbXBvcnQoJy4uL3NyYy9jb21wb25lbnRzL01hcENvbXBvbmVudCcpLFxuICB7IHNzcjogZmFsc2UgfVxuKTtcblxuLy8gTG9naW4gZ2F0ZSBjb21wb25lbnQgdGhhdCBibHVycyB0aGUgY29udGVudCBhbmQgc2hvd3MgYSBsb2dpbiBwcm9tcHRcbmNvbnN0IExvZ2luR2F0ZSA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgeyB1c2VyLCBsb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG4gIFxuICAvLyBTaG93IGxvYWRpbmcgc3RhdGUgd2hpbGUgY2hlY2tpbmcgYXV0aGVudGljYXRpb25cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIG1pbi1oLVs4MHZoXVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMCB6LTIwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gaC0xMCB3LTEwIHRleHQtYmx1ZS01MDAgbXgtYXV0byBtYi00XCJcbiAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxjaXJjbGVcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJvcGFjaXR5LTI1XCJcbiAgICAgICAgICAgICAgICBjeD1cIjEyXCJcbiAgICAgICAgICAgICAgICBjeT1cIjEyXCJcbiAgICAgICAgICAgICAgICByPVwiMTBcIlxuICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCI0XCJcbiAgICAgICAgICAgICAgPjwvY2lyY2xlPlxuICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9wYWNpdHktNzVcIlxuICAgICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIlxuICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJkYXJrOnRleHQtZ3JheS0zMDBcIj5DaGVja2luZyBhdXRoZW50aWNhdGlvbi4uLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4gIFxuICAvLyBJZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQsIHNob3cgdGhlIGNvbnRlbnRcbiAgaWYgKHVzZXIpIHtcbiAgICByZXR1cm4gPD57Y2hpbGRyZW59PC8+O1xuICB9XG4gIFxuICAvLyBJZiBub3QgYXV0aGVudGljYXRlZCwgc2hvdyBibHVycmVkIGNvbnRlbnQgd2l0aCBsb2dpbiBwcm9tcHRcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgbWluLWgtWzgwdmhdXCI+XG4gICAgICB7LyogQmx1cnJlZCBjb250ZW50IGluIGJhY2tncm91bmQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmlsdGVyIGJsdXItbWQgb3BhY2l0eS00MCBwb2ludGVyLWV2ZW50cy1ub25lIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgey8qIExvZ2luL3NpZ251cCBvdmVybGF5IHdpdGggc2VtaS10cmFuc3BhcmVudCBiYWNrZHJvcCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1ibGFjay8yMCBkYXJrOmJnLWJsYWNrLzQwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotMjBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHAtOCByb3VuZGVkLWxnIHNoYWRvdy14bCBtYXgtdy1tZCB3LWZ1bGwgdGV4dC1jZW50ZXIgYmFja2Ryb3AtYmx1ci1zbSBiZy1vcGFjaXR5LTk1IGRhcms6Ymctb3BhY2l0eS05NSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTE2IHctMTYgdGV4dC1ibHVlLTUwMCBteC1hdXRvIG1iLTRcIlxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICAgICAgICAgICAgZD1cIk0xMiAxNXYybS02IDRoMTJhMiAyIDAgMDAyLTJ2LTZhMiAyIDAgMDAtMi0ySDZhMiAyIDAgMDAtMiAydjZhMiAyIDAgMDAyIDJ6bTEwLTEwVjdhNCA0IDAgMDAtOCAwdjRoOHpcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+QWNjZXNzIFJlc3RyaWN0ZWQ8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICBZb3UgbmVlZCB0byBsb2cgaW4gb3IgY3JlYXRlIGFuIGFjY291bnQgdG8gYWNjZXNzIHRoZSBmdWxsIHByb3BlcnR5IG1hcCBhbmQgZGV0YWlscy5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9sb2dpblwiPlxuICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJibG9jayB3LWZ1bGwgcHktMyBweC00IHRleHQtY2VudGVyIGJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGUgZm9udC1tZWRpdW0gcm91bmRlZC1tZCBzaGFkb3cgdHJhbnNpdGlvbiBkdXJhdGlvbi0xNTBcIj5cbiAgICAgICAgICAgICAgICBMb2cgSW5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9zaWdudXBcIj5cbiAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIHB5LTMgcHgtNCB0ZXh0LWNlbnRlciBib3JkZXIgYm9yZGVyLWJsdWUtNjAwIHRleHQtYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS01MCBkYXJrOmhvdmVyOmJnLWJsdWUtOTAwIGRhcms6dGV4dC1ibHVlLTQwMCBkYXJrOmJvcmRlci1ibHVlLTQwMCBmb250LW1lZGl1bSByb3VuZGVkLW1kIHRyYW5zaXRpb24gZHVyYXRpb24tMTUwXCI+XG4gICAgICAgICAgICAgICAgU2lnbiBVcFxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtNFwiPlxuICAgICAgICAgICAgICA8cD5CeSBzaWduaW5nIHVwLCB5b3UnbGwgZ2V0IGFjY2VzcyB0bzo8L3A+XG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJtdC0yIHNwYWNlLXktMSB0ZXh0LWxlZnQgbGlzdC1kaXNjIGxpc3QtaW5zaWRlXCI+XG4gICAgICAgICAgICAgICAgPGxpPkZ1bGwgcHJvcGVydHkgZGV0YWlscyBhbmQgaW5zaWdodHM8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5TYXZlIGZhdm9yaXRlIHByb3BlcnRpZXM8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5HZXQgbm90aWZpY2F0aW9ucyBvbiBuZXcgbGlzdGluZ3M8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT5BY2Nlc3MgYWR2YW5jZWQgZmlsdGVyaW5nIG9wdGlvbnM8L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNYXBQYWdlKCkge1xuICBjb25zdCBbcHJvcGVydGllcywgc2V0UHJvcGVydGllc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzYW1wbGVQcm9wZXJ0aWVzLCBzZXRTYW1wbGVQcm9wZXJ0aWVzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkUHJvcGVydHksIHNldFNlbGVjdGVkUHJvcGVydHldID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZ2VvY29kaW5nLCBzZXRHZW9jb2RpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZ2VvY29kaW5nTG9ncywgc2V0R2VvY29kaW5nTG9nc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzaG93R2VvY29kaW5nTG9ncywgc2V0U2hvd0dlb2NvZGluZ0xvZ3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2xlYW5pbmcsIHNldENsZWFuaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NsZWFuaW5nTG9ncywgc2V0Q2xlYW5pbmdMb2dzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3Nob3dDbGVhbmluZ0xvZ3MsIHNldFNob3dDbGVhbmluZ0xvZ3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZW5yaWNoaW5nLCBzZXRFbnJpY2hpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZW5yaWNoaW5nTG9ncywgc2V0RW5yaWNoaW5nTG9nc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzaG93RW5yaWNoaW5nTG9ncywgc2V0U2hvd0VucmljaGluZ0xvZ3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWFwQm91bmRzLCBzZXRNYXBCb3VuZHNdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFt0b3RhbEZldGNoZWQsIHNldFRvdGFsRmV0Y2hlZF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3NpZGViYXJTdGF0ZSwgc2V0U2lkZWJhclN0YXRlXSA9IHVzZVN0YXRlKCdvcGVuJyk7IC8vICdvcGVuJywgJ2NvbGxhcHNlZCcsIG9yICdmdWxsc2NyZWVuJ1xuICBjb25zdCBbZGF0YVN0YXRzLCBzZXREYXRhU3RhdHNdID0gdXNlU3RhdGUoe1xuICAgIHRvdGFsUHJvcGVydGllczogMCxcbiAgICBpbnZhbGlkQ29vcmRpbmF0ZXM6IDAsXG4gICAgbWlzc2luZ0Nvb3JkaW5hdGVzOiAwLFxuICAgIHplcm9Db29yZGluYXRlczogMCxcbiAgICBpbnZhbGlkUmFuZ2U6IDAsXG4gICAgZHVwbGljYXRlZExvY2F0aW9uczogMFxuICB9KTtcblxuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcblxuICAvLyBMb2FkIHNhbXBsZSBwcm9wZXJ0aWVzIGZvciBub24tYXV0aGVudGljYXRlZCB1c2Vyc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWRTYW1wbGVQcm9wZXJ0aWVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRmV0Y2gganVzdCBhIGZldyBzYW1wbGUgcHJvcGVydGllcyB0byBzaG93IG9uIHRoZSBtYXBcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hQcm9wZXJ0aWVzKHtcbiAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICBwYWdlU2l6ZTogNSwgLy8gSnVzdCBhIGZldyBzYW1wbGVzXG4gICAgICAgICAgICBzb3J0Qnk6ICdjcmVhdGVkX2F0JyxcbiAgICAgICAgICAgIHNvcnRBc2M6IGZhbHNlLFxuICAgICAgICAgICAgaW5jbHVkZUluY29tcGxldGU6IGZhbHNlLFxuICAgICAgICAgICAgaW5jbHVkZVJlc2VhcmNoOiB0cnVlLFxuICAgICAgICAgICAgZmlsdGVyczoge30sXG4gICAgICAgICAgICBub0xpbWl0OiBmYWxzZSxcbiAgICAgICAgICAgIGJvdW5kczogbnVsbFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE1hcmsgdGhlbSBhcyBzYW1wbGUgcHJvcGVydGllc1xuICAgICAgICAgIGNvbnN0IHNhbXBsZXNXaXRoTGFiZWwgPSBkYXRhLm1hcChwcm9wZXJ0eSA9PiAoe1xuICAgICAgICAgICAgLi4ucHJvcGVydHksXG4gICAgICAgICAgICBuYW1lOiBwcm9wZXJ0eS5uYW1lID8gYCR7cHJvcGVydHkubmFtZX0gKFNhbXBsZSlgIDogJ1NhbXBsZSBQcm9wZXJ0eScsXG4gICAgICAgICAgICBfaXNTYW1wbGU6IHRydWVcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0U2FtcGxlUHJvcGVydGllcyhzYW1wbGVzV2l0aExhYmVsKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHNhbXBsZSBwcm9wZXJ0aWVzOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgbG9hZFNhbXBsZVByb3BlcnRpZXMoKTtcbiAgfSwgW3VzZXJdKTtcblxuICAvLyBJbml0aWFsIHByb3BlcnR5IGxvYWQgb24gcGFnZSBsb2FkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGxvYWRQcm9wZXJ0aWVzKCk7XG4gICAgfVxuICB9LCBbdXNlcl0pO1xuXG4gIC8vIFJlbG9hZCBwcm9wZXJ0aWVzIHdoZW4gbWFwIGJvdW5kcyBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobWFwQm91bmRzKSB7XG4gICAgICBjb25zb2xlLmxvZygnTWFwIGJvdW5kcyBjaGFuZ2VkLCBsb2FkaW5nIHByb3BlcnRpZXMgaW4gdGhlIHZpc2libGUgYXJlYScpO1xuICAgICAgbG9hZFByb3BlcnRpZXMobWFwQm91bmRzKTtcbiAgICB9XG4gIH0sIFttYXBCb3VuZHNdKTtcblxuICAvLyBIYW5kbGUgbWFwIGJvdW5kcyBjaGFuZ2VzXG4gIGNvbnN0IGhhbmRsZUJvdW5kc0NoYW5nZSA9IHVzZUNhbGxiYWNrKChib3VuZHMpID0+IHtcbiAgICBzZXRNYXBCb3VuZHMoYm91bmRzKTtcbiAgfSwgW10pO1xuXG4gIC8vIENhbGN1bGF0ZSBzdGF0aXN0aWNzIGFib3V0IHRoZSBwcm9wZXJ0eSBkYXRhXG4gIGNvbnN0IGNhbGN1bGF0ZVN0YXRzID0gdXNlQ2FsbGJhY2soKHByb3BEYXRhKSA9PiB7XG4gICAgaWYgKCFwcm9wRGF0YSB8fCAhQXJyYXkuaXNBcnJheShwcm9wRGF0YSkpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBtaXNzaW5nQ29vcmRzID0gcHJvcERhdGEuZmlsdGVyKHAgPT4gIXAubGF0aXR1ZGUgfHwgIXAubG9uZ2l0dWRlKS5sZW5ndGg7XG4gICAgY29uc3QgemVyb0Nvb3JkcyA9IHByb3BEYXRhLmZpbHRlcihwID0+IHAubGF0aXR1ZGUgPT09IDAgJiYgcC5sb25naXR1ZGUgPT09IDApLmxlbmd0aDtcbiAgICBjb25zdCBpbnZhbGlkUmFuZ2UgPSBwcm9wRGF0YS5maWx0ZXIocCA9PiB7XG4gICAgICBpZiAoIXAubGF0aXR1ZGUgfHwgIXAubG9uZ2l0dWRlKSByZXR1cm4gZmFsc2U7XG4gICAgICBjb25zdCBsYXQgPSB0eXBlb2YgcC5sYXRpdHVkZSA9PT0gJ251bWJlcicgPyBwLmxhdGl0dWRlIDogcGFyc2VGbG9hdChTdHJpbmcocC5sYXRpdHVkZSkpO1xuICAgICAgY29uc3QgbG5nID0gdHlwZW9mIHAubG9uZ2l0dWRlID09PSAnbnVtYmVyJyA/IHAubG9uZ2l0dWRlIDogcGFyc2VGbG9hdChTdHJpbmcocC5sb25naXR1ZGUpKTtcbiAgICAgIHJldHVybiAoaXNOYU4obGF0KSB8fCBpc05hTihsbmcpIHx8IGxhdCA8IC05MCB8fCBsYXQgPiA5MCB8fCBsbmcgPCAtMTgwIHx8IGxuZyA+IDE4MCk7XG4gICAgfSkubGVuZ3RoO1xuICAgIFxuICAgIC8vIENvdW50IHByb3BlcnRpZXMgYXQgaWRlbnRpY2FsIGNvb3JkaW5hdGVzXG4gICAgY29uc3QgY29vcmRNYXAgPSBuZXcgTWFwKCk7XG4gICAgbGV0IGR1cGxpY2F0ZWRDb29yZHMgPSAwO1xuICAgIFxuICAgIHByb3BEYXRhLmZvckVhY2gocCA9PiB7XG4gICAgICBpZiAocC5sYXRpdHVkZSAmJiBwLmxvbmdpdHVkZSkge1xuICAgICAgICBjb25zdCBjb29yZEtleSA9IGAke3AubGF0aXR1ZGV9LCR7cC5sb25naXR1ZGV9YDtcbiAgICAgICAgaWYgKGNvb3JkTWFwLmhhcyhjb29yZEtleSkpIHtcbiAgICAgICAgICBjb29yZE1hcC5zZXQoY29vcmRLZXksIGNvb3JkTWFwLmdldChjb29yZEtleSkgKyAxKTtcbiAgICAgICAgICBkdXBsaWNhdGVkQ29vcmRzKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29vcmRNYXAuc2V0KGNvb3JkS2V5LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHNldERhdGFTdGF0cyh7XG4gICAgICB0b3RhbFByb3BlcnRpZXM6IHByb3BEYXRhLmxlbmd0aCxcbiAgICAgIGludmFsaWRDb29yZGluYXRlczogbWlzc2luZ0Nvb3JkcyArIHplcm9Db29yZHMgKyBpbnZhbGlkUmFuZ2UsXG4gICAgICBtaXNzaW5nQ29vcmRpbmF0ZXM6IG1pc3NpbmdDb29yZHMsXG4gICAgICB6ZXJvQ29vcmRpbmF0ZXM6IHplcm9Db29yZHMsXG4gICAgICBpbnZhbGlkUmFuZ2U6IGludmFsaWRSYW5nZSxcbiAgICAgIGR1cGxpY2F0ZWRMb2NhdGlvbnM6IGR1cGxpY2F0ZWRDb29yZHMsXG4gICAgICB1bmlxdWVMb2NhdGlvbnM6IGNvb3JkTWFwLnNpemVcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGxvYWQgcHJvcGVydGllcyB3aXRoIG9wdGlvbmFsIGJvdW5kcyBmaWx0ZXJcbiAgYXN5bmMgZnVuY3Rpb24gbG9hZFByb3BlcnRpZXMoYm91bmRzID0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgXG4gICAgICAgIHNvcnRCeTogJ2NyZWF0ZWRfYXQnLCBcbiAgICAgICAgc29ydEFzYzogZmFsc2UsXG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIHBhZ2VTaXplOiAxMDAwLFxuICAgICAgICBmaWx0ZXJzOiB7fSxcbiAgICAgICAgaW5jbHVkZUluY29tcGxldGU6IHRydWUsXG4gICAgICAgIGluY2x1ZGVSZXNlYXJjaDogdHJ1ZSxcbiAgICAgICAgbm9MaW1pdDogdHJ1ZSAvLyBCeXBhc3MgcGFnaW5hdGlvbiB0byBnZXQgYWxsIHByb3BlcnRpZXNcbiAgICAgIH07XG5cbiAgICAgIC8vIEFwcGx5IGJvdW5kcyBmaWx0ZXIgaWYgcHJvdmlkZWRcbiAgICAgIGlmIChib3VuZHMpIHtcbiAgICAgICAgb3B0aW9ucy5ib3VuZHMgPSBib3VuZHM7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaFByb3BlcnRpZXMob3B0aW9ucyk7XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBzdGF0aXN0aWNzXG4gICAgICBjYWxjdWxhdGVTdGF0cyhkYXRhKTtcbiAgICAgIFxuICAgICAgLy8gRW5oYW5jZWQgbG9nZ2luZyBmb3IgZGVidWdnaW5nXG4gICAgICBjb25zb2xlLmxvZyhgPT09PT0gTUFQIERFQlVHID09PT09YCk7XG4gICAgICBjb25zb2xlLmxvZyhgTG9hZGVkICR7ZGF0YS5sZW5ndGh9IHByb3BlcnRpZXMgZm9yIG1hcGApO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBjb29yZGluYXRlIHZhbGlkaXR5XG4gICAgICBjb25zdCB2YWxpZENvb3JkcyA9IGRhdGEuZmlsdGVyKHAgPT4gXG4gICAgICAgIHAubGF0aXR1ZGUgJiYgXG4gICAgICAgIHAubG9uZ2l0dWRlICYmIFxuICAgICAgICB0eXBlb2YgcC5sYXRpdHVkZSA9PT0gJ251bWJlcicgJiYgXG4gICAgICAgIHR5cGVvZiBwLmxvbmdpdHVkZSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgIShwLmxhdGl0dWRlID09PSAwICYmIHAubG9uZ2l0dWRlID09PSAwKVxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKGBQcm9wZXJ0aWVzIHdpdGggdmFsaWQgY29vcmRpbmF0ZXM6ICR7dmFsaWRDb29yZHMubGVuZ3RofWApO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBBdXN0aW4gYXJlYSBjb29yZGluYXRlc1xuICAgICAgY29uc3QgYXVzdGluQ29vcmRzID0gdmFsaWRDb29yZHMuZmlsdGVyKHAgPT4gXG4gICAgICAgIHAubGF0aXR1ZGUgPj0gMjkuNSAmJiBwLmxhdGl0dWRlIDw9IDMxLjAgJiYgXG4gICAgICAgIHAubG9uZ2l0dWRlID49IC05OC4wICYmIHAubG9uZ2l0dWRlIDw9IC05Ny4wXG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2coYFByb3BlcnRpZXMgd2l0aCBjb29yZGluYXRlcyBpbiBBdXN0aW4gYXJlYTogJHthdXN0aW5Db29yZHMubGVuZ3RofWApO1xuICAgICAgXG4gICAgICAvLyBMb29rIGZvciBzdXNwaWNpb3VzIHBhdHRlcm5zXG4gICAgICBjb25zdCBzdXNwaWNpb3VzQ29vcmRzID0gdmFsaWRDb29yZHMuZmlsdGVyKHAgPT4ge1xuICAgICAgICBjb25zdCBsYXRTdHIgPSBTdHJpbmcocC5sYXRpdHVkZSk7XG4gICAgICAgIGNvbnN0IGxuZ1N0ciA9IFN0cmluZyhwLmxvbmdpdHVkZSk7XG4gICAgICAgIGNvbnN0IGhhc0xvd1ByZWNpc2lvbiA9IFxuICAgICAgICAgIChsYXRTdHIuaW5jbHVkZXMoJy4nKSAmJiBsYXRTdHIuc3BsaXQoJy4nKVsxXS5sZW5ndGggPD0gMSkgfHxcbiAgICAgICAgICAobG5nU3RyLmluY2x1ZGVzKCcuJykgJiYgbG5nU3RyLnNwbGl0KCcuJylbMV0ubGVuZ3RoIDw9IDEpO1xuICAgICAgICBjb25zdCBoYXNTdXNwaWNpb3VzUGF0dGVybiA9IFxuICAgICAgICAgIGxhdFN0ciA9PT0gbG5nU3RyIHx8IFxuICAgICAgICAgIGxhdFN0ci5lbmRzV2l0aCgnMDAwMDAnKSB8fCBcbiAgICAgICAgICBsbmdTdHIuZW5kc1dpdGgoJzAwMDAwJyk7XG4gICAgICAgIHJldHVybiBoYXNMb3dQcmVjaXNpb24gfHwgaGFzU3VzcGljaW91c1BhdHRlcm47XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGBQcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyBjb29yZGluYXRlczogJHtzdXNwaWNpb3VzQ29vcmRzLmxlbmd0aH1gKTtcbiAgICAgIGNvbnNvbGUubG9nKGA9PT09PSBFTkQgREVCVUcgPT09PT1gKTtcbiAgICAgIFxuICAgICAgc2V0UHJvcGVydGllcyhkYXRhKTtcbiAgICAgIHNldFRvdGFsRmV0Y2hlZChkYXRhLmxlbmd0aCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb3BlcnRpZXM6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byBoYW5kbGUgc2lkZWJhciBzdGF0ZSBjaGFuZ2VcbiAgY29uc3QgaGFuZGxlU2lkZWJhclN0YXRlQ2hhbmdlID0gKHN0YXRlKSA9PiB7XG4gICAgc2V0U2lkZWJhclN0YXRlKHN0YXRlKTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBiYXRjaCBnZW9jb2RlIHByb3BlcnRpZXMgd2l0aCBtaXNzaW5nIGNvb3JkaW5hdGVzXG4gIGFzeW5jIGZ1bmN0aW9uIGJhdGNoR2VvY29kZVByb3BlcnRpZXMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHNldEdlb2NvZGluZyh0cnVlKTtcbiAgICAgIGNsZWFyR2VvY29kaW5nTG9ncygpO1xuICAgICAgc2V0U2hvd0dlb2NvZGluZ0xvZ3ModHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIEZpbHRlciBwcm9wZXJ0aWVzIHRoYXQgbmVlZCBnZW9jb2RpbmdcbiAgICAgIGNvbnN0IHByb3BzVG9HZW9jb2RlID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAgICAgIXAubGF0aXR1ZGUgfHwgIXAubG9uZ2l0dWRlIHx8IFxuICAgICAgICBwLmxhdGl0dWRlID09PSAwIHx8IHAubG9uZ2l0dWRlID09PSAwIHx8XG4gICAgICAgIHAuX2Nvb3JkaW5hdGVzX21pc3NpbmcgfHwgcC5fbmVlZHNfZ2VvY29kaW5nIHx8XG4gICAgICAgIHAuX2lzX2dyaWRfcGF0dGVyblxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKHByb3BzVG9HZW9jb2RlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBhZGRHZW9jb2RpbmdMb2coJ05vIHByb3BlcnRpZXMgbmVlZCBnZW9jb2RpbmcnLCAnaW5mbycpO1xuICAgICAgICBhbGVydCgnTm8gcHJvcGVydGllcyBuZWVkIGdlb2NvZGluZycpO1xuICAgICAgICBzZXRHZW9jb2RpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENvbmZpcm0gd2l0aCB1c2VyXG4gICAgICBhZGRHZW9jb2RpbmdMb2coYEZvdW5kICR7cHJvcHNUb0dlb2NvZGUubGVuZ3RofSBwcm9wZXJ0aWVzIHRoYXQgbmVlZCBnZW9jb2RpbmdgLCAnaW5mbycpO1xuICAgICAgaWYgKCFjb25maXJtKGBUaGlzIHdpbGwgYXR0ZW1wdCB0byBnZW9jb2RlICR7cHJvcHNUb0dlb2NvZGUubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggbWlzc2luZyBvciBpbnZhbGlkIGNvb3JkaW5hdGVzLiBDb250aW51ZT9gKSkge1xuICAgICAgICBhZGRHZW9jb2RpbmdMb2coJ0dlb2NvZGluZyBjYW5jZWxsZWQgYnkgdXNlcicsICd3YXJuaW5nJyk7XG4gICAgICAgIHNldEdlb2NvZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYWRkR2VvY29kaW5nTG9nKGBTdGFydGluZyBiYXRjaCBnZW9jb2Rpbmcgb2YgJHtwcm9wc1RvR2VvY29kZS5sZW5ndGh9IHByb3BlcnRpZXNgLCAnaW5mbycpO1xuICAgICAgXG4gICAgICAvLyBQcm9jZXNzIGluIGJhdGNoZXMgb2YgMjUgdG8gYXZvaWQgcmF0ZSBsaW1pdHNcbiAgICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDI1O1xuICAgICAgY29uc3QgYmF0Y2hlcyA9IE1hdGguY2VpbChwcm9wc1RvR2VvY29kZS5sZW5ndGggLyBiYXRjaFNpemUpO1xuICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7XG4gICAgICBsZXQgZmFpbENvdW50ID0gMDtcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXRjaGVzOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBpICogYmF0Y2hTaXplO1xuICAgICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihzdGFydCArIGJhdGNoU2l6ZSwgcHJvcHNUb0dlb2NvZGUubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgYmF0Y2ggPSBwcm9wc1RvR2VvY29kZS5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgXG4gICAgICAgIGFkZEdlb2NvZGluZ0xvZyhgUHJvY2Vzc2luZyBiYXRjaCAke2krMX0vJHtiYXRjaGVzfSAoJHtiYXRjaC5sZW5ndGh9IHByb3BlcnRpZXMpYCwgJ2luZm8nKTtcbiAgICAgICAgY29uc29sZS5sb2coYFByb2Nlc3NpbmcgYmF0Y2ggJHtpKzF9LyR7YmF0Y2hlc30gKCR7YmF0Y2gubGVuZ3RofSBwcm9wZXJ0aWVzKWApO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGb3IgZWFjaCBwcm9wZXJ0eSBpbiB0aGUgYmF0Y2gsIGxvZyB0aGUgcHJvcGVydHkgYmVpbmcgcHJvY2Vzc2VkXG4gICAgICAgICAgYmF0Y2guZm9yRWFjaCgocHJvcGVydHksIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gcHJvcGVydHkubmFtZSB8fCBgUHJvcGVydHkgIyR7cHJvcGVydHkuaWR9YDtcbiAgICAgICAgICAgIGFkZEdlb2NvZGluZ0xvZyhgWyR7aSsxfS4ke2lkeCsxfV0gUXVldWluZyAke3Byb3BlcnR5TmFtZX1gLCAnZGV0YWlsJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgZ2VvY29kZWRCYXRjaCA9IGF3YWl0IGVuaGFuY2VkR2VvY29kZVByb3BlcnRpZXMoYmF0Y2gsIChwcm9wZXJ0eSwgc3RhdHVzLCBkZXRhaWxzKSA9PiB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBwcm9wZXJ0eSBhcyBpdCdzIHByb2Nlc3NlZFxuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gcHJvcGVydHkubmFtZSB8fCBgUHJvcGVydHkgIyR7cHJvcGVydHkuaWR9YDtcbiAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgICBhZGRHZW9jb2RpbmdMb2coYEdlb2NvZGVkOiAke3Byb3BlcnR5TmFtZX0gKCR7ZGV0YWlsc30pYCwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgIGFkZEdlb2NvZGluZ0xvZyhgRmFpbGVkOiAke3Byb3BlcnR5TmFtZX0gKCR7ZGV0YWlsc30pYCwgJ2Vycm9yJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhZGRHZW9jb2RpbmdMb2coYCR7c3RhdHVzfTogJHtwcm9wZXJ0eU5hbWV9ICR7ZGV0YWlscyA/IGAoJHtkZXRhaWxzfSlgIDogJyd9YCwgJ2luZm8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDb3VudCBzdWNjZXNzZXMgYW5kIGZhaWx1cmVzXG4gICAgICAgICAgY29uc3QgYmF0Y2hTdWNjZXNzID0gZ2VvY29kZWRCYXRjaC5maWx0ZXIocCA9PiBwLl9nZW9jb2RlZCkubGVuZ3RoO1xuICAgICAgICAgIGNvbnN0IGJhdGNoRmFpbCA9IGdlb2NvZGVkQmF0Y2guZmlsdGVyKHAgPT4gcC5fZ2VvY29kaW5nX2ZhaWxlZCkubGVuZ3RoO1xuICAgICAgICAgIFxuICAgICAgICAgIHN1Y2Nlc3NDb3VudCArPSBiYXRjaFN1Y2Nlc3M7XG4gICAgICAgICAgZmFpbENvdW50ICs9IGJhdGNoRmFpbDtcbiAgICAgICAgICBcbiAgICAgICAgICBhZGRHZW9jb2RpbmdMb2coYEJhdGNoICR7aSsxfSBjb21wbGV0ZTogJHtiYXRjaFN1Y2Nlc3N9IHN1Y2Nlc3NlcywgJHtiYXRjaEZhaWx9IGZhaWx1cmVzYCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoU3VjY2VzcyA+IGJhdGNoRmFpbCA/ICdzdWNjZXNzJyA6ICd3YXJuaW5nJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWVyZ2UgZ2VvY29kZWQgcHJvcGVydGllcyBiYWNrIGludG8gdGhlIG1haW4gYXJyYXlcbiAgICAgICAgICBjb25zdCB1cGRhdGVkUHJvcGVydGllcyA9IFsuLi5wcm9wZXJ0aWVzXTtcbiAgICAgICAgICBnZW9jb2RlZEJhdGNoLmZvckVhY2goZ2VvY29kZWRQcm9wID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdXBkYXRlZFByb3BlcnRpZXMuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gZ2VvY29kZWRQcm9wLmlkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgdXBkYXRlZFByb3BlcnRpZXNbaW5kZXhdID0gZ2VvY29kZWRQcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvcGVydGllcyBzdGF0ZVxuICAgICAgICAgIHNldFByb3BlcnRpZXModXBkYXRlZFByb3BlcnRpZXMpO1xuICAgICAgICAgIGNhbGN1bGF0ZVN0YXRzKHVwZGF0ZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBXYWl0IGEgYml0IGJldHdlZW4gYmF0Y2hlcyB0byBhdm9pZCByYXRlIGxpbWl0c1xuICAgICAgICAgIGlmIChpIDwgYmF0Y2hlcyAtIDEpIHtcbiAgICAgICAgICAgIGFkZEdlb2NvZGluZ0xvZyhgV2FpdGluZyAyIHNlY29uZHMgYmVmb3JlIG5leHQgYmF0Y2ggdG8gYXZvaWQgcmF0ZSBsaW1pdHNgLCAnaW5mbycpO1xuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZ2VvY29kaW5nIGJhdGNoICR7aSsxfTpgLCBlcnJvcik7XG4gICAgICAgICAgYWRkR2VvY29kaW5nTG9nKGBFcnJvciB3aXRoIGJhdGNoICR7aSsxfTogJHtlcnJvci5tZXNzYWdlfWAsICdlcnJvcicpO1xuICAgICAgICAgIGZhaWxDb3VudCArPSBiYXRjaC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgYWRkR2VvY29kaW5nTG9nKGBHZW9jb2RpbmcgY29tcGxldGU6ICR7c3VjY2Vzc0NvdW50fSBzdWNjZXNzZXMsICR7ZmFpbENvdW50fSBmYWlsdXJlc2AsIFxuICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCA+IGZhaWxDb3VudCA/ICdzdWNjZXNzJyA6ICdlcnJvcicpO1xuICAgICAgXG4gICAgICBhbGVydChgR2VvY29kaW5nIGNvbXBsZXRlOlxcblxcbiR7c3VjY2Vzc0NvdW50fSBwcm9wZXJ0aWVzIHN1Y2Nlc3NmdWxseSBnZW9jb2RlZFxcbiR7ZmFpbENvdW50fSBwcm9wZXJ0aWVzIGZhaWxlZCB0byBnZW9jb2RlYCk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gYmF0Y2ggZ2VvY29kaW5nOicsIGVycm9yKTtcbiAgICAgIGFkZEdlb2NvZGluZ0xvZyhgR2VvY29kaW5nIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJyk7XG4gICAgICBhbGVydChgRXJyb3IgZ2VvY29kaW5nIHByb3BlcnRpZXM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0R2VvY29kaW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBydW5Qcm9wZXJ0eUFuYWx5c2lzKCkge1xuICAgIC8vIENvdW50IHByb3BlcnRpZXMgYXQgaWRlbnRpY2FsIGNvb3JkaW5hdGVzXG4gICAgY29uc3QgY29vcmRNYXAgPSBuZXcgTWFwKCk7XG4gICAgbGV0IGR1cGxpY2F0ZWRDb29yZHMgPSAwO1xuICAgIFxuICAgIHByb3BlcnRpZXMuZm9yRWFjaChwID0+IHtcbiAgICAgIGlmIChwLmxhdGl0dWRlICYmIHAubG9uZ2l0dWRlKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkS2V5ID0gYCR7cC5sYXRpdHVkZX0sJHtwLmxvbmdpdHVkZX1gO1xuICAgICAgICBpZiAoY29vcmRNYXAuaGFzKGNvb3JkS2V5KSkge1xuICAgICAgICAgIGNvb3JkTWFwLnNldChjb29yZEtleSwgY29vcmRNYXAuZ2V0KGNvb3JkS2V5KSArIDEpO1xuICAgICAgICAgIGR1cGxpY2F0ZWRDb29yZHMrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb29yZE1hcC5zZXQoY29vcmRLZXksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRmluZCBjb29yZGluYXRlcyB3aXRoIG11bHRpcGxlIHByb3BlcnRpZXNcbiAgICBjb25zdCBtdWx0aXBsZVByb3BzTG9jYXRpb25zID0gQXJyYXkuZnJvbShjb29yZE1hcC5lbnRyaWVzKCkpXG4gICAgICAuZmlsdGVyKChbXywgY291bnRdKSA9PiBjb3VudCA+IDEpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pOyAvLyBTb3J0IGJ5IGNvdW50IGRlc2NlbmRpbmdcbiAgICBcbiAgICBjb25zdCBtdWx0aXBsZVByb3BzQ291bnQgPSBtdWx0aXBsZVByb3BzTG9jYXRpb25zLnJlZHVjZSgoc3VtLCBbXywgY291bnRdKSA9PiBzdW0gKyBjb3VudCwgMCk7XG4gICAgY29uc3QgdW5pcXVlTG9jYXRpb25zID0gY29vcmRNYXAuc2l6ZTtcbiAgICBcbiAgICAvLyBDb3VudCBieSBnZW9jb2Rpbmcgc291cmNlIGlmIGF2YWlsYWJsZVxuICAgIGNvbnN0IGJ5U291cmNlID0ge1xuICAgICAgZXhpc3Rpbmc6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5fZ2VvY29kaW5nX3NvdXJjZSA9PT0gJ2V4aXN0aW5nJykubGVuZ3RoLFxuICAgICAgdmVyaWZpZWRfYWRkcmVzczogcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLl9nZW9jb2Rpbmdfc291cmNlID09PSAndmVyaWZpZWRfYWRkcmVzcycpLmxlbmd0aCxcbiAgICAgIGZ1bGxfYWRkcmVzczogcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLl9nZW9jb2Rpbmdfc291cmNlID09PSAnZnVsbF9hZGRyZXNzJykubGVuZ3RoLFxuICAgICAgcHJvcGVydHlfbmFtZTogcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLl9nZW9jb2Rpbmdfc291cmNlID09PSAncHJvcGVydHlfbmFtZScpLmxlbmd0aCxcbiAgICAgIHVua25vd246IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5sYXRpdHVkZSAmJiBwLmxvbmdpdHVkZSAmJiAhcC5fZ2VvY29kaW5nX3NvdXJjZSkubGVuZ3RoXG4gICAgfTtcbiAgICBcbiAgICBhbGVydChcbiAgICAgIGBNYXAgUHJvcGVydGllcyBBbmFseXNpczpcXG5cXG5gICtcbiAgICAgIGAtIFRvdGFsIHByb3BlcnRpZXM6ICR7cHJvcGVydGllcy5sZW5ndGh9XFxuYCArXG4gICAgICBgLSBQcm9wZXJ0aWVzIHdpdGggaW52YWxpZCBjb29yZGluYXRlczogJHtkYXRhU3RhdHMuaW52YWxpZENvb3JkaW5hdGVzfVxcbmAgK1xuICAgICAgYCAgIOKAoiBNaXNzaW5nIGNvb3JkaW5hdGVzOiAke2RhdGFTdGF0cy5taXNzaW5nQ29vcmRpbmF0ZXN9XFxuYCArXG4gICAgICBgICAg4oCiIFplcm8gY29vcmRpbmF0ZXM6ICR7ZGF0YVN0YXRzLnplcm9Db29yZGluYXRlc31cXG5gICtcbiAgICAgIGAgICDigKIgSW52YWxpZCBjb29yZGluYXRlIHJhbmdlOiAke2RhdGFTdGF0cy5pbnZhbGlkUmFuZ2V9XFxuXFxuYCArXG4gICAgICBgLSBVbmlxdWUgbG9jYXRpb25zIG9uIG1hcDogJHt1bmlxdWVMb2NhdGlvbnN9XFxuYCArXG4gICAgICBgLSBQcm9wZXJ0aWVzIHNoYXJpbmcgZXhhY3QgY29vcmRpbmF0ZXM6ICR7ZHVwbGljYXRlZENvb3Jkc31cXG5gICtcbiAgICAgIGAtIE51bWJlciBvZiBzaGFyZWQgbG9jYXRpb25zOiAke211bHRpcGxlUHJvcHNMb2NhdGlvbnMubGVuZ3RofVxcblxcbmAgK1xuICAgICAgKG11bHRpcGxlUHJvcHNMb2NhdGlvbnMubGVuZ3RoID4gMCA/IFxuICAgICAgICBgVG9wIHNoYXJlZCBsb2NhdGlvbnM6XFxuYCArXG4gICAgICAgIG11bHRpcGxlUHJvcHNMb2NhdGlvbnMuc2xpY2UoMCwgNSkubWFwKChbY29vcmRzLCBjb3VudF0pID0+IFxuICAgICAgICAgIGAgICDigKIgJHtjb3VudH0gcHJvcGVydGllcyBhdCAke2Nvb3Jkc31gXG4gICAgICAgICkuam9pbignXFxuJykgOiAnJykgK1xuICAgICAgYFxcblxcbmAgK1xuICAgICAgYEdlb2NvZGluZyBzb3VyY2VzOlxcbmAgK1xuICAgICAgYCAgIOKAoiBFeGlzdGluZyB2YWxpZDogJHtieVNvdXJjZS5leGlzdGluZ31cXG5gICtcbiAgICAgIGAgICDigKIgVmVyaWZpZWQgYWRkcmVzczogJHtieVNvdXJjZS52ZXJpZmllZF9hZGRyZXNzfVxcbmAgK1xuICAgICAgYCAgIOKAoiBGdWxsIGFkZHJlc3M6ICR7YnlTb3VyY2UuZnVsbF9hZGRyZXNzfVxcbmAgK1xuICAgICAgYCAgIOKAoiBQcm9wZXJ0eSBuYW1lOiAke2J5U291cmNlLnByb3BlcnR5X25hbWV9XFxuYCArXG4gICAgICBgICAg4oCiIFVua25vd24gc291cmNlOiAke2J5U291cmNlLnVua25vd259XFxuXFxuYCArXG4gICAgICBgTm90ZTogUHJvcGVydGllcyBhdCBpZGVudGljYWwgY29vcmRpbmF0ZXMgd2lsbCBhcHBlYXIgYXMgYSBzaW5nbGUgbWFya2VyIHVudGlsIGNsaWNrZWQuYFxuICAgICk7XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byBjbGVhbiBwcm9wZXJ0eSBkYXRhXG4gIGFzeW5jIGZ1bmN0aW9uIGNsZWFuUHJvcGVydHlEYXRhKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBTdGFydCB0aGUgY2xlYW5pbmcgcHJvY2Vzc1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldENsZWFuaW5nKHRydWUpO1xuICAgICAgY2xlYXJDbGVhbmluZ0xvZ3MoKTtcbiAgICAgIHNldFNob3dDbGVhbmluZ0xvZ3ModHJ1ZSk7XG4gICAgICBcbiAgICAgIGFkZENsZWFuaW5nTG9nKFwiU3RhcnRpbmcgZGF0YSBjbGVhbmluZyBwcm9jZXNzLi4uXCIsIFwiaW5mb1wiKTtcbiAgICAgIFxuICAgICAgLy8gRmlyc3QsIGFuYWx5emUgdGhlIGRhdGEgdG8gaWRlbnRpZnkgaXNzdWVzXG4gICAgICBhZGRDbGVhbmluZ0xvZyhcIkFuYWx5emluZyBwcm9wZXJ0aWVzIGZvciBkYXRhIHF1YWxpdHkgaXNzdWVzLi4uXCIsIFwiaW5mb1wiKTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YUlzc3VlcyA9IHtcbiAgICAgICAgbWlzc2luZ05hbWVzOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+ICFwLm5hbWUgfHwgcC5uYW1lLnRyaW0oKSA9PT0gJycpLmxlbmd0aCxcbiAgICAgICAgaW5jb21wbGV0ZUFkZHJlc3NlczogcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLmFkZHJlc3MgJiYgKCFwLmNpdHkgfHwgIXAuc3RhdGUpKS5sZW5ndGgsXG4gICAgICAgIHN1c3BpY2lvdXNaZXJvczogcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAgICAgICAocC51bml0cyA9PT0gMCB8fCBwLm51bV91bml0cyA9PT0gMClcbiAgICAgICAgKS5sZW5ndGgsXG4gICAgICAgIHN1c3BpY2lvdXNDb29yZGluYXRlczogcHJvcGVydGllcy5maWx0ZXIocCA9PiB7XG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHN1c3BpY2lvdXMgcGF0dGVybnMgaW4gY29vcmRpbmF0ZXNcbiAgICAgICAgICBpZiAoIXAubGF0aXR1ZGUgfHwgIXAubG9uZ2l0dWRlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgbGF0U3RyID0gU3RyaW5nKHAubGF0aXR1ZGUpO1xuICAgICAgICAgIGNvbnN0IGxuZ1N0ciA9IFN0cmluZyhwLmxvbmdpdHVkZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHZlcnkgbG93IHByZWNpc2lvbiBvciBzdXNwaWNpb3VzIHBhdHRlcm5zXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChsYXRTdHIuaW5jbHVkZXMoJy4nKSAmJiBsYXRTdHIuc3BsaXQoJy4nKVsxXS5sZW5ndGggPD0gMikgfHxcbiAgICAgICAgICAgIChsbmdTdHIuaW5jbHVkZXMoJy4nKSAmJiBsbmdTdHIuc3BsaXQoJy4nKVsxXS5sZW5ndGggPD0gMikgfHxcbiAgICAgICAgICAgIGxhdFN0ciA9PT0gbG5nU3RyIHx8IC8vIFNhbWUgbGF0L2xuZyBpcyBzdXNwaWNpb3VzXG4gICAgICAgICAgICBsYXRTdHIuZW5kc1dpdGgoJzAwMDAwJykgfHwgXG4gICAgICAgICAgICBsbmdTdHIuZW5kc1dpdGgoJzAwMDAwJykgfHxcbiAgICAgICAgICAgIGxhdFN0ci5lbmRzV2l0aCgnLjAnKSB8fFxuICAgICAgICAgICAgbG5nU3RyLmVuZHNXaXRoKCcuMCcpIHx8XG4gICAgICAgICAgICBsYXRTdHIuZW5kc1dpdGgoJy41JykgfHwgXG4gICAgICAgICAgICBsbmdTdHIuZW5kc1dpdGgoJy41JylcbiAgICAgICAgICApO1xuICAgICAgICB9KS5sZW5ndGgsXG4gICAgICAgIGR1cGxpY2F0ZU5hbWVzOiBmaW5kRHVwbGljYXRlcyhwcm9wZXJ0aWVzLCAnbmFtZScpLFxuICAgICAgICBkdXBsaWNhdGVBZGRyZXNzZXM6IGZpbmREdXBsaWNhdGVzKHByb3BlcnRpZXMsICdhZGRyZXNzJyksXG4gICAgICAgIHRlc3RQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IFxuICAgICAgICAgIChwLm5hbWUgJiYgcC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Rlc3QnKSkgfHwgXG4gICAgICAgICAgKHAubmFtZSAmJiBwLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZXhhbXBsZScpKSB8fFxuICAgICAgICAgIChwLmFkZHJlc3MgJiYgcC5hZGRyZXNzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Rlc3QnKSkgfHwgXG4gICAgICAgICAgcC5faXNfdGVzdF9wcm9wZXJ0eVxuICAgICAgICApLmxlbmd0aFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgdG90YWxJc3N1ZXMgPSBkYXRhSXNzdWVzLm1pc3NpbmdOYW1lcyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXNzdWVzLmluY29tcGxldGVBZGRyZXNzZXMgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUlzc3Vlcy5zdXNwaWNpb3VzWmVyb3MgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUlzc3Vlcy5zdXNwaWNpb3VzQ29vcmRpbmF0ZXMgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUlzc3Vlcy5kdXBsaWNhdGVOYW1lcy5sZW5ndGggKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUlzc3Vlcy5kdXBsaWNhdGVBZGRyZXNzZXMubGVuZ3RoICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJc3N1ZXMudGVzdFByb3BlcnRpZXM7XG4gICAgICBcbiAgICAgIC8vIExvZyBhbmFseXNpcyByZXN1bHRzXG4gICAgICBhZGRDbGVhbmluZ0xvZyhgQW5hbHlzaXMgZm91bmQgJHt0b3RhbElzc3Vlc30gZGF0YSBxdWFsaXR5IGlzc3VlczpgLCBcImluZm9cIik7XG4gICAgICBhZGRDbGVhbmluZ0xvZyhgLSAke2RhdGFJc3N1ZXMubWlzc2luZ05hbWVzfSBwcm9wZXJ0aWVzIG1pc3NpbmcgbmFtZXNgLCBcImRldGFpbFwiKTtcbiAgICAgIGFkZENsZWFuaW5nTG9nKGAtICR7ZGF0YUlzc3Vlcy5pbmNvbXBsZXRlQWRkcmVzc2VzfSBwcm9wZXJ0aWVzIHdpdGggaW5jb21wbGV0ZSBhZGRyZXNzZXNgLCBcImRldGFpbFwiKTtcbiAgICAgIGFkZENsZWFuaW5nTG9nKGAtICR7ZGF0YUlzc3Vlcy5zdXNwaWNpb3VzWmVyb3N9IHByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIHplcm8gdmFsdWVzYCwgXCJkZXRhaWxcIik7XG4gICAgICBhZGRDbGVhbmluZ0xvZyhgLSAke2RhdGFJc3N1ZXMuc3VzcGljaW91c0Nvb3JkaW5hdGVzfSBwcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyBjb29yZGluYXRlc2AsIFwiZGV0YWlsXCIpO1xuICAgICAgYWRkQ2xlYW5pbmdMb2coYC0gJHtkYXRhSXNzdWVzLmR1cGxpY2F0ZU5hbWVzLmxlbmd0aH0gZHVwbGljYXRlIHByb3BlcnR5IG5hbWVzYCwgXCJkZXRhaWxcIik7XG4gICAgICBhZGRDbGVhbmluZ0xvZyhgLSAke2RhdGFJc3N1ZXMuZHVwbGljYXRlQWRkcmVzc2VzLmxlbmd0aH0gZHVwbGljYXRlIGFkZHJlc3Nlc2AsIFwiZGV0YWlsXCIpO1xuICAgICAgYWRkQ2xlYW5pbmdMb2coYC0gJHtkYXRhSXNzdWVzLnRlc3RQcm9wZXJ0aWVzfSBwb3RlbnRpYWwgdGVzdC9leGFtcGxlIHByb3BlcnRpZXNgLCBcImRldGFpbFwiKTtcbiAgICAgIFxuICAgICAgLy8gTm8gaXNzdWVzIGZvdW5kXG4gICAgICBpZiAodG90YWxJc3N1ZXMgPT09IDApIHtcbiAgICAgICAgYWRkQ2xlYW5pbmdMb2coJ05vIGRhdGEgaXNzdWVzIGZvdW5kIHRoYXQgbmVlZCBjbGVhbmluZycsIFwic3VjY2Vzc1wiKTtcbiAgICAgICAgYWxlcnQoJ05vIGRhdGEgaXNzdWVzIGZvdW5kIHRoYXQgbmVlZCBjbGVhbmluZycpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgc2V0Q2xlYW5pbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENvbmZpcm0gd2l0aCB1c2VyXG4gICAgICBjb25zdCBjb25maXJtYXRpb24gPSBjb25maXJtKFxuICAgICAgICBgRm91bmQgJHt0b3RhbElzc3Vlc30gZGF0YSBxdWFsaXR5IGlzc3VlczpcXG5cXG5gICtcbiAgICAgICAgYC0gJHtkYXRhSXNzdWVzLm1pc3NpbmdOYW1lc30gcHJvcGVydGllcyBtaXNzaW5nIG5hbWVzXFxuYCArXG4gICAgICAgIGAtICR7ZGF0YUlzc3Vlcy5pbmNvbXBsZXRlQWRkcmVzc2VzfSBwcm9wZXJ0aWVzIHdpdGggaW5jb21wbGV0ZSBhZGRyZXNzZXNcXG5gICtcbiAgICAgICAgYC0gJHtkYXRhSXNzdWVzLnN1c3BpY2lvdXNaZXJvc30gcHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgemVybyB2YWx1ZXNcXG5gICtcbiAgICAgICAgYC0gJHtkYXRhSXNzdWVzLnN1c3BpY2lvdXNDb29yZGluYXRlc30gcHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgY29vcmRpbmF0ZXNcXG5gICtcbiAgICAgICAgYC0gJHtkYXRhSXNzdWVzLmR1cGxpY2F0ZU5hbWVzLmxlbmd0aH0gZHVwbGljYXRlIHByb3BlcnR5IG5hbWVzXFxuYCArXG4gICAgICAgIGAtICR7ZGF0YUlzc3Vlcy5kdXBsaWNhdGVBZGRyZXNzZXMubGVuZ3RofSBkdXBsaWNhdGUgYWRkcmVzc2VzXFxuYCArXG4gICAgICAgIGAtICR7ZGF0YUlzc3Vlcy50ZXN0UHJvcGVydGllc30gcG90ZW50aWFsIHRlc3QvZXhhbXBsZSBwcm9wZXJ0aWVzXFxuXFxuYCArXG4gICAgICAgIGBXb3VsZCB5b3UgbGlrZSB0byBjbGVhbiB0aGVzZSBpc3N1ZXM/YFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFjb25maXJtYXRpb24pIHtcbiAgICAgICAgYWRkQ2xlYW5pbmdMb2coJ0NsZWFuaW5nIGNhbmNlbGxlZCBieSB1c2VyJywgXCJ3YXJuaW5nXCIpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgc2V0Q2xlYW5pbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE9wdGlvbmFsOiBvZmZlciBhZHZhbmNlZCBvcHRpb25zXG4gICAgICBjb25zdCBhZHZhbmNlZE9wdGlvbnMgPSBjb25maXJtKFxuICAgICAgICBcIldvdWxkIHlvdSBsaWtlIHRvIHVzZSBhZHZhbmNlZCBjbGVhbmluZyBvcHRpb25zP1xcblxcblwiICtcbiAgICAgICAgXCItIEZpeCBtaXNzaW5nIG5hbWVzIGFuZCBleHRyYWN0IGNpdHkvc3RhdGUgZnJvbSBhZGRyZXNzZXNcXG5cIiArXG4gICAgICAgIFwiLSBGbGFnIHN1c3BpY2lvdXMgY29vcmRpbmF0ZXMgZm9yIGdlb2NvZGluZ1xcblwiICtcbiAgICAgICAgXCItIElkZW50aWZ5IGFuZCBmbGFnIGR1cGxpY2F0ZSBwcm9wZXJ0aWVzXFxuXCIgK1xuICAgICAgICBcIi0gRmxhZyB0ZXN0IHByb3BlcnRpZXMgZm9yIGZpbHRlcmluZ1xcblxcblwiICtcbiAgICAgICAgXCJTZWxlY3QgJ0NhbmNlbCcgZm9yIGJhc2ljIGNsZWFuaW5nIG9ubHkuXCJcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGFkZENsZWFuaW5nTG9nKGBTdGFydGluZyAke2FkdmFuY2VkT3B0aW9ucyA/ICdhZHZhbmNlZCcgOiAnYmFzaWMnfSBjbGVhbmluZyBwcm9jZXNzLi4uYCwgXCJpbmZvXCIpO1xuICAgICAgXG4gICAgICAvLyBBcHBseSBmaXhlcyB0byBhIGNvcHkgb2YgdGhlIHByb3BlcnRpZXNcbiAgICAgIGNvbnN0IGNsZWFuZWRQcm9wZXJ0aWVzID0gWy4uLnByb3BlcnRpZXNdO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiBwcm9wZXJ0eSBuYW1lc1xuICAgICAgbGV0IGlzc3Vlc0NsZWFuZWQgPSAwO1xuICAgICAgXG4gICAgICBhZGRDbGVhbmluZ0xvZyhgUHJvY2Vzc2luZyAke3Byb3BlcnRpZXMubGVuZ3RofSBwcm9wZXJ0aWVzLi4uYCwgXCJpbmZvXCIpO1xuICAgICAgXG4gICAgICBwcm9wZXJ0aWVzLmZvckVhY2goKHByb3BlcnR5LCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgcHJvcGVydHlDbGVhbmVkID0gZmFsc2U7XG4gICAgICAgIGxldCBjbGVhbmluZ05vdGVzID0gW107XG4gICAgICAgIFxuICAgICAgICAvLyBGaXggbWlzc2luZyBuYW1lcyB1c2luZyBhZGRyZXNzXG4gICAgICAgIGlmICghcHJvcGVydHkubmFtZSB8fCBwcm9wZXJ0eS5uYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICBpZiAocHJvcGVydHkuYWRkcmVzcykge1xuICAgICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLm5hbWUgPSBgUHJvcGVydHkgYXQgJHtwcm9wZXJ0eS5hZGRyZXNzLnNwbGl0KCcsJylbMF19YDtcbiAgICAgICAgICAgIGFkZENsZWFuaW5nTG9nKGBHZW5lcmF0ZWQgbmFtZSBmb3IgcHJvcGVydHkgIyR7cHJvcGVydHkuaWR9OiBcIiR7Y2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLm5hbWV9XCJgLCBcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5uYW1lID0gYFVubmFtZWQgUHJvcGVydHkgJHtwcm9wZXJ0eS5pZC50b1N0cmluZygpLnN1YnN0cmluZygwLCA4KX1gO1xuICAgICAgICAgICAgYWRkQ2xlYW5pbmdMb2coYEdlbmVyYXRlZCBmYWxsYmFjayBuYW1lIGZvciBwcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH06IFwiJHtjbGVhbmVkUHJvcGVydGllc1tpbmRleF0ubmFtZX1cImAsIFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJvcGVydHlDbGVhbmVkID0gdHJ1ZTtcbiAgICAgICAgICBjbGVhbmluZ05vdGVzLnB1c2goJ01pc3NpbmcgbmFtZSBmaXhlZCcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGaXggbWlzc2luZyBjaXR5L3N0YXRlIGlmIGFkZHJlc3MgZXhpc3RzXG4gICAgICAgIGlmIChwcm9wZXJ0eS5hZGRyZXNzICYmICghcHJvcGVydHkuY2l0eSB8fCAhcHJvcGVydHkuc3RhdGUpKSB7XG4gICAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgY2l0eSBhbmQgc3RhdGUgZnJvbSBhZGRyZXNzXG4gICAgICAgICAgY29uc3QgYWRkcmVzc1BhcnRzID0gcHJvcGVydHkuYWRkcmVzcy5zcGxpdCgnLCcpLm1hcChwID0+IHAudHJpbSgpKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoYWRkcmVzc1BhcnRzLmxlbmd0aCA+PSAyICYmICFwcm9wZXJ0eS5jaXR5KSB7XG4gICAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uY2l0eSA9IGFkZHJlc3NQYXJ0c1thZGRyZXNzUGFydHMubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICBhZGRDbGVhbmluZ0xvZyhgRXh0cmFjdGVkIGNpdHkgXCIke2NsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5jaXR5fVwiIGZvciBwcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH1gLCBcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgICBwcm9wZXJ0eUNsZWFuZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2xlYW5pbmdOb3Rlcy5wdXNoKCdDaXR5IGV4dHJhY3RlZCBmcm9tIGFkZHJlc3MnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGFkZHJlc3NQYXJ0cy5sZW5ndGggPj0gMSAmJiAhcHJvcGVydHkuc3RhdGUpIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBleHRyYWN0IHN0YXRlIGZyb20gdGhlIGxhc3QgcGFydCBvZiB0aGUgYWRkcmVzc1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVQYXJ0ID0gYWRkcmVzc1BhcnRzW2FkZHJlc3NQYXJ0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlTWF0Y2ggPSBzdGF0ZVBhcnQubWF0Y2goL1tBLVpdezJ9Lyk7XG4gICAgICAgICAgICBpZiAoc3RhdGVNYXRjaCkge1xuICAgICAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uc3RhdGUgPSBzdGF0ZU1hdGNoWzBdO1xuICAgICAgICAgICAgICBhZGRDbGVhbmluZ0xvZyhgRXh0cmFjdGVkIHN0YXRlIFwiJHtjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uc3RhdGV9XCIgZm9yIHByb3BlcnR5ICMke3Byb3BlcnR5LmlkfWAsIFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgICAgcHJvcGVydHlDbGVhbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgY2xlYW5pbmdOb3Rlcy5wdXNoKCdTdGF0ZSBleHRyYWN0ZWQgZnJvbSBhZGRyZXNzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGbGFnIHN1c3BpY2lvdXMgY29vcmRpbmF0ZXMgZm9yIGFkdmFuY2VkIGNsZWFuaW5nXG4gICAgICAgIGlmIChhZHZhbmNlZE9wdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCBsYXRTdHIgPSBTdHJpbmcocHJvcGVydHkubGF0aXR1ZGUgfHwgJycpO1xuICAgICAgICAgIGNvbnN0IGxuZ1N0ciA9IFN0cmluZyhwcm9wZXJ0eS5sb25naXR1ZGUgfHwgJycpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGZvciBzdXNwaWNpb3VzIHBhdHRlcm5zIGluIGNvb3JkaW5hdGVzXG4gICAgICAgICAgY29uc3QgaGFzTG93UHJlY2lzaW9uID0gXG4gICAgICAgICAgICAobGF0U3RyLmluY2x1ZGVzKCcuJykgJiYgbGF0U3RyLnNwbGl0KCcuJylbMV0ubGVuZ3RoIDw9IDIpIHx8XG4gICAgICAgICAgICAobG5nU3RyLmluY2x1ZGVzKCcuJykgJiYgbG5nU3RyLnNwbGl0KCcuJylbMV0ubGVuZ3RoIDw9IDIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgY29uc3QgaGFzU3VzcGljaW91c1BhdHRlcm4gPSBcbiAgICAgICAgICAgIGxhdFN0ciA9PT0gbG5nU3RyIHx8IC8vIFNhbWUgbGF0L2xuZyBpcyB2ZXJ5IHVubGlrZWx5XG4gICAgICAgICAgICBsYXRTdHIuZW5kc1dpdGgoJzAwMDAwJykgfHwgXG4gICAgICAgICAgICBsbmdTdHIuZW5kc1dpdGgoJzAwMDAwJykgfHxcbiAgICAgICAgICAgIGxhdFN0ci5lbmRzV2l0aCgnLjAnKSB8fFxuICAgICAgICAgICAgbG5nU3RyLmVuZHNXaXRoKCcuMCcpIHx8XG4gICAgICAgICAgICBsYXRTdHIuZW5kc1dpdGgoJy41JykgfHwgXG4gICAgICAgICAgICBsbmdTdHIuZW5kc1dpdGgoJy41Jyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICBpZiAoaGFzTG93UHJlY2lzaW9uIHx8IGhhc1N1c3BpY2lvdXNQYXR0ZXJuKSB7XG4gICAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uX2lzX2dyaWRfcGF0dGVybiA9IHRydWU7XG4gICAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uX25lZWRzX2dlb2NvZGluZyA9IHRydWU7XG4gICAgICAgICAgICBhZGRDbGVhbmluZ0xvZyhgRmxhZ2dlZCBzdXNwaWNpb3VzIGNvb3JkaW5hdGVzICgke2xhdFN0cn0sICR7bG5nU3RyfSkgZm9yIHByb3BlcnR5ICMke3Byb3BlcnR5LmlkfWAsIFwid2FybmluZ1wiKTtcbiAgICAgICAgICAgIHByb3BlcnR5Q2xlYW5lZCA9IHRydWU7XG4gICAgICAgICAgICBjbGVhbmluZ05vdGVzLnB1c2goJ0ZsYWdnZWQgc3VzcGljaW91cyBjb29yZGluYXRlcyBmb3IgZ2VvY29kaW5nJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGbGFnIHRlc3QgcHJvcGVydGllc1xuICAgICAgICBpZiAoKHByb3BlcnR5Lm5hbWUgJiYgcHJvcGVydHkubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0ZXN0JykpIHx8IFxuICAgICAgICAgICAgKHByb3BlcnR5Lm5hbWUgJiYgcHJvcGVydHkubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdleGFtcGxlJykpIHx8XG4gICAgICAgICAgICAocHJvcGVydHkuYWRkcmVzcyAmJiBwcm9wZXJ0eS5hZGRyZXNzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Rlc3QnKSkpIHtcbiAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uX2lzX3Rlc3RfcHJvcGVydHkgPSB0cnVlO1xuICAgICAgICAgIGFkZENsZWFuaW5nTG9nKGBGbGFnZ2VkIHRlc3QgcHJvcGVydHkgIyR7cHJvcGVydHkuaWR9OiBcIiR7cHJvcGVydHkubmFtZX1cImAsIFwid2FybmluZ1wiKTtcbiAgICAgICAgICBwcm9wZXJ0eUNsZWFuZWQgPSB0cnVlO1xuICAgICAgICAgIGNsZWFuaW5nTm90ZXMucHVzaCgnRmxhZ2dlZCBhcyB0ZXN0IHByb3BlcnR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZsYWcgc3VzcGljaW91cyB6ZXJvcyBmb3IgYWR2YW5jZWQgY2xlYW5pbmdcbiAgICAgICAgaWYgKGFkdmFuY2VkT3B0aW9ucyAmJiAocHJvcGVydHkudW5pdHMgPT09IDAgfHwgcHJvcGVydHkubnVtX3VuaXRzID09PSAwKSkge1xuICAgICAgICAgIC8vIFdlJ2xsIGp1c3QgZmxhZyB0aGVzZSBmb3Igbm93LCBtYW51YWwgcmV2aWV3IGlzIG5lZWRlZFxuICAgICAgICAgIGlmICghY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLl9kYXRhX3F1YWxpdHlfaXNzdWVzKSB7XG4gICAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uX2RhdGFfcXVhbGl0eV9pc3N1ZXMgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLl9kYXRhX3F1YWxpdHlfaXNzdWVzLnB1c2goJ3plcm9fdW5pdHMnKTtcbiAgICAgICAgICBhZGRDbGVhbmluZ0xvZyhgRmxhZ2dlZCB6ZXJvIHVuaXRzIGZvciBwcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH1gLCBcIndhcm5pbmdcIik7XG4gICAgICAgICAgcHJvcGVydHlDbGVhbmVkID0gdHJ1ZTtcbiAgICAgICAgICBjbGVhbmluZ05vdGVzLnB1c2goJ0ZsYWdnZWQgemVybyB1bml0cycpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcHJvcGVydHkgd2l0aCBjbGVhbmluZyBpbmZvcm1hdGlvblxuICAgICAgICBpZiAocHJvcGVydHlDbGVhbmVkKSB7XG4gICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLl9kYXRhX2NsZWFuZWQgPSB0cnVlO1xuICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5fY2xlYW5pbmdfbm90ZXMgPSBjbGVhbmluZ05vdGVzLmpvaW4oJywgJyk7XG4gICAgICAgICAgaXNzdWVzQ2xlYW5lZCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYWRkQ2xlYW5pbmdMb2coYEZpbmlzaGVkIHByb2Nlc3NpbmcuIENsZWFuZWQgJHtpc3N1ZXNDbGVhbmVkfSBwcm9wZXJ0aWVzLmAsIFwic3VjY2Vzc1wiKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXRlIHdpdGggY2xlYW5lZCBwcm9wZXJ0aWVzXG4gICAgICBhZGRDbGVhbmluZ0xvZyhcIlVwZGF0aW5nIHByb3BlcnR5IGRhdGEgd2l0aCBjbGVhbmVkIHZhbHVlcy4uLlwiLCBcImluZm9cIik7XG4gICAgICBzZXRQcm9wZXJ0aWVzKGNsZWFuZWRQcm9wZXJ0aWVzKTtcbiAgICAgIGNhbGN1bGF0ZVN0YXRzKGNsZWFuZWRQcm9wZXJ0aWVzKTtcbiAgICAgIFxuICAgICAgLy8gQWxlcnQgdXNlciBvZiByZXN1bHRzXG4gICAgICBhZGRDbGVhbmluZ0xvZyhcIkRhdGEgY2xlYW5pbmcgY29tcGxldGUhXCIsIFwic3VjY2Vzc1wiKTtcbiAgICAgIGFsZXJ0KFxuICAgICAgICBgRGF0YSBjbGVhbmluZyBjb21wbGV0ZSFcXG5cXG5gICtcbiAgICAgICAgYC0gJHtpc3N1ZXNDbGVhbmVkfSBwcm9wZXJ0aWVzIHdlcmUgY2xlYW5lZFxcbmAgK1xuICAgICAgICBgLSBBZGRlZCBuYW1lcyB0byAke2RhdGFJc3N1ZXMubWlzc2luZ05hbWVzfSBwcm9wZXJ0aWVzXFxuYCArXG4gICAgICAgIGAtIEV4dHJhY3RlZCBjaXR5L3N0YXRlIGZvciAke2RhdGFJc3N1ZXMuaW5jb21wbGV0ZUFkZHJlc3Nlc30gcHJvcGVydGllc1xcbmAgK1xuICAgICAgICBgLSBGbGFnZ2VkICR7ZGF0YUlzc3Vlcy5zdXNwaWNpb3VzQ29vcmRpbmF0ZXN9IHN1c3BpY2lvdXMgY29vcmRpbmF0ZXMgZm9yIGdlb2NvZGluZ1xcbmAgK1xuICAgICAgICBgLSBJZGVudGlmaWVkICR7ZGF0YUlzc3Vlcy5kdXBsaWNhdGVOYW1lcy5sZW5ndGh9IGR1cGxpY2F0ZSBuYW1lc1xcbmAgK1xuICAgICAgICBgLSBGbGFnZ2VkICR7ZGF0YUlzc3Vlcy50ZXN0UHJvcGVydGllc30gdGVzdCBwcm9wZXJ0aWVzXFxuXFxuYCArXG4gICAgICAgIGBOZXh0IHN0ZXBzOlxcbmAgK1xuICAgICAgICBgMS4gVXNlIFwiQmF0Y2ggR2VvY29kZVwiIHRvIGZpeCBmbGFnZ2VkIGNvb3JkaW5hdGVzXFxuYCArXG4gICAgICAgIGAyLiBVc2UgXCJQcm9wZXJ0aWVzIEFuYWx5c2lzXCIgdG8gcmV2aWV3IGRhdGEgcXVhbGl0eVxcbmAgK1xuICAgICAgICBgMy4gU29tZSBwcm9wZXJ0aWVzIHN0aWxsIHJlcXVpcmUgbWFudWFsIHJldmlld2BcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsZWFuaW5nIHByb3BlcnR5IGRhdGE6JywgZXJyb3IpO1xuICAgICAgYWRkQ2xlYW5pbmdMb2coYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCwgXCJlcnJvclwiKTtcbiAgICAgIGFsZXJ0KGBFcnJvciBjbGVhbmluZyBkYXRhOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgc2V0Q2xlYW5pbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGZpbmQgZHVwbGljYXRlcyBpbiBwcm9wZXJ0aWVzIGJ5IGZpZWxkXG4gIGZ1bmN0aW9uIGZpbmREdXBsaWNhdGVzKGFycmF5LCBrZXkpIHtcbiAgICBjb25zdCBjb3VudHMgPSB7fTtcbiAgICBjb25zdCBkdXBsaWNhdGVzID0gW107XG4gICAgXG4gICAgLy8gU2tpcCBlbnRyaWVzIHdpdGggZW1wdHkgdmFsdWVzXG4gICAgYXJyYXkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtW2tleV0gJiYgaXRlbVtrZXldLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpdGVtW2tleV0udG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgICAgIGNvdW50c1t2YWx1ZV0gPSAoY291bnRzW3ZhbHVlXSB8fCAwKSArIDE7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gRmluZCB2YWx1ZXMgdGhhdCBhcHBlYXIgbW9yZSB0aGFuIG9uY2VcbiAgICBPYmplY3Qua2V5cyhjb3VudHMpLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgaWYgKGNvdW50c1t2YWx1ZV0gPiAxKSB7XG4gICAgICAgIGR1cGxpY2F0ZXMucHVzaCh7XG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgY291bnQ6IGNvdW50c1t2YWx1ZV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGR1cGxpY2F0ZXM7XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byBlbnJpY2ggcHJvcGVydHkgZGF0YSB3aXRoIHplcm8gdmFsdWVzXG4gIGFzeW5jIGZ1bmN0aW9uIGVucmljaFByb3BlcnR5RGF0YSgpIHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVucmljaGluZyh0cnVlKTtcbiAgICAgIGNsZWFyRW5yaWNoaW5nTG9ncygpO1xuICAgICAgc2V0U2hvd0VucmljaGluZ0xvZ3ModHJ1ZSk7XG4gICAgICBcbiAgICAgIGFkZEVucmljaGluZ0xvZyhcIlN0YXJ0aW5nIGRhdGEgZW5yaWNobWVudCBwcm9jZXNzLi4uXCIsIFwiaW5mb1wiKTtcbiAgICAgIFxuICAgICAgLy8gSWRlbnRpZnkgcHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgemVybyB2YWx1ZXNcbiAgICAgIGFkZEVucmljaGluZ0xvZyhcIkFuYWx5emluZyBwcm9wZXJ0aWVzIGZvciBzdXNwaWNpb3VzIHplcm8gdmFsdWVzLi4uXCIsIFwiaW5mb1wiKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3VzcGljaW91c1Byb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IFxuICAgICAgICAocC51bml0cyA9PT0gMCB8fCBwLm51bV91bml0cyA9PT0gMClcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmIChzdXNwaWNpb3VzUHJvcGVydGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYWRkRW5yaWNoaW5nTG9nKCdObyBwcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyB6ZXJvIHZhbHVlcyBmb3VuZCcsIFwic3VjY2Vzc1wiKTtcbiAgICAgICAgYWxlcnQoJ05vIHByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIHplcm8gdmFsdWVzIGZvdW5kJyk7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBzZXRFbnJpY2hpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGFkZEVucmljaGluZ0xvZyhgRm91bmQgJHtzdXNwaWNpb3VzUHJvcGVydGllcy5sZW5ndGh9IHByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIHplcm8gdmFsdWVzOmAsIFwiaW5mb1wiKTtcbiAgICAgIGFkZEVucmljaGluZ0xvZyhgLSAke3N1c3BpY2lvdXNQcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAudW5pdHMgPT09IDApLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIHplcm8gdW5pdHNgLCBcImRldGFpbFwiKTtcbiAgICAgIGFkZEVucmljaGluZ0xvZyhgLSAke3N1c3BpY2lvdXNQcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAubnVtX3VuaXRzID09PSAwKS5sZW5ndGh9IHByb3BlcnRpZXMgd2l0aCB6ZXJvIHVuaXRzYCwgXCJkZXRhaWxcIik7XG4gICAgICBcbiAgICAgIC8vIENvbmZpcm0gd2l0aCB1c2VyXG4gICAgICBjb25zdCBjb25maXJtYXRpb24gPSBjb25maXJtKFxuICAgICAgICBgRm91bmQgJHtzdXNwaWNpb3VzUHJvcGVydGllcy5sZW5ndGh9IHByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIHplcm8gdmFsdWVzOlxcblxcbmAgK1xuICAgICAgICBgLSAke3N1c3BpY2lvdXNQcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAudW5pdHMgPT09IDApLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIHplcm8gdW5pdHNcXG5gICtcbiAgICAgICAgYC0gJHtzdXNwaWNpb3VzUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLm51bV91bml0cyA9PT0gMCkubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggemVybyB1bml0c1xcblxcbmAgK1xuICAgICAgICBgV291bGQgeW91IGxpa2UgdG8gYXR0ZW1wdCB0byBlbnJpY2ggdGhlc2UgcHJvcGVydGllcz9gXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoIWNvbmZpcm1hdGlvbikge1xuICAgICAgICBhZGRFbnJpY2hpbmdMb2coJ0VucmljaG1lbnQgY2FuY2VsbGVkIGJ5IHVzZXInLCBcIndhcm5pbmdcIik7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBzZXRFbnJpY2hpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE1ha2UgYSBjb3B5IG9mIHRoZSBwcm9wZXJ0aWVzIGZvciBlbnJpY2htZW50XG4gICAgICBjb25zdCBlbnJpY2hlZFByb3BlcnRpZXMgPSBbLi4ucHJvcGVydGllc107XG4gICAgICBsZXQgZW5yaWNoZWRDb3VudCA9IDA7XG4gICAgICBcbiAgICAgIC8vIEFuYWx5emUgY29sbGVjdGlvbnMgb2Ygc2ltaWxhciBwcm9wZXJ0aWVzIHRvIGRlcml2ZSBlc3RpbWF0ZXNcbiAgICAgIGFkZEVucmljaGluZ0xvZyhcIkFuYWx5emluZyBwcm9wZXJ0eSBkYXRhIGZvciBzdGF0aXN0aWNhbCBlbnJpY2htZW50Li4uXCIsIFwiaW5mb1wiKTtcbiAgICAgIFxuICAgICAgLy8gR3JvdXAgcHJvcGVydGllcyBieSBjaXR5L3N0YXRlIGZvciBiZXR0ZXIgY29tcGFyaXNvblxuICAgICAgY29uc3QgY2l0eVN0YXRlR3JvdXBzID0ge307XG4gICAgICBwcm9wZXJ0aWVzLmZvckVhY2gocCA9PiB7XG4gICAgICAgIGlmIChwLmNpdHkgJiYgcC5zdGF0ZSAmJiBwLnByaWNlICYmIHAucHJpY2UgPiAwICYmIChwLnVuaXRzID4gMCB8fCBwLm51bV91bml0cyA+IDApKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYCR7cC5jaXR5LnRvTG93ZXJDYXNlKCl9LCR7cC5zdGF0ZS50b0xvd2VyQ2FzZSgpfWA7XG4gICAgICAgICAgaWYgKCFjaXR5U3RhdGVHcm91cHNba2V5XSkge1xuICAgICAgICAgICAgY2l0eVN0YXRlR3JvdXBzW2tleV0gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2l0eVN0YXRlR3JvdXBzW2tleV0ucHVzaChwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBtZWRpYW4gdmFsdWVzIHBlciBjaXR5L3N0YXRlXG4gICAgICBjb25zdCBtZWRpYW5WYWx1ZXMgPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKGNpdHlTdGF0ZUdyb3VwcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBjb25zdCBncm91cCA9IGNpdHlTdGF0ZUdyb3Vwc1trZXldO1xuICAgICAgICBpZiAoZ3JvdXAubGVuZ3RoID49IDMpIHsgLy8gT25seSB1c2UgZ3JvdXBzIHdpdGggZW5vdWdoIGRhdGEgcG9pbnRzXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIG1lZGlhbiBwcmljZSBwZXIgdW5pdFxuICAgICAgICAgIGNvbnN0IHByaWNlc1BlclVuaXQgPSBncm91cC5tYXAocCA9PiB7XG4gICAgICAgICAgICBjb25zdCB1bml0cyA9IHAudW5pdHMgfHwgcC5udW1fdW5pdHMgfHwgMDtcbiAgICAgICAgICAgIHJldHVybiB1bml0cyA+IDAgPyBwLnByaWNlIC8gdW5pdHMgOiAwO1xuICAgICAgICAgIH0pLmZpbHRlcih2ID0+IHYgPiAwKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgbWVkaWFuUHJpY2VQZXJVbml0ID0gcHJpY2VzUGVyVW5pdFtNYXRoLmZsb29yKHByaWNlc1BlclVuaXQubGVuZ3RoIC8gMildO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENhbGN1bGF0ZSBtZWRpYW4geWVhciBidWlsdFxuICAgICAgICAgIGNvbnN0IHllYXJCdWlsdCA9IGdyb3VwLm1hcChwID0+IHAueWVhcl9idWlsdCkuZmlsdGVyKHkgPT4geSAmJiB5ID4gMTkwMCkuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgICAgICAgIGNvbnN0IG1lZGlhblllYXJCdWlsdCA9IHllYXJCdWlsdC5sZW5ndGggPiAwID8geWVhckJ1aWx0W01hdGguZmxvb3IoeWVhckJ1aWx0Lmxlbmd0aCAvIDIpXSA6IG51bGw7XG4gICAgICAgICAgXG4gICAgICAgICAgbWVkaWFuVmFsdWVzW2tleV0gPSB7XG4gICAgICAgICAgICBtZWRpYW5QcmljZVBlclVuaXQsXG4gICAgICAgICAgICBtZWRpYW5ZZWFyQnVpbHQsXG4gICAgICAgICAgICBzYW1wbGVTaXplOiBncm91cC5sZW5ndGhcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGFkZEVucmljaGluZ0xvZyhgR3JvdXAgJHtrZXl9OiAke2dyb3VwLmxlbmd0aH0gcHJvcGVydGllcywgJCR7TWF0aC5yb3VuZChtZWRpYW5QcmljZVBlclVuaXQpLnRvTG9jYWxlU3RyaW5nKCl9L3VuaXRgLCBcImRldGFpbFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGFkZEVucmljaGluZ0xvZyhgQ3JlYXRlZCAke09iamVjdC5rZXlzKG1lZGlhblZhbHVlcykubGVuZ3RofSBzdGF0aXN0aWNhbCBncm91cHMgZm9yIGNvbXBhcmlzb25gLCBcImluZm9cIik7XG4gICAgICBhZGRFbnJpY2hpbmdMb2coYFN0YXJ0aW5nIHRvIHByb2Nlc3MgJHtzdXNwaWNpb3VzUHJvcGVydGllcy5sZW5ndGh9IHByb3BlcnRpZXMgd2l0aCB6ZXJvIHZhbHVlcy4uLmAsIFwiaW5mb1wiKTtcbiAgICAgIFxuICAgICAgLy8gRW5yaWNoIHByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIHplcm8gdmFsdWVzXG4gICAgICBzdXNwaWNpb3VzUHJvcGVydGllcy5mb3JFYWNoKHByb3BlcnR5ID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBlbnJpY2hlZFByb3BlcnRpZXMuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gcHJvcGVydHkuaWQpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBsZXQgaXNFbnJpY2hlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZW5yaWNobWVudE5vdGVzID0gW107XG4gICAgICAgIFxuICAgICAgICAvLyBGaW5kIHRoZSBiZXN0IHJlZmVyZW5jZSBncm91cCBmb3IgdGhpcyBwcm9wZXJ0eVxuICAgICAgICBsZXQgcmVmZXJlbmNlR3JvdXAgPSBudWxsO1xuICAgICAgICBsZXQgcmVmZXJlbmNlS2V5ID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIGlmIChwcm9wZXJ0eS5jaXR5ICYmIHByb3BlcnR5LnN0YXRlKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYCR7cHJvcGVydHkuY2l0eS50b0xvd2VyQ2FzZSgpfSwke3Byb3BlcnR5LnN0YXRlLnRvTG93ZXJDYXNlKCl9YDtcbiAgICAgICAgICBpZiAobWVkaWFuVmFsdWVzW2tleV0pIHtcbiAgICAgICAgICAgIHJlZmVyZW5jZUdyb3VwID0gbWVkaWFuVmFsdWVzW2tleV07XG4gICAgICAgICAgICByZWZlcmVuY2VLZXkgPSBrZXk7XG4gICAgICAgICAgICBhZGRFbnJpY2hpbmdMb2coYFByb3BlcnR5ICMke3Byb3BlcnR5LmlkfTogRm91bmQgZXhhY3QgY2l0eS9zdGF0ZSBtYXRjaCAoJHtrZXl9KWAsIFwiZGV0YWlsXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gSWYgbm8gZGlyZWN0IGNpdHkvc3RhdGUgbWF0Y2gsIHVzZSB0aGUgY2xvc2VzdCBnZW9ncmFwaGljYWxseSBvciBhIGdlbmVyYWwgYXZlcmFnZVxuICAgICAgICBpZiAoIXJlZmVyZW5jZUdyb3VwKSB7XG4gICAgICAgICAgLy8gRmFsbCBiYWNrIHRvIHN0YXRlLWxldmVsIGRhdGEgb3IgZ2VuZXJhbCBhdmVyYWdlXG4gICAgICAgICAgaWYgKHByb3BlcnR5LnN0YXRlKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZUdyb3VwcyA9IE9iamVjdC5rZXlzKG1lZGlhblZhbHVlcykuZmlsdGVyKGtleSA9PiBcbiAgICAgICAgICAgICAga2V5LmVuZHNXaXRoKGAsJHtwcm9wZXJ0eS5zdGF0ZS50b0xvd2VyQ2FzZSgpfWApXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoc3RhdGVHcm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAvLyBVc2UgdGhlIGxhcmdlc3Qgc2FtcGxlIGZyb20gdGhlIHN0YXRlXG4gICAgICAgICAgICAgIHJlZmVyZW5jZUtleSA9IHN0YXRlR3JvdXBzLnNvcnQoKGEsIGIpID0+IFxuICAgICAgICAgICAgICAgIG1lZGlhblZhbHVlc1tiXS5zYW1wbGVTaXplIC0gbWVkaWFuVmFsdWVzW2FdLnNhbXBsZVNpemVcbiAgICAgICAgICAgICAgKVswXTtcbiAgICAgICAgICAgICAgcmVmZXJlbmNlR3JvdXAgPSBtZWRpYW5WYWx1ZXNbcmVmZXJlbmNlS2V5XTtcbiAgICAgICAgICAgICAgYWRkRW5yaWNoaW5nTG9nKGBQcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH06IEZvdW5kIHN0YXRlLWxldmVsIG1hdGNoICgke3JlZmVyZW5jZUtleX0pYCwgXCJkZXRhaWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHN0aWxsIG5vIG1hdGNoLCB1c2UgdGhlIG92ZXJhbGwgYXZlcmFnZVxuICAgICAgICAgIGlmICghcmVmZXJlbmNlR3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbFByaWNlc1BlclVuaXQgPSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgIC5maWx0ZXIocCA9PiBwLnByaWNlICYmIHAucHJpY2UgPiAwICYmIChwLnVuaXRzID4gMCB8fCBwLm51bV91bml0cyA+IDApKVxuICAgICAgICAgICAgICAubWFwKHAgPT4gcC5wcmljZSAvIChwLnVuaXRzIHx8IHAubnVtX3VuaXRzKSlcbiAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoYWxsUHJpY2VzUGVyVW5pdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHJlZmVyZW5jZUdyb3VwID0ge1xuICAgICAgICAgICAgICAgIG1lZGlhblByaWNlUGVyVW5pdDogYWxsUHJpY2VzUGVyVW5pdFtNYXRoLmZsb29yKGFsbFByaWNlc1BlclVuaXQubGVuZ3RoIC8gMildLFxuICAgICAgICAgICAgICAgIG1lZGlhblllYXJCdWlsdDogbnVsbCxcbiAgICAgICAgICAgICAgICBzYW1wbGVTaXplOiBhbGxQcmljZXNQZXJVbml0Lmxlbmd0aFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZWZlcmVuY2VLZXkgPSBcImFsbF9wcm9wZXJ0aWVzXCI7XG4gICAgICAgICAgICAgIGFkZEVucmljaGluZ0xvZyhgUHJvcGVydHkgIyR7cHJvcGVydHkuaWR9OiBVc2luZyBnbG9iYWwgYXZlcmFnZSAoJHthbGxQcmljZXNQZXJVbml0Lmxlbmd0aH0gcHJvcGVydGllcylgLCBcImRldGFpbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENhbGN1bGF0ZSBtaXNzaW5nIHZhbHVlc1xuICAgICAgICBpZiAocmVmZXJlbmNlR3JvdXApIHtcbiAgICAgICAgICAvLyBGaXggemVybyB1bml0cyBpZiBwcmljZSBpcyBhdmFpbGFibGVcbiAgICAgICAgICBpZiAoKHByb3BlcnR5LnVuaXRzID09PSAwIHx8ICFwcm9wZXJ0eS51bml0cykgJiYgXG4gICAgICAgICAgICAgIChwcm9wZXJ0eS5udW1fdW5pdHMgPT09IDAgfHwgIXByb3BlcnR5Lm51bV91bml0cykgJiYgXG4gICAgICAgICAgICAgIHByb3BlcnR5LnByaWNlID4gMCAmJiBcbiAgICAgICAgICAgICAgcmVmZXJlbmNlR3JvdXAubWVkaWFuUHJpY2VQZXJVbml0ID4gMCkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZXN0aW1hdGVkVW5pdHMgPSBNYXRoLnJvdW5kKHByb3BlcnR5LnByaWNlIC8gcmVmZXJlbmNlR3JvdXAubWVkaWFuUHJpY2VQZXJVbml0KTtcbiAgICAgICAgICAgIGVucmljaGVkUHJvcGVydGllc1tpbmRleF0udW5pdHMgPSBlc3RpbWF0ZWRVbml0cztcbiAgICAgICAgICAgIGVucmljaGVkUHJvcGVydGllc1tpbmRleF0ubnVtX3VuaXRzID0gZXN0aW1hdGVkVW5pdHM7XG4gICAgICAgICAgICBhZGRFbnJpY2hpbmdMb2coYFByb3BlcnR5ICMke3Byb3BlcnR5LmlkfTogRXN0aW1hdGVkICR7ZXN0aW1hdGVkVW5pdHN9IHVuaXRzIGJhc2VkIG9uICQke3Byb3BlcnR5LnByaWNlLnRvTG9jYWxlU3RyaW5nKCl9IHByaWNlYCwgXCJzdWNjZXNzXCIpO1xuICAgICAgICAgICAgaXNFbnJpY2hlZCA9IHRydWU7XG4gICAgICAgICAgICBlbnJpY2htZW50Tm90ZXMucHVzaChgRXN0aW1hdGVkICR7ZXN0aW1hdGVkVW5pdHN9IHVuaXRzIGJhc2VkIG9uIHByaWNlIGFuZCAke3JlZmVyZW5jZUtleX0gbWVkaWFuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBtaXNzaW5nIHllYXIgYnVpbHQgaWYgd2UgaGF2ZSBhIHJlZmVyZW5jZVxuICAgICAgICAgIGlmICgoIXByb3BlcnR5LnllYXJfYnVpbHQgfHwgcHJvcGVydHkueWVhcl9idWlsdCA8IDE5MDApICYmIHJlZmVyZW5jZUdyb3VwLm1lZGlhblllYXJCdWlsdCkge1xuICAgICAgICAgICAgZW5yaWNoZWRQcm9wZXJ0aWVzW2luZGV4XS55ZWFyX2J1aWx0ID0gcmVmZXJlbmNlR3JvdXAubWVkaWFuWWVhckJ1aWx0O1xuICAgICAgICAgICAgYWRkRW5yaWNoaW5nTG9nKGBQcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH06IEVzdGltYXRlZCB5ZWFyIGJ1aWx0IGFzICR7cmVmZXJlbmNlR3JvdXAubWVkaWFuWWVhckJ1aWx0fWAsIFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgIGlzRW5yaWNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgZW5yaWNobWVudE5vdGVzLnB1c2goYEVzdGltYXRlZCB5ZWFyIGJ1aWx0IGFzICR7cmVmZXJlbmNlR3JvdXAubWVkaWFuWWVhckJ1aWx0fSBiYXNlZCBvbiAke3JlZmVyZW5jZUtleX0gbWVkaWFuYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGbGFnIHByb3BlcnR5IGFzIG5lZWRpbmcgaHVtYW4gcmV2aWV3IGlmIHdlIGNvdWxkbid0IGVucmljaCBpdFxuICAgICAgICBpZiAoIWlzRW5yaWNoZWQpIHtcbiAgICAgICAgICAvLyBNYXJrIGFzIG5lZWRpbmcgbWFudWFsIHJldmlld1xuICAgICAgICAgIGlmICghZW5yaWNoZWRQcm9wZXJ0aWVzW2luZGV4XS5fZGF0YV9xdWFsaXR5X2lzc3Vlcykge1xuICAgICAgICAgICAgZW5yaWNoZWRQcm9wZXJ0aWVzW2luZGV4XS5fZGF0YV9xdWFsaXR5X2lzc3VlcyA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbnJpY2hlZFByb3BlcnRpZXNbaW5kZXhdLl9kYXRhX3F1YWxpdHlfaXNzdWVzLnB1c2goJ25lZWRzX21hbnVhbF9yZXZpZXcnKTtcbiAgICAgICAgICBhZGRFbnJpY2hpbmdMb2coYFByb3BlcnR5ICMke3Byb3BlcnR5LmlkfTogSW5zdWZmaWNpZW50IGRhdGEgZm9yIGVucmljaG1lbnQsIG1hcmtlZCBmb3IgbWFudWFsIHJldmlld2AsIFwid2FybmluZ1wiKTtcbiAgICAgICAgICBpc0VucmljaGVkID0gdHJ1ZTtcbiAgICAgICAgICBlbnJpY2htZW50Tm90ZXMucHVzaCgnTWFya2VkIGZvciBtYW51YWwgcmV2aWV3IC0gaW5zdWZmaWNpZW50IGRhdGEgdG8gbWFrZSBlc3RpbWF0ZXMnKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHByb3BlcnR5IHdpdGggZW5yaWNobWVudCBpbmZvcm1hdGlvblxuICAgICAgICBpZiAoaXNFbnJpY2hlZCkge1xuICAgICAgICAgIGVucmljaGVkUHJvcGVydGllc1tpbmRleF0uX2RhdGFfZW5yaWNoZWQgPSB0cnVlO1xuICAgICAgICAgIGVucmljaGVkUHJvcGVydGllc1tpbmRleF0uX2VucmljaG1lbnRfbm90ZXMgPSBlbnJpY2htZW50Tm90ZXMuam9pbignLCAnKTtcbiAgICAgICAgICBlbnJpY2hlZENvdW50Kys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhZGRFbnJpY2hpbmdMb2coYEVucmljaG1lbnQgcHJvY2Vzc2luZyBjb21wbGV0ZS4gRW5yaWNoZWQgJHtlbnJpY2hlZENvdW50fSBwcm9wZXJ0aWVzLmAsIFwic3VjY2Vzc1wiKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHN0YXRlIHdpdGggZW5yaWNoZWQgcHJvcGVydGllc1xuICAgICAgYWRkRW5yaWNoaW5nTG9nKFwiVXBkYXRpbmcgcHJvcGVydHkgZGF0YSB3aXRoIGVucmljaGVkIHZhbHVlcy4uLlwiLCBcImluZm9cIik7XG4gICAgICBzZXRQcm9wZXJ0aWVzKGVucmljaGVkUHJvcGVydGllcyk7XG4gICAgICBjYWxjdWxhdGVTdGF0cyhlbnJpY2hlZFByb3BlcnRpZXMpO1xuICAgICAgXG4gICAgICAvLyBBbGVydCB1c2VyIG9mIHJlc3VsdHNcbiAgICAgIGFkZEVucmljaGluZ0xvZyhcIkRhdGEgZW5yaWNobWVudCBjb21wbGV0ZSFcIiwgXCJzdWNjZXNzXCIpO1xuICAgICAgYWxlcnQoXG4gICAgICAgIGBEYXRhIGVucmljaG1lbnQgY29tcGxldGUhXFxuXFxuYCArXG4gICAgICAgIGAtICR7ZW5yaWNoZWRDb3VudH0gcHJvcGVydGllcyB3ZXJlIGVucmljaGVkIG9yIG1hcmtlZCBmb3IgcmV2aWV3XFxuYCArXG4gICAgICAgIGAtICR7c3VzcGljaW91c1Byb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC51bml0cyA9PT0gMCkubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggemVybyB1bml0cyBwcm9jZXNzZWRcXG5gICtcbiAgICAgICAgYC0gJHtzdXNwaWNpb3VzUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLm51bV91bml0cyA9PT0gMCkubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggemVybyB1bml0cyBwcm9jZXNzZWRcXG5cXG5gICtcbiAgICAgICAgYE5leHQgc3RlcHM6XFxuYCArXG4gICAgICAgIGAxLiBSZXZpZXcgdGhlIGVucmljaGVkIGRhdGEgZm9yIGFjY3VyYWN5XFxuYCArXG4gICAgICAgIGAyLiBQcm9wZXJ0aWVzIG1hcmtlZCBmb3IgbWFudWFsIHJldmlldyBuZWVkIGh1bWFuIGF0dGVudGlvblxcbmAgK1xuICAgICAgICBgMy4gVXNlIFwiUHJvcGVydGllcyBBbmFseXNpc1wiIHRvIHZlcmlmeSBkYXRhIHF1YWxpdHlgXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbnJpY2hpbmcgcHJvcGVydHkgZGF0YTonLCBlcnJvcik7XG4gICAgICBhZGRFbnJpY2hpbmdMb2coYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCwgXCJlcnJvclwiKTtcbiAgICAgIGFsZXJ0KGBFcnJvciBlbnJpY2hpbmcgZGF0YTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHNldEVucmljaGluZyhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gRnVuY3Rpb24gdG8gYWRkIGEgbG9nIGVudHJ5IHdpdGggdGltZXN0YW1wXG4gIGNvbnN0IGFkZEdlb2NvZGluZ0xvZyA9IHVzZUNhbGxiYWNrKChtZXNzYWdlLCB0eXBlID0gJ2luZm8nKSA9PiB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICBzZXRHZW9jb2RpbmdMb2dzKHByZXZMb2dzID0+IFtcbiAgICAgIHsgbWVzc2FnZSwgdGltZXN0YW1wLCB0eXBlIH0sXG4gICAgICAuLi5wcmV2TG9ncy5zbGljZSgwLCA5OSkgLy8gS2VlcCBvbmx5IHRoZSBsYXN0IDEwMCBsb2dzXG4gICAgXSk7XG4gIH0sIFtdKTtcblxuICAvLyBDbGVhciBsb2dzIHdoZW4gc3RhcnRpbmcgbmV3IGdlb2NvZGluZyBwcm9jZXNzXG4gIGNvbnN0IGNsZWFyR2VvY29kaW5nTG9ncyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRHZW9jb2RpbmdMb2dzKFtdKTtcbiAgfSwgW10pO1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gYWRkIGEgY2xlYW5pbmcgbG9nIGVudHJ5IHdpdGggdGltZXN0YW1wXG4gIGNvbnN0IGFkZENsZWFuaW5nTG9nID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycpID0+IHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpO1xuICAgIHNldENsZWFuaW5nTG9ncyhwcmV2TG9ncyA9PiBbXG4gICAgICB7IG1lc3NhZ2UsIHRpbWVzdGFtcCwgdHlwZSB9LFxuICAgICAgLi4ucHJldkxvZ3Muc2xpY2UoMCwgOTkpIC8vIEtlZXAgb25seSB0aGUgbGFzdCAxMDAgbG9nc1xuICAgIF0pO1xuICB9LCBbXSk7XG5cbiAgLy8gQ2xlYXIgbG9ncyB3aGVuIHN0YXJ0aW5nIG5ldyBjbGVhbmluZyBwcm9jZXNzXG4gIGNvbnN0IGNsZWFyQ2xlYW5pbmdMb2dzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldENsZWFuaW5nTG9ncyhbXSk7XG4gIH0sIFtdKTtcbiAgXG4gIC8vIEZ1bmN0aW9uIHRvIGFkZCBhbiBlbnJpY2htZW50IGxvZyBlbnRyeSB3aXRoIHRpbWVzdGFtcFxuICBjb25zdCBhZGRFbnJpY2hpbmdMb2cgPSB1c2VDYWxsYmFjaygobWVzc2FnZSwgdHlwZSA9ICdpbmZvJykgPT4ge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gICAgc2V0RW5yaWNoaW5nTG9ncyhwcmV2TG9ncyA9PiBbXG4gICAgICB7IG1lc3NhZ2UsIHRpbWVzdGFtcCwgdHlwZSB9LFxuICAgICAgLi4ucHJldkxvZ3Muc2xpY2UoMCwgOTkpIC8vIEtlZXAgb25seSB0aGUgbGFzdCAxMDAgbG9nc1xuICAgIF0pO1xuICB9LCBbXSk7XG5cbiAgLy8gQ2xlYXIgbG9ncyB3aGVuIHN0YXJ0aW5nIG5ldyBlbnJpY2htZW50IHByb2Nlc3NcbiAgY29uc3QgY2xlYXJFbnJpY2hpbmdMb2dzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEVucmljaGluZ0xvZ3MoW10pO1xuICB9LCBbXSk7XG5cbiAgLy8gSGFuZGxlIHByb3BlcnR5IHNlbGVjdGlvblxuICBjb25zdCBoYW5kbGVQcm9wZXJ0eVNlbGVjdCA9IChwcm9wZXJ0eSkgPT4ge1xuICAgIC8vIEZvciBub24tYXV0aGVudGljYXRlZCB1c2Vycywgc2hvdyBsb2dpbiBwcm9tcHQgd2hlbiBzZWxlY3RpbmcgYSBwcm9wZXJ0eVxuICAgIGlmICghdXNlciAmJiBwcm9wZXJ0eSkge1xuICAgICAgc2V0U2VsZWN0ZWRQcm9wZXJ0eShudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgc2V0U2VsZWN0ZWRQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICBzZXRTaG93RGV0YWlscyh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIFVSTCB3aXRoIHByb3BlcnR5IElEIGZvciBzaGFyaW5nXG4gICAgICAvLyAuLi4gZXhpc3RpbmcgY29kZSAuLi5cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0IHRpdGxlPVwiUHJvcGVydHkgTWFwIHwgQWNxdWlyZSBBcGFydG1lbnRzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGJnLXdoaXRlIG1pbi1oLXNjcmVlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1bY2FsYygxMDB2aC00cmVtKV0gb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweC00IHB5LTQgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwXCI+TWFwIFZpZXc8L2gxPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPkJyb3dzZSBwcm9wZXJ0aWVzIG9uIHRoZSBtYXAgb3IgdXNlIGZpbHRlcnMgdG8gcmVmaW5lIHlvdXIgc2VhcmNoPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93IGZsZXhcIj5cbiAgICAgICAgICAgIHsvKiBQcm9wZXJ0eSBTaWRlYmFyICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4LXNocmluay0wIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke1xuICAgICAgICAgICAgICBzaWRlYmFyU3RhdGUgPT09ICdjb2xsYXBzZWQnID8gJ3ctMTInIDogXG4gICAgICAgICAgICAgIHNpZGViYXJTdGF0ZSA9PT0gJ2Z1bGxzY3JlZW4nID8gJ3ctZnVsbCcgOiBcbiAgICAgICAgICAgICAgJ3ctZnVsbCBtZDp3LTEvMyBsZzp3LTEvNCdcbiAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTRcIj5cbiAgICAgICAgICAgICAgICB7UmVhY3QuY3JlYXRlRWxlbWVudChkeW5hbWljKCgpID0+IGltcG9ydCgnLi4vc3JjL2NvbXBvbmVudHMvUHJvcGVydHlTaWRlYmFyJykpLCB7XG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUHJvcGVydHksXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nLFxuICAgICAgICAgICAgICAgICAgc2lkZWJhclN0YXRlLFxuICAgICAgICAgICAgICAgICAgb25TaWRlYmFyU3RhdGVDaGFuZ2U6IGhhbmRsZVNpZGViYXJTdGF0ZUNoYW5nZVxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogTWFwIENvbnRhaW5lciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleC1ncm93IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke1xuICAgICAgICAgICAgICBzaWRlYmFyU3RhdGUgPT09ICdmdWxsc2NyZWVuJyA/ICdoaWRkZW4nIDogJ2Jsb2NrJ1xuICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCByb3VuZGVkLWxnIHNoYWRvdyBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICA8TWFwQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzPXt1c2VyID8gcHJvcGVydGllcyA6IHNhbXBsZVByb3BlcnRpZXN9XG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZFByb3BlcnR5PXtzZWxlY3RlZFByb3BlcnR5fVxuICAgICAgICAgICAgICAgICAgb25Qcm9wZXJ0eVNlbGVjdD17aGFuZGxlUHJvcGVydHlTZWxlY3R9XG4gICAgICAgICAgICAgICAgICBvbkJvdW5kc0NoYW5nZT17aGFuZGxlQm91bmRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogR2VvY29kaW5nIExvZ3MgKi99XG4gICAgICAgICAge3Nob3dHZW9jb2RpbmdMb2dzICYmIGdlb2NvZGluZ0xvZ3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS00IHJpZ2h0LTQgdy05NiBtYXgtaC02NCBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBvdmVyZmxvdy1hdXRvIHAtNCB6LTUwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkdlb2NvZGluZyBMb2dzPC9oMz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dHZW9jb2RpbmdMb2dzKGZhbHNlKX0gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICB7Z2VvY29kaW5nTG9ncy5tYXAoKGxvZywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtgdGV4dC1zbSBwLTEgJHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLnR5cGUgPT09ICdlcnJvcicgPyAndGV4dC1yZWQtNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgIGxvZy50eXBlID09PSAnd2FybmluZycgPyAndGV4dC1hbWJlci02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgbG9nLnR5cGUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWdyZWVuLTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICAndGV4dC1ncmF5LTYwMCdcbiAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAge2xvZy5tZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBTaW1pbGFyIGJsb2NrcyBmb3Igb3RoZXIgbG9ncyAtIGNsZWFuaW5nIGFuZCBlbnJpY2hpbmcgbG9ncyByZW1haW4gdW5jaGFuZ2VkICovfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvTGF5b3V0PlxuICApO1xufSAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiZHluYW1pYyIsIkxheW91dCIsImZldGNoUHJvcGVydGllcyIsImVuaGFuY2VkR2VvY29kZVByb3BlcnRpZXMiLCJ1c2VBdXRoIiwiTGluayIsIk1hcENvbXBvbmVudCIsInNzciIsIkxvZ2luR2F0ZSIsImNoaWxkcmVuIiwidXNlciIsImxvYWRpbmciLCJkaXYiLCJjbGFzc05hbWUiLCJzdmciLCJ4bWxucyIsImZpbGwiLCJ2aWV3Qm94IiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInBhdGgiLCJkIiwicCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsImgyIiwiaHJlZiIsImEiLCJ1bCIsImxpIiwiTWFwUGFnZSIsInByb3BlcnRpZXMiLCJzZXRQcm9wZXJ0aWVzIiwic2FtcGxlUHJvcGVydGllcyIsInNldFNhbXBsZVByb3BlcnRpZXMiLCJzZWxlY3RlZFByb3BlcnR5Iiwic2V0U2VsZWN0ZWRQcm9wZXJ0eSIsInNldExvYWRpbmciLCJnZW9jb2RpbmciLCJzZXRHZW9jb2RpbmciLCJnZW9jb2RpbmdMb2dzIiwic2V0R2VvY29kaW5nTG9ncyIsInNob3dHZW9jb2RpbmdMb2dzIiwic2V0U2hvd0dlb2NvZGluZ0xvZ3MiLCJjbGVhbmluZyIsInNldENsZWFuaW5nIiwiY2xlYW5pbmdMb2dzIiwic2V0Q2xlYW5pbmdMb2dzIiwic2hvd0NsZWFuaW5nTG9ncyIsInNldFNob3dDbGVhbmluZ0xvZ3MiLCJlbnJpY2hpbmciLCJzZXRFbnJpY2hpbmciLCJlbnJpY2hpbmdMb2dzIiwic2V0RW5yaWNoaW5nTG9ncyIsInNob3dFbnJpY2hpbmdMb2dzIiwic2V0U2hvd0VucmljaGluZ0xvZ3MiLCJtYXBCb3VuZHMiLCJzZXRNYXBCb3VuZHMiLCJ0b3RhbEZldGNoZWQiLCJzZXRUb3RhbEZldGNoZWQiLCJzaWRlYmFyU3RhdGUiLCJzZXRTaWRlYmFyU3RhdGUiLCJkYXRhU3RhdHMiLCJzZXREYXRhU3RhdHMiLCJ0b3RhbFByb3BlcnRpZXMiLCJpbnZhbGlkQ29vcmRpbmF0ZXMiLCJtaXNzaW5nQ29vcmRpbmF0ZXMiLCJ6ZXJvQ29vcmRpbmF0ZXMiLCJpbnZhbGlkUmFuZ2UiLCJkdXBsaWNhdGVkTG9jYXRpb25zIiwibG9hZFNhbXBsZVByb3BlcnRpZXMiLCJkYXRhIiwicGFnZSIsInBhZ2VTaXplIiwic29ydEJ5Iiwic29ydEFzYyIsImluY2x1ZGVJbmNvbXBsZXRlIiwiaW5jbHVkZVJlc2VhcmNoIiwiZmlsdGVycyIsIm5vTGltaXQiLCJib3VuZHMiLCJzYW1wbGVzV2l0aExhYmVsIiwibWFwIiwicHJvcGVydHkiLCJuYW1lIiwiX2lzU2FtcGxlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9hZFByb3BlcnRpZXMiLCJsb2ciLCJoYW5kbGVCb3VuZHNDaGFuZ2UiLCJjYWxjdWxhdGVTdGF0cyIsInByb3BEYXRhIiwiQXJyYXkiLCJpc0FycmF5IiwibWlzc2luZ0Nvb3JkcyIsImZpbHRlciIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwibGVuZ3RoIiwiemVyb0Nvb3JkcyIsImxhdCIsInBhcnNlRmxvYXQiLCJTdHJpbmciLCJsbmciLCJpc05hTiIsImNvb3JkTWFwIiwiTWFwIiwiZHVwbGljYXRlZENvb3JkcyIsImZvckVhY2giLCJjb29yZEtleSIsImhhcyIsInNldCIsImdldCIsInVuaXF1ZUxvY2F0aW9ucyIsInNpemUiLCJvcHRpb25zIiwidmFsaWRDb29yZHMiLCJhdXN0aW5Db29yZHMiLCJzdXNwaWNpb3VzQ29vcmRzIiwibGF0U3RyIiwibG5nU3RyIiwiaGFzTG93UHJlY2lzaW9uIiwiaW5jbHVkZXMiLCJzcGxpdCIsImhhc1N1c3BpY2lvdXNQYXR0ZXJuIiwiZW5kc1dpdGgiLCJoYW5kbGVTaWRlYmFyU3RhdGVDaGFuZ2UiLCJzdGF0ZSIsImJhdGNoR2VvY29kZVByb3BlcnRpZXMiLCJjbGVhckdlb2NvZGluZ0xvZ3MiLCJwcm9wc1RvR2VvY29kZSIsIl9jb29yZGluYXRlc19taXNzaW5nIiwiX25lZWRzX2dlb2NvZGluZyIsIl9pc19ncmlkX3BhdHRlcm4iLCJhZGRHZW9jb2RpbmdMb2ciLCJhbGVydCIsImNvbmZpcm0iLCJiYXRjaFNpemUiLCJiYXRjaGVzIiwiTWF0aCIsImNlaWwiLCJzdWNjZXNzQ291bnQiLCJmYWlsQ291bnQiLCJpIiwic3RhcnQiLCJlbmQiLCJtaW4iLCJiYXRjaCIsInNsaWNlIiwiaWR4IiwicHJvcGVydHlOYW1lIiwiaWQiLCJnZW9jb2RlZEJhdGNoIiwic3RhdHVzIiwiZGV0YWlscyIsImJhdGNoU3VjY2VzcyIsIl9nZW9jb2RlZCIsImJhdGNoRmFpbCIsIl9nZW9jb2RpbmdfZmFpbGVkIiwidXBkYXRlZFByb3BlcnRpZXMiLCJnZW9jb2RlZFByb3AiLCJpbmRleCIsImZpbmRJbmRleCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIm1lc3NhZ2UiLCJydW5Qcm9wZXJ0eUFuYWx5c2lzIiwibXVsdGlwbGVQcm9wc0xvY2F0aW9ucyIsImZyb20iLCJlbnRyaWVzIiwiXyIsImNvdW50Iiwic29ydCIsImIiLCJtdWx0aXBsZVByb3BzQ291bnQiLCJyZWR1Y2UiLCJzdW0iLCJieVNvdXJjZSIsImV4aXN0aW5nIiwiX2dlb2NvZGluZ19zb3VyY2UiLCJ2ZXJpZmllZF9hZGRyZXNzIiwiZnVsbF9hZGRyZXNzIiwicHJvcGVydHlfbmFtZSIsInVua25vd24iLCJjb29yZHMiLCJqb2luIiwiY2xlYW5Qcm9wZXJ0eURhdGEiLCJjbGVhckNsZWFuaW5nTG9ncyIsImFkZENsZWFuaW5nTG9nIiwiZGF0YUlzc3VlcyIsIm1pc3NpbmdOYW1lcyIsInRyaW0iLCJpbmNvbXBsZXRlQWRkcmVzc2VzIiwiYWRkcmVzcyIsImNpdHkiLCJzdXNwaWNpb3VzWmVyb3MiLCJ1bml0cyIsIm51bV91bml0cyIsInN1c3BpY2lvdXNDb29yZGluYXRlcyIsImR1cGxpY2F0ZU5hbWVzIiwiZmluZER1cGxpY2F0ZXMiLCJkdXBsaWNhdGVBZGRyZXNzZXMiLCJ0ZXN0UHJvcGVydGllcyIsInRvTG93ZXJDYXNlIiwiX2lzX3Rlc3RfcHJvcGVydHkiLCJ0b3RhbElzc3VlcyIsImNvbmZpcm1hdGlvbiIsImFkdmFuY2VkT3B0aW9ucyIsImNsZWFuZWRQcm9wZXJ0aWVzIiwiaXNzdWVzQ2xlYW5lZCIsInByb3BlcnR5Q2xlYW5lZCIsImNsZWFuaW5nTm90ZXMiLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsInB1c2giLCJhZGRyZXNzUGFydHMiLCJzdGF0ZVBhcnQiLCJzdGF0ZU1hdGNoIiwibWF0Y2giLCJfZGF0YV9xdWFsaXR5X2lzc3VlcyIsIl9kYXRhX2NsZWFuZWQiLCJfY2xlYW5pbmdfbm90ZXMiLCJhcnJheSIsImtleSIsImNvdW50cyIsImR1cGxpY2F0ZXMiLCJpdGVtIiwidmFsdWUiLCJPYmplY3QiLCJrZXlzIiwiZW5yaWNoUHJvcGVydHlEYXRhIiwiY2xlYXJFbnJpY2hpbmdMb2dzIiwiYWRkRW5yaWNoaW5nTG9nIiwic3VzcGljaW91c1Byb3BlcnRpZXMiLCJlbnJpY2hlZFByb3BlcnRpZXMiLCJlbnJpY2hlZENvdW50IiwiY2l0eVN0YXRlR3JvdXBzIiwicHJpY2UiLCJtZWRpYW5WYWx1ZXMiLCJncm91cCIsInByaWNlc1BlclVuaXQiLCJ2IiwibWVkaWFuUHJpY2VQZXJVbml0IiwiZmxvb3IiLCJ5ZWFyQnVpbHQiLCJ5ZWFyX2J1aWx0IiwieSIsIm1lZGlhblllYXJCdWlsdCIsInNhbXBsZVNpemUiLCJyb3VuZCIsInRvTG9jYWxlU3RyaW5nIiwiaXNFbnJpY2hlZCIsImVucmljaG1lbnROb3RlcyIsInJlZmVyZW5jZUdyb3VwIiwicmVmZXJlbmNlS2V5Iiwic3RhdGVHcm91cHMiLCJhbGxQcmljZXNQZXJVbml0IiwiZXN0aW1hdGVkVW5pdHMiLCJfZGF0YV9lbnJpY2hlZCIsIl9lbnJpY2htZW50X25vdGVzIiwidHlwZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJwcmV2TG9ncyIsImhhbmRsZVByb3BlcnR5U2VsZWN0Iiwic2V0U2hvd0RldGFpbHMiLCJ0aXRsZSIsImgxIiwiY3JlYXRlRWxlbWVudCIsIm9uU2lkZWJhclN0YXRlQ2hhbmdlIiwib25Qcm9wZXJ0eVNlbGVjdCIsIm9uQm91bmRzQ2hhbmdlIiwiaDMiLCJidXR0b24iLCJvbkNsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/map.js\n"));

/***/ })

});
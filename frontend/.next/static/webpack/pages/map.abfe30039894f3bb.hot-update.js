"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/map",{

/***/ "./pages/map.js":
/*!**********************!*\
  !*** ./pages/map.js ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MapPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _src_components_Layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/components/Layout */ \"./src/components/Layout.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/supabase */ \"./lib/supabase.js\");\n/* harmony import */ var _lib_geocoding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/geocoding */ \"./lib/geocoding.js\");\n/* harmony import */ var _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../src/contexts/AuthContext */ \"./src/contexts/AuthContext.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_7__);\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n\n// Import the map component dynamically to avoid SSR issues with Leaflet\nconst MapComponent = next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(()=>__webpack_require__.e(/*! import() */ \"src_components_MapComponent_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../src/components/MapComponent */ \"./src/components/MapComponent.tsx\")), {\n    loadableGenerated: {\n        modules: [\n            \"map.js -> \" + \"../src/components/MapComponent\"\n        ]\n    },\n    ssr: false\n});\n_c = MapComponent;\n// Login gate component that blurs the content and shows a login prompt\nconst LoginGate = (param)=>{\n    let { children } = param;\n    _s();\n    const { user, loading } = (0,_src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth)();\n    // Show loading state while checking authentication\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative w-full h-full min-h-[80vh]\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800 z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"animate-spin h-10 w-10 text-blue-500 mx-auto mb-4\",\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            fill: \"none\",\n                            viewBox: \"0 0 24 24\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                    className: \"opacity-25\",\n                                    cx: \"12\",\n                                    cy: \"12\",\n                                    r: \"10\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 31,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    className: \"opacity-75\",\n                                    fill: \"currentColor\",\n                                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 39,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 25,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"dark:text-gray-300\",\n                            children: \"Checking authentication...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 45,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                    lineNumber: 24,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n            lineNumber: 22,\n            columnNumber: 7\n        }, undefined);\n    }\n    // If user is authenticated, show the content\n    if (user) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: children\n        }, void 0, false);\n    }\n    // If not authenticated, show blurred content with login prompt\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full min-h-[80vh]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 filter blur-md opacity-40 pointer-events-none overflow-hidden\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 61,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-black/20 dark:bg-black/40 flex items-center justify-center z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full text-center backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95 border border-gray-200 dark:border-gray-700\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                    className: \"h-16 w-16 text-blue-500 mx-auto mb-4\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 76,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 69,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                                    children: \"Access Restricted\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 83,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-gray-600 dark:text-gray-300\",\n                                    children: \"You need to log in or create an account to access the full property map and details.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 84,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 68,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                    href: \"/login\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        className: \"block w-full py-3 px-4 text-center bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md shadow transition duration-150\",\n                                        children: \"Log In\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 91,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 90,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                    href: \"/signup\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        className: \"block w-full py-3 px-4 text-center border border-blue-600 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900 dark:text-blue-400 dark:border-blue-400 font-medium rounded-md transition duration-150\",\n                                        children: \"Sign Up\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 96,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 95,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-gray-500 dark:text-gray-400 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"By signing up, you'll get access to:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 101,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                            className: \"mt-2 space-y-1 text-left list-disc list-inside\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Full property details and insights\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 103,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Save favorite properties\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 104,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Get notifications on new listings\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 105,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Access advanced filtering options\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 106,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 102,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 100,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 89,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                    lineNumber: 67,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 66,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n        lineNumber: 59,\n        columnNumber: 5\n    }, undefined);\n};\n_s(LoginGate, \"EmJkapf7qiLC5Br5eCoEq4veZes=\", false, function() {\n    return [\n        _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth\n    ];\n});\n_c1 = LoginGate;\nfunction MapPage() {\n    _s1();\n    const [properties, setProperties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [sampleProperties, setSampleProperties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedProperty, setSelectedProperty] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [geocoding, setGeocoding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [geocodingLogs, setGeocodingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showGeocodingLogs, setShowGeocodingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cleaning, setCleaning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cleaningLogs, setCleaningLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showCleaningLogs, setShowCleaningLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [enriching, setEnriching] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [enrichingLogs, setEnrichingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showEnrichingLogs, setShowEnrichingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mapBounds, setMapBounds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [totalFetched, setTotalFetched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [sidebarState, setSidebarState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"open\"); // 'open', 'collapsed', or 'fullscreen'\n    const [dataStats, setDataStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        totalProperties: 0,\n        invalidCoordinates: 0,\n        missingCoordinates: 0,\n        zeroCoordinates: 0,\n        invalidRange: 0,\n        duplicatedLocations: 0\n    });\n    const { user } = (0,_src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth)();\n    // Load sample properties for non-authenticated users\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadSampleProperties = async ()=>{\n            if (!user) {\n                try {\n                    // Fetch just a few sample properties to show on the map\n                    const data = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_4__.fetchProperties)({\n                        page: 1,\n                        pageSize: 5,\n                        sortBy: \"created_at\",\n                        sortAsc: false,\n                        includeIncomplete: false,\n                        includeResearch: true,\n                        filters: {},\n                        noLimit: false,\n                        bounds: null\n                    });\n                    // Mark them as sample properties\n                    const samplesWithLabel = data.map((property)=>({\n                            ...property,\n                            name: property.name ? \"\".concat(property.name, \" (Sample)\") : \"Sample Property\",\n                            _isSample: true\n                        }));\n                    setSampleProperties(samplesWithLabel);\n                } catch (error) {\n                    console.error(\"Error loading sample properties:\", error);\n                }\n            }\n        };\n        loadSampleProperties();\n    }, [\n        user\n    ]);\n    // Initial property load on page load\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (user) {\n            loadProperties();\n        }\n    }, [\n        user\n    ]);\n    // Reload properties when map bounds change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (mapBounds) {\n            console.log(\"Map bounds changed, loading properties in the visible area\");\n            loadProperties(mapBounds);\n        }\n    }, [\n        mapBounds\n    ]);\n    // Handle map bounds changes\n    const handleBoundsChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((bounds)=>{\n        setMapBounds(bounds);\n    }, []);\n    // Calculate statistics about the property data\n    const calculateStats = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((propData)=>{\n        if (!propData || !Array.isArray(propData)) return;\n        const missingCoords = propData.filter((p)=>!p.latitude || !p.longitude).length;\n        const zeroCoords = propData.filter((p)=>p.latitude === 0 && p.longitude === 0).length;\n        const invalidRange = propData.filter((p)=>{\n            if (!p.latitude || !p.longitude) return false;\n            const lat = typeof p.latitude === \"number\" ? p.latitude : parseFloat(String(p.latitude));\n            const lng = typeof p.longitude === \"number\" ? p.longitude : parseFloat(String(p.longitude));\n            return isNaN(lat) || isNaN(lng) || lat < -90 || lat > 90 || lng < -180 || lng > 180;\n        }).length;\n        // Count properties at identical coordinates\n        const coordMap = new Map();\n        let duplicatedCoords = 0;\n        propData.forEach((p)=>{\n            if (p.latitude && p.longitude) {\n                const coordKey = \"\".concat(p.latitude, \",\").concat(p.longitude);\n                if (coordMap.has(coordKey)) {\n                    coordMap.set(coordKey, coordMap.get(coordKey) + 1);\n                    duplicatedCoords++;\n                } else {\n                    coordMap.set(coordKey, 1);\n                }\n            }\n        });\n        setDataStats({\n            totalProperties: propData.length,\n            invalidCoordinates: missingCoords + zeroCoords + invalidRange,\n            missingCoordinates: missingCoords,\n            zeroCoordinates: zeroCoords,\n            invalidRange: invalidRange,\n            duplicatedLocations: duplicatedCoords,\n            uniqueLocations: coordMap.size\n        });\n    }, []);\n    // Function to load properties with optional bounds filter\n    async function loadProperties() {\n        let bounds = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n        try {\n            setLoading(true);\n            const options = {\n                sortBy: \"created_at\",\n                sortAsc: false,\n                page: 1,\n                pageSize: 1000,\n                filters: {},\n                includeIncomplete: true,\n                includeResearch: true,\n                noLimit: true // Bypass pagination to get all properties\n            };\n            // Apply bounds filter if provided\n            if (bounds) {\n                options.bounds = bounds;\n            }\n            const data = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_4__.fetchProperties)(options);\n            // Calculate statistics\n            calculateStats(data);\n            // Enhanced logging for debugging\n            console.log(\"===== MAP DEBUG =====\");\n            console.log(\"Loaded \".concat(data.length, \" properties for map\"));\n            // Check coordinate validity\n            const validCoords = data.filter((p)=>p.latitude && p.longitude && typeof p.latitude === \"number\" && typeof p.longitude === \"number\" && !(p.latitude === 0 && p.longitude === 0));\n            console.log(\"Properties with valid coordinates: \".concat(validCoords.length));\n            // Check Austin area coordinates\n            const austinCoords = validCoords.filter((p)=>p.latitude >= 29.5 && p.latitude <= 31.0 && p.longitude >= -98.0 && p.longitude <= -97.0);\n            console.log(\"Properties with coordinates in Austin area: \".concat(austinCoords.length));\n            // Look for suspicious patterns\n            const suspiciousCoords = validCoords.filter((p)=>{\n                const latStr = String(p.latitude);\n                const lngStr = String(p.longitude);\n                const hasLowPrecision = latStr.includes(\".\") && latStr.split(\".\")[1].length <= 1 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 1;\n                const hasSuspiciousPattern = latStr === lngStr || latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\");\n                return hasLowPrecision || hasSuspiciousPattern;\n            });\n            console.log(\"Properties with suspicious coordinates: \".concat(suspiciousCoords.length));\n            console.log(\"===== END DEBUG =====\");\n            setProperties(data);\n            setTotalFetched(data.length);\n        } catch (error) {\n            console.error(\"Error fetching properties:\", error);\n        } finally{\n            setLoading(false);\n        }\n    }\n    // Function to handle sidebar state change\n    const handleSidebarStateChange = (state)=>{\n        setSidebarState(state);\n    };\n    // Function to batch geocode properties with missing coordinates\n    async function batchGeocodeProperties() {\n        try {\n            setGeocoding(true);\n            clearGeocodingLogs();\n            setShowGeocodingLogs(true);\n            // Filter properties that need geocoding\n            const propsToGeocode = properties.filter((p)=>!p.latitude || !p.longitude || p.latitude === 0 || p.longitude === 0 || p._coordinates_missing || p._needs_geocoding || p._is_grid_pattern);\n            if (propsToGeocode.length === 0) {\n                addGeocodingLog(\"No properties need geocoding\", \"info\");\n                alert(\"No properties need geocoding\");\n                setGeocoding(false);\n                return;\n            }\n            // Confirm with user\n            addGeocodingLog(\"Found \".concat(propsToGeocode.length, \" properties that need geocoding\"), \"info\");\n            if (!confirm(\"This will attempt to geocode \".concat(propsToGeocode.length, \" properties with missing or invalid coordinates. Continue?\"))) {\n                addGeocodingLog(\"Geocoding cancelled by user\", \"warning\");\n                setGeocoding(false);\n                return;\n            }\n            addGeocodingLog(\"Starting batch geocoding of \".concat(propsToGeocode.length, \" properties\"), \"info\");\n            // Process in batches of 25 to avoid rate limits\n            const batchSize = 25;\n            const batches = Math.ceil(propsToGeocode.length / batchSize);\n            let successCount = 0;\n            let failCount = 0;\n            for(let i = 0; i < batches; i++){\n                const start = i * batchSize;\n                const end = Math.min(start + batchSize, propsToGeocode.length);\n                const batch = propsToGeocode.slice(start, end);\n                addGeocodingLog(\"Processing batch \".concat(i + 1, \"/\").concat(batches, \" (\").concat(batch.length, \" properties)\"), \"info\");\n                console.log(\"Processing batch \".concat(i + 1, \"/\").concat(batches, \" (\").concat(batch.length, \" properties)\"));\n                try {\n                    // For each property in the batch, log the property being processed\n                    batch.forEach((property, idx)=>{\n                        const propertyName = property.name || \"Property #\".concat(property.id);\n                        addGeocodingLog(\"[\".concat(i + 1, \".\").concat(idx + 1, \"] Queuing \").concat(propertyName), \"detail\");\n                    });\n                    const geocodedBatch = await (0,_lib_geocoding__WEBPACK_IMPORTED_MODULE_5__.enhancedGeocodeProperties)(batch, (property, status, details)=>{\n                        // This is a callback that will be called for each property as it's processed\n                        const propertyName = property.name || \"Property #\".concat(property.id);\n                        if (status === \"success\") {\n                            addGeocodingLog(\"Geocoded: \".concat(propertyName, \" (\").concat(details, \")\"), \"success\");\n                        } else if (status === \"error\") {\n                            addGeocodingLog(\"Failed: \".concat(propertyName, \" (\").concat(details, \")\"), \"error\");\n                        } else {\n                            addGeocodingLog(\"\".concat(status, \": \").concat(propertyName, \" \").concat(details ? \"(\".concat(details, \")\") : \"\"), \"info\");\n                        }\n                    });\n                    // Count successes and failures\n                    const batchSuccess = geocodedBatch.filter((p)=>p._geocoded).length;\n                    const batchFail = geocodedBatch.filter((p)=>p._geocoding_failed).length;\n                    successCount += batchSuccess;\n                    failCount += batchFail;\n                    addGeocodingLog(\"Batch \".concat(i + 1, \" complete: \").concat(batchSuccess, \" successes, \").concat(batchFail, \" failures\"), batchSuccess > batchFail ? \"success\" : \"warning\");\n                    // Merge geocoded properties back into the main array\n                    const updatedProperties = [\n                        ...properties\n                    ];\n                    geocodedBatch.forEach((geocodedProp)=>{\n                        const index = updatedProperties.findIndex((p)=>p.id === geocodedProp.id);\n                        if (index !== -1) {\n                            updatedProperties[index] = geocodedProp;\n                        }\n                    });\n                    // Update the properties state\n                    setProperties(updatedProperties);\n                    calculateStats(updatedProperties);\n                    // Wait a bit between batches to avoid rate limits\n                    if (i < batches - 1) {\n                        addGeocodingLog(\"Waiting 2 seconds before next batch to avoid rate limits\", \"info\");\n                        await new Promise((resolve)=>setTimeout(resolve, 2000));\n                    }\n                } catch (error) {\n                    console.error(\"Error geocoding batch \".concat(i + 1, \":\"), error);\n                    addGeocodingLog(\"Error with batch \".concat(i + 1, \": \").concat(error.message), \"error\");\n                    failCount += batch.length;\n                }\n            }\n            addGeocodingLog(\"Geocoding complete: \".concat(successCount, \" successes, \").concat(failCount, \" failures\"), successCount > failCount ? \"success\" : \"error\");\n            alert(\"Geocoding complete:\\n\\n\".concat(successCount, \" properties successfully geocoded\\n\").concat(failCount, \" properties failed to geocode\"));\n        } catch (error) {\n            console.error(\"Error in batch geocoding:\", error);\n            addGeocodingLog(\"Geocoding error: \".concat(error.message), \"error\");\n            alert(\"Error geocoding properties: \".concat(error.message));\n        } finally{\n            setGeocoding(false);\n        }\n    }\n    function runPropertyAnalysis() {\n        // Count properties at identical coordinates\n        const coordMap = new Map();\n        let duplicatedCoords = 0;\n        properties.forEach((p)=>{\n            if (p.latitude && p.longitude) {\n                const coordKey = \"\".concat(p.latitude, \",\").concat(p.longitude);\n                if (coordMap.has(coordKey)) {\n                    coordMap.set(coordKey, coordMap.get(coordKey) + 1);\n                    duplicatedCoords++;\n                } else {\n                    coordMap.set(coordKey, 1);\n                }\n            }\n        });\n        // Find coordinates with multiple properties\n        const multiplePropsLocations = Array.from(coordMap.entries()).filter((param)=>{\n            let [_, count] = param;\n            return count > 1;\n        }).sort((a, b)=>b[1] - a[1]); // Sort by count descending\n        const multiplePropsCount = multiplePropsLocations.reduce((sum, param)=>{\n            let [_, count] = param;\n            return sum + count;\n        }, 0);\n        const uniqueLocations = coordMap.size;\n        // Count by geocoding source if available\n        const bySource = {\n            existing: properties.filter((p)=>p._geocoding_source === \"existing\").length,\n            verified_address: properties.filter((p)=>p._geocoding_source === \"verified_address\").length,\n            full_address: properties.filter((p)=>p._geocoding_source === \"full_address\").length,\n            property_name: properties.filter((p)=>p._geocoding_source === \"property_name\").length,\n            unknown: properties.filter((p)=>p.latitude && p.longitude && !p._geocoding_source).length\n        };\n        alert(\"Map Properties Analysis:\\n\\n\" + \"- Total properties: \".concat(properties.length, \"\\n\") + \"- Properties with invalid coordinates: \".concat(dataStats.invalidCoordinates, \"\\n\") + \"   • Missing coordinates: \".concat(dataStats.missingCoordinates, \"\\n\") + \"   • Zero coordinates: \".concat(dataStats.zeroCoordinates, \"\\n\") + \"   • Invalid coordinate range: \".concat(dataStats.invalidRange, \"\\n\\n\") + \"- Unique locations on map: \".concat(uniqueLocations, \"\\n\") + \"- Properties sharing exact coordinates: \".concat(duplicatedCoords, \"\\n\") + \"- Number of shared locations: \".concat(multiplePropsLocations.length, \"\\n\\n\") + (multiplePropsLocations.length > 0 ? \"Top shared locations:\\n\" + multiplePropsLocations.slice(0, 5).map((param)=>{\n            let [coords, count] = param;\n            return \"   • \".concat(count, \" properties at \").concat(coords);\n        }).join(\"\\n\") : \"\") + \"\\n\\n\" + \"Geocoding sources:\\n\" + \"   • Existing valid: \".concat(bySource.existing, \"\\n\") + \"   • Verified address: \".concat(bySource.verified_address, \"\\n\") + \"   • Full address: \".concat(bySource.full_address, \"\\n\") + \"   • Property name: \".concat(bySource.property_name, \"\\n\") + \"   • Unknown source: \".concat(bySource.unknown, \"\\n\\n\") + \"Note: Properties at identical coordinates will appear as a single marker until clicked.\");\n    }\n    // Function to clean property data\n    async function cleanPropertyData() {\n        try {\n            // Start the cleaning process\n            setLoading(true);\n            setCleaning(true);\n            clearCleaningLogs();\n            setShowCleaningLogs(true);\n            addCleaningLog(\"Starting data cleaning process...\", \"info\");\n            // First, analyze the data to identify issues\n            addCleaningLog(\"Analyzing properties for data quality issues...\", \"info\");\n            const dataIssues = {\n                missingNames: properties.filter((p)=>!p.name || p.name.trim() === \"\").length,\n                incompleteAddresses: properties.filter((p)=>p.address && (!p.city || !p.state)).length,\n                suspiciousZeros: properties.filter((p)=>p.units === 0 || p.num_units === 0).length,\n                suspiciousCoordinates: properties.filter((p)=>{\n                    // Check for suspicious patterns in coordinates\n                    if (!p.latitude || !p.longitude) return false;\n                    const latStr = String(p.latitude);\n                    const lngStr = String(p.longitude);\n                    // Check for very low precision or suspicious patterns\n                    return latStr.includes(\".\") && latStr.split(\".\")[1].length <= 2 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 2 || latStr === lngStr || // Same lat/lng is suspicious\n                    latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\") || latStr.endsWith(\".0\") || lngStr.endsWith(\".0\") || latStr.endsWith(\".5\") || lngStr.endsWith(\".5\");\n                }).length,\n                duplicateNames: findDuplicates(properties, \"name\"),\n                duplicateAddresses: findDuplicates(properties, \"address\"),\n                testProperties: properties.filter((p)=>p.name && p.name.toLowerCase().includes(\"test\") || p.name && p.name.toLowerCase().includes(\"example\") || p.address && p.address.toLowerCase().includes(\"test\") || p._is_test_property).length\n            };\n            const totalIssues = dataIssues.missingNames + dataIssues.incompleteAddresses + dataIssues.suspiciousZeros + dataIssues.suspiciousCoordinates + dataIssues.duplicateNames.length + dataIssues.duplicateAddresses.length + dataIssues.testProperties;\n            // Log analysis results\n            addCleaningLog(\"Analysis found \".concat(totalIssues, \" data quality issues:\"), \"info\");\n            addCleaningLog(\"- \".concat(dataIssues.missingNames, \" properties missing names\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.incompleteAddresses, \" properties with incomplete addresses\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.suspiciousZeros, \" properties with suspicious zero values\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.suspiciousCoordinates, \" properties with suspicious coordinates\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.duplicateNames.length, \" duplicate property names\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.duplicateAddresses.length, \" duplicate addresses\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.testProperties, \" potential test/example properties\"), \"detail\");\n            // No issues found\n            if (totalIssues === 0) {\n                addCleaningLog(\"No data issues found that need cleaning\", \"success\");\n                alert(\"No data issues found that need cleaning\");\n                setLoading(false);\n                setCleaning(false);\n                return;\n            }\n            // Confirm with user\n            const confirmation = confirm(\"Found \".concat(totalIssues, \" data quality issues:\\n\\n\") + \"- \".concat(dataIssues.missingNames, \" properties missing names\\n\") + \"- \".concat(dataIssues.incompleteAddresses, \" properties with incomplete addresses\\n\") + \"- \".concat(dataIssues.suspiciousZeros, \" properties with suspicious zero values\\n\") + \"- \".concat(dataIssues.suspiciousCoordinates, \" properties with suspicious coordinates\\n\") + \"- \".concat(dataIssues.duplicateNames.length, \" duplicate property names\\n\") + \"- \".concat(dataIssues.duplicateAddresses.length, \" duplicate addresses\\n\") + \"- \".concat(dataIssues.testProperties, \" potential test/example properties\\n\\n\") + \"Would you like to clean these issues?\");\n            if (!confirmation) {\n                addCleaningLog(\"Cleaning cancelled by user\", \"warning\");\n                setLoading(false);\n                setCleaning(false);\n                return;\n            }\n            // Optional: offer advanced options\n            const advancedOptions = confirm(\"Would you like to use advanced cleaning options?\\n\\n\" + \"- Fix missing names and extract city/state from addresses\\n\" + \"- Flag suspicious coordinates for geocoding\\n\" + \"- Identify and flag duplicate properties\\n\" + \"- Flag test properties for filtering\\n\\n\" + \"Select 'Cancel' for basic cleaning only.\");\n            addCleaningLog(\"Starting \".concat(advancedOptions ? \"advanced\" : \"basic\", \" cleaning process...\"), \"info\");\n            // Apply fixes to a copy of the properties\n            const cleanedProperties = [\n                ...properties\n            ];\n            // Clean property names\n            let issuesCleaned = 0;\n            addCleaningLog(\"Processing \".concat(properties.length, \" properties...\"), \"info\");\n            properties.forEach((property, index)=>{\n                let propertyCleaned = false;\n                let cleaningNotes = [];\n                // Fix missing names using address\n                if (!property.name || property.name.trim() === \"\") {\n                    if (property.address) {\n                        cleanedProperties[index].name = \"Property at \".concat(property.address.split(\",\")[0]);\n                        addCleaningLog(\"Generated name for property #\".concat(property.id, ': \"').concat(cleanedProperties[index].name, '\"'), \"success\");\n                    } else {\n                        cleanedProperties[index].name = \"Unnamed Property \".concat(property.id.toString().substring(0, 8));\n                        addCleaningLog(\"Generated fallback name for property #\".concat(property.id, ': \"').concat(cleanedProperties[index].name, '\"'), \"success\");\n                    }\n                    propertyCleaned = true;\n                    cleaningNotes.push(\"Missing name fixed\");\n                }\n                // Fix missing city/state if address exists\n                if (property.address && (!property.city || !property.state)) {\n                    // Try to extract city and state from address\n                    const addressParts = property.address.split(\",\").map((p)=>p.trim());\n                    if (addressParts.length >= 2 && !property.city) {\n                        cleanedProperties[index].city = addressParts[addressParts.length - 2];\n                        addCleaningLog('Extracted city \"'.concat(cleanedProperties[index].city, '\" for property #').concat(property.id), \"success\");\n                        propertyCleaned = true;\n                        cleaningNotes.push(\"City extracted from address\");\n                    }\n                    if (addressParts.length >= 1 && !property.state) {\n                        // Try to extract state from the last part of the address\n                        const statePart = addressParts[addressParts.length - 1];\n                        const stateMatch = statePart.match(/[A-Z]{2}/);\n                        if (stateMatch) {\n                            cleanedProperties[index].state = stateMatch[0];\n                            addCleaningLog('Extracted state \"'.concat(cleanedProperties[index].state, '\" for property #').concat(property.id), \"success\");\n                            propertyCleaned = true;\n                            cleaningNotes.push(\"State extracted from address\");\n                        }\n                    }\n                }\n                // Flag suspicious coordinates for advanced cleaning\n                if (advancedOptions) {\n                    const latStr = String(property.latitude || \"\");\n                    const lngStr = String(property.longitude || \"\");\n                    // Check for suspicious patterns in coordinates\n                    const hasLowPrecision = latStr.includes(\".\") && latStr.split(\".\")[1].length <= 2 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 2;\n                    const hasSuspiciousPattern = latStr === lngStr || // Same lat/lng is very unlikely\n                    latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\") || latStr.endsWith(\".0\") || lngStr.endsWith(\".0\") || latStr.endsWith(\".5\") || lngStr.endsWith(\".5\");\n                    if (hasLowPrecision || hasSuspiciousPattern) {\n                        cleanedProperties[index]._is_grid_pattern = true;\n                        cleanedProperties[index]._needs_geocoding = true;\n                        addCleaningLog(\"Flagged suspicious coordinates (\".concat(latStr, \", \").concat(lngStr, \") for property #\").concat(property.id), \"warning\");\n                        propertyCleaned = true;\n                        cleaningNotes.push(\"Flagged suspicious coordinates for geocoding\");\n                    }\n                }\n                // Flag test properties\n                if (property.name && property.name.toLowerCase().includes(\"test\") || property.name && property.name.toLowerCase().includes(\"example\") || property.address && property.address.toLowerCase().includes(\"test\")) {\n                    cleanedProperties[index]._is_test_property = true;\n                    addCleaningLog(\"Flagged test property #\".concat(property.id, ': \"').concat(property.name, '\"'), \"warning\");\n                    propertyCleaned = true;\n                    cleaningNotes.push(\"Flagged as test property\");\n                }\n                // Flag suspicious zeros for advanced cleaning\n                if (advancedOptions && (property.units === 0 || property.num_units === 0)) {\n                    // We'll just flag these for now, manual review is needed\n                    if (!cleanedProperties[index]._data_quality_issues) {\n                        cleanedProperties[index]._data_quality_issues = [];\n                    }\n                    cleanedProperties[index]._data_quality_issues.push(\"zero_units\");\n                    addCleaningLog(\"Flagged zero units for property #\".concat(property.id), \"warning\");\n                    propertyCleaned = true;\n                    cleaningNotes.push(\"Flagged zero units\");\n                }\n                // Update property with cleaning information\n                if (propertyCleaned) {\n                    cleanedProperties[index]._data_cleaned = true;\n                    cleanedProperties[index]._cleaning_notes = cleaningNotes.join(\", \");\n                    issuesCleaned++;\n                }\n            });\n            addCleaningLog(\"Finished processing. Cleaned \".concat(issuesCleaned, \" properties.\"), \"success\");\n            // Update state with cleaned properties\n            addCleaningLog(\"Updating property data with cleaned values...\", \"info\");\n            setProperties(cleanedProperties);\n            calculateStats(cleanedProperties);\n            // Alert user of results\n            addCleaningLog(\"Data cleaning complete!\", \"success\");\n            alert(\"Data cleaning complete!\\n\\n\" + \"- \".concat(issuesCleaned, \" properties were cleaned\\n\") + \"- Added names to \".concat(dataIssues.missingNames, \" properties\\n\") + \"- Extracted city/state for \".concat(dataIssues.incompleteAddresses, \" properties\\n\") + \"- Flagged \".concat(dataIssues.suspiciousCoordinates, \" suspicious coordinates for geocoding\\n\") + \"- Identified \".concat(dataIssues.duplicateNames.length, \" duplicate names\\n\") + \"- Flagged \".concat(dataIssues.testProperties, \" test properties\\n\\n\") + \"Next steps:\\n\" + '1. Use \"Batch Geocode\" to fix flagged coordinates\\n' + '2. Use \"Properties Analysis\" to review data quality\\n' + \"3. Some properties still require manual review\");\n        } catch (error) {\n            console.error(\"Error cleaning property data:\", error);\n            addCleaningLog(\"Error: \".concat(error.message), \"error\");\n            alert(\"Error cleaning data: \".concat(error.message));\n        } finally{\n            setLoading(false);\n            setCleaning(false);\n        }\n    }\n    // Helper function to find duplicates in properties by field\n    function findDuplicates(array, key) {\n        const counts = {};\n        const duplicates = [];\n        // Skip entries with empty values\n        array.forEach((item)=>{\n            if (item[key] && item[key].trim() !== \"\") {\n                const value = item[key].toLowerCase().trim();\n                counts[value] = (counts[value] || 0) + 1;\n            }\n        });\n        // Find values that appear more than once\n        Object.keys(counts).forEach((value)=>{\n            if (counts[value] > 1) {\n                duplicates.push({\n                    value,\n                    count: counts[value]\n                });\n            }\n        });\n        return duplicates;\n    }\n    // Function to enrich property data with zero values\n    async function enrichPropertyData() {\n        try {\n            setLoading(true);\n            setEnriching(true);\n            clearEnrichingLogs();\n            setShowEnrichingLogs(true);\n            addEnrichingLog(\"Starting data enrichment process...\", \"info\");\n            // Identify properties with suspicious zero values\n            addEnrichingLog(\"Analyzing properties for suspicious zero values...\", \"info\");\n            const suspiciousProperties = properties.filter((p)=>p.units === 0 || p.num_units === 0);\n            if (suspiciousProperties.length === 0) {\n                addEnrichingLog(\"No properties with suspicious zero values found\", \"success\");\n                alert(\"No properties with suspicious zero values found\");\n                setLoading(false);\n                setEnriching(false);\n                return;\n            }\n            addEnrichingLog(\"Found \".concat(suspiciousProperties.length, \" properties with suspicious zero values:\"), \"info\");\n            addEnrichingLog(\"- \".concat(suspiciousProperties.filter((p)=>p.units === 0).length, \" properties with zero units\"), \"detail\");\n            addEnrichingLog(\"- \".concat(suspiciousProperties.filter((p)=>p.num_units === 0).length, \" properties with zero units\"), \"detail\");\n            // Confirm with user\n            const confirmation = confirm(\"Found \".concat(suspiciousProperties.length, \" properties with suspicious zero values:\\n\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.units === 0).length, \" properties with zero units\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.num_units === 0).length, \" properties with zero units\\n\\n\") + \"Would you like to attempt to enrich these properties?\");\n            if (!confirmation) {\n                addEnrichingLog(\"Enrichment cancelled by user\", \"warning\");\n                setLoading(false);\n                setEnriching(false);\n                return;\n            }\n            // Make a copy of the properties for enrichment\n            const enrichedProperties = [\n                ...properties\n            ];\n            let enrichedCount = 0;\n            // Analyze collections of similar properties to derive estimates\n            addEnrichingLog(\"Analyzing property data for statistical enrichment...\", \"info\");\n            // Group properties by city/state for better comparison\n            const cityStateGroups = {};\n            properties.forEach((p)=>{\n                if (p.city && p.state && p.price && p.price > 0 && (p.units > 0 || p.num_units > 0)) {\n                    const key = \"\".concat(p.city.toLowerCase(), \",\").concat(p.state.toLowerCase());\n                    if (!cityStateGroups[key]) {\n                        cityStateGroups[key] = [];\n                    }\n                    cityStateGroups[key].push(p);\n                }\n            });\n            // Calculate median values per city/state\n            const medianValues = {};\n            Object.keys(cityStateGroups).forEach((key)=>{\n                const group = cityStateGroups[key];\n                if (group.length >= 3) {\n                    // Calculate median price per unit\n                    const pricesPerUnit = group.map((p)=>{\n                        const units = p.units || p.num_units || 0;\n                        return units > 0 ? p.price / units : 0;\n                    }).filter((v)=>v > 0).sort((a, b)=>a - b);\n                    const medianPricePerUnit = pricesPerUnit[Math.floor(pricesPerUnit.length / 2)];\n                    // Calculate median year built\n                    const yearBuilt = group.map((p)=>p.year_built).filter((y)=>y && y > 1900).sort((a, b)=>a - b);\n                    const medianYearBuilt = yearBuilt.length > 0 ? yearBuilt[Math.floor(yearBuilt.length / 2)] : null;\n                    medianValues[key] = {\n                        medianPricePerUnit,\n                        medianYearBuilt,\n                        sampleSize: group.length\n                    };\n                    addEnrichingLog(\"Group \".concat(key, \": \").concat(group.length, \" properties, $\").concat(Math.round(medianPricePerUnit).toLocaleString(), \"/unit\"), \"detail\");\n                }\n            });\n            addEnrichingLog(\"Created \".concat(Object.keys(medianValues).length, \" statistical groups for comparison\"), \"info\");\n            addEnrichingLog(\"Starting to process \".concat(suspiciousProperties.length, \" properties with zero values...\"), \"info\");\n            // Enrich properties with suspicious zero values\n            suspiciousProperties.forEach((property)=>{\n                const index = enrichedProperties.findIndex((p)=>p.id === property.id);\n                if (index === -1) return;\n                let isEnriched = false;\n                let enrichmentNotes = [];\n                // Find the best reference group for this property\n                let referenceGroup = null;\n                let referenceKey = null;\n                if (property.city && property.state) {\n                    const key = \"\".concat(property.city.toLowerCase(), \",\").concat(property.state.toLowerCase());\n                    if (medianValues[key]) {\n                        referenceGroup = medianValues[key];\n                        referenceKey = key;\n                        addEnrichingLog(\"Property #\".concat(property.id, \": Found exact city/state match (\").concat(key, \")\"), \"detail\");\n                    }\n                }\n                // If no direct city/state match, use the closest geographically or a general average\n                if (!referenceGroup) {\n                    // Fall back to state-level data or general average\n                    if (property.state) {\n                        const stateGroups = Object.keys(medianValues).filter((key)=>key.endsWith(\",\".concat(property.state.toLowerCase())));\n                        if (stateGroups.length > 0) {\n                            // Use the largest sample from the state\n                            referenceKey = stateGroups.sort((a, b)=>medianValues[b].sampleSize - medianValues[a].sampleSize)[0];\n                            referenceGroup = medianValues[referenceKey];\n                            addEnrichingLog(\"Property #\".concat(property.id, \": Found state-level match (\").concat(referenceKey, \")\"), \"detail\");\n                        }\n                    }\n                    // If still no match, use the overall average\n                    if (!referenceGroup) {\n                        const allPricesPerUnit = properties.filter((p)=>p.price && p.price > 0 && (p.units > 0 || p.num_units > 0)).map((p)=>p.price / (p.units || p.num_units)).sort((a, b)=>a - b);\n                        if (allPricesPerUnit.length > 0) {\n                            referenceGroup = {\n                                medianPricePerUnit: allPricesPerUnit[Math.floor(allPricesPerUnit.length / 2)],\n                                medianYearBuilt: null,\n                                sampleSize: allPricesPerUnit.length\n                            };\n                            referenceKey = \"all_properties\";\n                            addEnrichingLog(\"Property #\".concat(property.id, \": Using global average (\").concat(allPricesPerUnit.length, \" properties)\"), \"detail\");\n                        }\n                    }\n                }\n                // Calculate missing values\n                if (referenceGroup) {\n                    // Fix zero units if price is available\n                    if ((property.units === 0 || !property.units) && (property.num_units === 0 || !property.num_units) && property.price > 0 && referenceGroup.medianPricePerUnit > 0) {\n                        const estimatedUnits = Math.round(property.price / referenceGroup.medianPricePerUnit);\n                        enrichedProperties[index].units = estimatedUnits;\n                        enrichedProperties[index].num_units = estimatedUnits;\n                        addEnrichingLog(\"Property #\".concat(property.id, \": Estimated \").concat(estimatedUnits, \" units based on $\").concat(property.price.toLocaleString(), \" price\"), \"success\");\n                        isEnriched = true;\n                        enrichmentNotes.push(\"Estimated \".concat(estimatedUnits, \" units based on price and \").concat(referenceKey, \" median\"));\n                    }\n                    // Add missing year built if we have a reference\n                    if ((!property.year_built || property.year_built < 1900) && referenceGroup.medianYearBuilt) {\n                        enrichedProperties[index].year_built = referenceGroup.medianYearBuilt;\n                        addEnrichingLog(\"Property #\".concat(property.id, \": Estimated year built as \").concat(referenceGroup.medianYearBuilt), \"success\");\n                        isEnriched = true;\n                        enrichmentNotes.push(\"Estimated year built as \".concat(referenceGroup.medianYearBuilt, \" based on \").concat(referenceKey, \" median\"));\n                    }\n                }\n                // Flag property as needing human review if we couldn't enrich it\n                if (!isEnriched) {\n                    // Mark as needing manual review\n                    if (!enrichedProperties[index]._data_quality_issues) {\n                        enrichedProperties[index]._data_quality_issues = [];\n                    }\n                    enrichedProperties[index]._data_quality_issues.push(\"needs_manual_review\");\n                    addEnrichingLog(\"Property #\".concat(property.id, \": Insufficient data for enrichment, marked for manual review\"), \"warning\");\n                    isEnriched = true;\n                    enrichmentNotes.push(\"Marked for manual review - insufficient data to make estimates\");\n                }\n                // Update property with enrichment information\n                if (isEnriched) {\n                    enrichedProperties[index]._data_enriched = true;\n                    enrichedProperties[index]._enrichment_notes = enrichmentNotes.join(\", \");\n                    enrichedCount++;\n                }\n            });\n            addEnrichingLog(\"Enrichment processing complete. Enriched \".concat(enrichedCount, \" properties.\"), \"success\");\n            // Update state with enriched properties\n            addEnrichingLog(\"Updating property data with enriched values...\", \"info\");\n            setProperties(enrichedProperties);\n            calculateStats(enrichedProperties);\n            // Alert user of results\n            addEnrichingLog(\"Data enrichment complete!\", \"success\");\n            alert(\"Data enrichment complete!\\n\\n\" + \"- \".concat(enrichedCount, \" properties were enriched or marked for review\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.units === 0).length, \" properties with zero units processed\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.num_units === 0).length, \" properties with zero units processed\\n\\n\") + \"Next steps:\\n\" + \"1. Review the enriched data for accuracy\\n\" + \"2. Properties marked for manual review need human attention\\n\" + '3. Use \"Properties Analysis\" to verify data quality');\n        } catch (error) {\n            console.error(\"Error enriching property data:\", error);\n            addEnrichingLog(\"Error: \".concat(error.message), \"error\");\n            alert(\"Error enriching data: \".concat(error.message));\n        } finally{\n            setLoading(false);\n            setEnriching(false);\n        }\n    }\n    // Function to add a log entry with timestamp\n    const addGeocodingLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"info\";\n        const timestamp = new Date().toLocaleTimeString();\n        setGeocodingLogs((prevLogs)=>[\n                {\n                    message,\n                    timestamp,\n                    type\n                },\n                ...prevLogs.slice(0, 99) // Keep only the last 100 logs\n            ]);\n    }, []);\n    // Clear logs when starting new geocoding process\n    const clearGeocodingLogs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setGeocodingLogs([]);\n    }, []);\n    // Function to add a cleaning log entry with timestamp\n    const addCleaningLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"info\";\n        const timestamp = new Date().toLocaleTimeString();\n        setCleaningLogs((prevLogs)=>[\n                {\n                    message,\n                    timestamp,\n                    type\n                },\n                ...prevLogs.slice(0, 99) // Keep only the last 100 logs\n            ]);\n    }, []);\n    // Clear logs when starting new cleaning process\n    const clearCleaningLogs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setCleaningLogs([]);\n    }, []);\n    // Function to add an enrichment log entry with timestamp\n    const addEnrichingLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"info\";\n        const timestamp = new Date().toLocaleTimeString();\n        setEnrichingLogs((prevLogs)=>[\n                {\n                    message,\n                    timestamp,\n                    type\n                },\n                ...prevLogs.slice(0, 99) // Keep only the last 100 logs\n            ]);\n    }, []);\n    // Clear logs when starting new enrichment process\n    const clearEnrichingLogs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setEnrichingLogs([]);\n    }, []);\n    // Handle property selection\n    const handlePropertySelect = (property)=>{\n        // For non-authenticated users, show login prompt when selecting a property\n        if (!user && property) {\n            setSelectedProperty(null);\n            return;\n        }\n        setSelectedProperty(property);\n        if (property) {\n            setShowDetails(true);\n        // Update URL with property ID for sharing\n        // ... existing code ...\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_Layout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Property Map | Acquire Apartments\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative bg-cream-50 min-h-screen\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col h-[calc(100vh-4rem)] overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"container mx-auto px-4 py-4 flex-shrink-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-2xl font-bold text-gray-800\",\n                                children: \"Map View\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1054,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600\",\n                                children: \"Browse properties on the map or use filters to refine your search\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1055,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1053,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-grow flex\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-shrink-0 transition-all duration-300 \".concat(sidebarState === \"collapsed\" ? \"w-12\" : sidebarState === \"fullscreen\" ? \"w-full\" : \"w-full md:w-1/3 lg:w-1/4\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-4 bg-cream-100 h-full rounded-lg\",\n                                    children: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(()=>__webpack_require__.e(/*! import() */ \"src_components_PropertySidebar_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../src/components/PropertySidebar */ \"./src/components/PropertySidebar.tsx\")), {\n                                        loadableGenerated: {\n                                            modules: [\n                                                \"map.js -> \" + \"../src/components/PropertySidebar\"\n                                            ]\n                                        }\n                                    }), {\n                                        properties,\n                                        selectedProperty,\n                                        setSelectedProperty,\n                                        loading,\n                                        sidebarState,\n                                        onSidebarStateChange: handleSidebarStateChange\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 1065,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1060,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-grow transition-all duration-300 \".concat(sidebarState === \"fullscreen\" ? \"hidden\" : \"block\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full rounded-lg shadow-md overflow-hidden border border-cream-200\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapComponent, {\n                                        properties: user ? properties : sampleProperties,\n                                        selectedProperty: selectedProperty,\n                                        onPropertySelect: handlePropertySelect,\n                                        onBoundsChange: handleBoundsChange\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1082,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 1081,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1078,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1058,\n                        columnNumber: 11\n                    }, this),\n                    showGeocodingLogs && geocodingLogs.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-4 right-4 w-96 max-h-64 bg-cream-50 rounded-lg shadow-lg overflow-auto p-4 z-50 border border-cream-200\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold\",\n                                        children: \"Geocoding Logs\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1096,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowGeocodingLogs(false),\n                                        className: \"text-gray-500 hover:text-gray-700\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-5 h-5\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M6 18L18 6M6 6l12 12\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                lineNumber: 1099,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 1098,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1097,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1095,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: geocodingLogs.map((log, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm p-1 \".concat(log.type === \"error\" ? \"text-red-600\" : log.type === \"warning\" ? \"text-amber-600\" : log.type === \"success\" ? \"text-green-600\" : \"text-gray-600\"),\n                                        children: log.message\n                                    }, index, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1105,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1103,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1094,\n                        columnNumber: 13\n                    }, this),\n                    showCleaningLogs && cleaningLogs.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-4 right-4 w-96 max-h-64 bg-cream-50 rounded-lg shadow-lg overflow-auto p-4 z-50 border border-cream-200\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold\",\n                                        children: \"Cleaning Logs\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1122,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowCleaningLogs(false),\n                                        className: \"text-gray-500 hover:text-gray-700\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-5 h-5\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M6 18L18 6M6 6l12 12\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                lineNumber: 1125,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 1124,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1123,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1121,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: cleaningLogs.map((log, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm p-1 \".concat(log.type === \"error\" ? \"text-red-600\" : log.type === \"warning\" ? \"text-amber-600\" : log.type === \"success\" ? \"text-green-600\" : log.type === \"detail\" ? \"text-blue-600\" : \"text-gray-600\"),\n                                        children: log.message\n                                    }, index, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1131,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1129,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1120,\n                        columnNumber: 13\n                    }, this),\n                    showEnrichingLogs && enrichingLogs.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-4 right-4 w-96 max-h-64 bg-cream-50 rounded-lg shadow-lg overflow-auto p-4 z-50 border border-cream-200\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold\",\n                                        children: \"Enrichment Logs\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1149,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowEnrichingLogs(false),\n                                        className: \"text-gray-500 hover:text-gray-700\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-5 h-5\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M6 18L18 6M6 6l12 12\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                lineNumber: 1152,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 1151,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1150,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1148,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: enrichingLogs.map((log, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm p-1 \".concat(log.type === \"error\" ? \"text-red-600\" : log.type === \"warning\" ? \"text-amber-600\" : log.type === \"success\" ? \"text-green-600\" : log.type === \"detail\" ? \"text-blue-600\" : \"text-gray-600\"),\n                                        children: log.message\n                                    }, index, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1158,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1156,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1147,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 1052,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n            lineNumber: 1051,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n        lineNumber: 1050,\n        columnNumber: 5\n    }, this);\n}\n_s1(MapPage, \"n+kg7nqTdQHQ8gfNiM8v5CmpEXg=\", false, function() {\n    return [\n        _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth\n    ];\n});\n_c2 = MapPage;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"MapComponent\");\n$RefreshReg$(_c1, \"LoginGate\");\n$RefreshReg$(_c2, \"MapPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ly4vcGFnZXMvbWFwLmpzP2QyNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvTGF5b3V0JztcbmltcG9ydCB7IGZldGNoUHJvcGVydGllcyB9IGZyb20gJy4uL2xpYi9zdXBhYmFzZSc7XG5pbXBvcnQgeyBlbmhhbmNlZEdlb2NvZGVQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vbGliL2dlb2NvZGluZyc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi4vc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5cbi8vIEltcG9ydCB0aGUgbWFwIGNvbXBvbmVudCBkeW5hbWljYWxseSB0byBhdm9pZCBTU1IgaXNzdWVzIHdpdGggTGVhZmxldFxuY29uc3QgTWFwQ29tcG9uZW50ID0gZHluYW1pYyhcbiAgKCkgPT4gaW1wb3J0KCcuLi9zcmMvY29tcG9uZW50cy9NYXBDb21wb25lbnQnKSxcbiAgeyBzc3I6IGZhbHNlIH1cbik7XG5cbi8vIExvZ2luIGdhdGUgY29tcG9uZW50IHRoYXQgYmx1cnMgdGhlIGNvbnRlbnQgYW5kIHNob3dzIGEgbG9naW4gcHJvbXB0XG5jb25zdCBMb2dpbkdhdGUgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IHsgdXNlciwgbG9hZGluZyB9ID0gdXNlQXV0aCgpO1xuICBcbiAgLy8gU2hvdyBsb2FkaW5nIHN0YXRlIHdoaWxlIGNoZWNraW5nIGF1dGhlbnRpY2F0aW9uXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGgtZnVsbCBtaW4taC1bODB2aF1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktMTAwIGRhcms6YmctZ3JheS04MDAgei0yMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIGgtMTAgdy0xMCB0ZXh0LWJsdWUtNTAwIG14LWF1dG8gbWItNFwiXG4gICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Y2lyY2xlXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib3BhY2l0eS0yNVwiXG4gICAgICAgICAgICAgICAgY3g9XCIxMlwiXG4gICAgICAgICAgICAgICAgY3k9XCIxMlwiXG4gICAgICAgICAgICAgICAgcj1cIjEwXCJcbiAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiNFwiXG4gICAgICAgICAgICAgID48L2NpcmNsZT5cbiAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJvcGFjaXR5LTc1XCJcbiAgICAgICAgICAgICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgICBkPVwiTTQgMTJhOCA4IDAgMDE4LThWMEM1LjM3MyAwIDAgNS4zNzMgMCAxMmg0em0yIDUuMjkxQTcuOTYyIDcuOTYyIDAgMDE0IDEySDBjMCAzLjA0MiAxLjEzNSA1LjgyNCAzIDcuOTM4bDMtMi42NDd6XCJcbiAgICAgICAgICAgICAgPjwvcGF0aD5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZGFyazp0ZXh0LWdyYXktMzAwXCI+Q2hlY2tpbmcgYXV0aGVudGljYXRpb24uLi48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuICBcbiAgLy8gSWYgdXNlciBpcyBhdXRoZW50aWNhdGVkLCBzaG93IHRoZSBjb250ZW50XG4gIGlmICh1c2VyKSB7XG4gICAgcmV0dXJuIDw+e2NoaWxkcmVufTwvPjtcbiAgfVxuICBcbiAgLy8gSWYgbm90IGF1dGhlbnRpY2F0ZWQsIHNob3cgYmx1cnJlZCBjb250ZW50IHdpdGggbG9naW4gcHJvbXB0XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIG1pbi1oLVs4MHZoXVwiPlxuICAgICAgey8qIEJsdXJyZWQgY29udGVudCBpbiBiYWNrZ3JvdW5kICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZpbHRlciBibHVyLW1kIG9wYWNpdHktNDAgcG9pbnRlci1ldmVudHMtbm9uZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHsvKiBMb2dpbi9zaWdudXAgb3ZlcmxheSB3aXRoIHNlbWktdHJhbnNwYXJlbnQgYmFja2Ryb3AgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctYmxhY2svMjAgZGFyazpiZy1ibGFjay80MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTIwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBwLTggcm91bmRlZC1sZyBzaGFkb3cteGwgbWF4LXctbWQgdy1mdWxsIHRleHQtY2VudGVyIGJhY2tkcm9wLWJsdXItc20gYmctb3BhY2l0eS05NSBkYXJrOmJnLW9wYWNpdHktOTUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0xNiB3LTE2IHRleHQtYmx1ZS01MDAgbXgtYXV0byBtYi00XCJcbiAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsyfVxuICAgICAgICAgICAgICAgIGQ9XCJNMTIgMTV2Mm0tNiA0aDEyYTIgMiAwIDAwMi0ydi02YTIgMiAwIDAwLTItMkg2YTIgMiAwIDAwLTIgMnY2YTIgMiAwIDAwMiAyem0xMC0xMFY3YTQgNCAwIDAwLTggMHY0aDh6XCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiPkFjY2VzcyBSZXN0cmljdGVkPC9oMj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgWW91IG5lZWQgdG8gbG9nIGluIG9yIGNyZWF0ZSBhbiBhY2NvdW50IHRvIGFjY2VzcyB0aGUgZnVsbCBwcm9wZXJ0eSBtYXAgYW5kIGRldGFpbHMuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvbG9naW5cIj5cbiAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIHB5LTMgcHgtNCB0ZXh0LWNlbnRlciBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtbWVkaXVtIHJvdW5kZWQtbWQgc2hhZG93IHRyYW5zaXRpb24gZHVyYXRpb24tMTUwXCI+XG4gICAgICAgICAgICAgICAgTG9nIEluXG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvc2lnbnVwXCI+XG4gICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImJsb2NrIHctZnVsbCBweS0zIHB4LTQgdGV4dC1jZW50ZXIgYm9yZGVyIGJvcmRlci1ibHVlLTYwMCB0ZXh0LWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNTAgZGFyazpob3ZlcjpiZy1ibHVlLTkwMCBkYXJrOnRleHQtYmx1ZS00MDAgZGFyazpib3JkZXItYmx1ZS00MDAgZm9udC1tZWRpdW0gcm91bmRlZC1tZCB0cmFuc2l0aW9uIGR1cmF0aW9uLTE1MFwiPlxuICAgICAgICAgICAgICAgIFNpZ24gVXBcbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTRcIj5cbiAgICAgICAgICAgICAgPHA+Qnkgc2lnbmluZyB1cCwgeW91J2xsIGdldCBhY2Nlc3MgdG86PC9wPlxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibXQtMiBzcGFjZS15LTEgdGV4dC1sZWZ0IGxpc3QtZGlzYyBsaXN0LWluc2lkZVwiPlxuICAgICAgICAgICAgICAgIDxsaT5GdWxsIHByb3BlcnR5IGRldGFpbHMgYW5kIGluc2lnaHRzPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+U2F2ZSBmYXZvcml0ZSBwcm9wZXJ0aWVzPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+R2V0IG5vdGlmaWNhdGlvbnMgb24gbmV3IGxpc3RpbmdzPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+QWNjZXNzIGFkdmFuY2VkIGZpbHRlcmluZyBvcHRpb25zPC9saT5cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWFwUGFnZSgpIHtcbiAgY29uc3QgW3Byb3BlcnRpZXMsIHNldFByb3BlcnRpZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2FtcGxlUHJvcGVydGllcywgc2V0U2FtcGxlUHJvcGVydGllc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZFByb3BlcnR5LCBzZXRTZWxlY3RlZFByb3BlcnR5XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2dlb2NvZGluZywgc2V0R2VvY29kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2dlb2NvZGluZ0xvZ3MsIHNldEdlb2NvZGluZ0xvZ3NdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2hvd0dlb2NvZGluZ0xvZ3MsIHNldFNob3dHZW9jb2RpbmdMb2dzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NsZWFuaW5nLCBzZXRDbGVhbmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjbGVhbmluZ0xvZ3MsIHNldENsZWFuaW5nTG9nc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzaG93Q2xlYW5pbmdMb2dzLCBzZXRTaG93Q2xlYW5pbmdMb2dzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VucmljaGluZywgc2V0RW5yaWNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VucmljaGluZ0xvZ3MsIHNldEVucmljaGluZ0xvZ3NdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2hvd0VucmljaGluZ0xvZ3MsIHNldFNob3dFbnJpY2hpbmdMb2dzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21hcEJvdW5kcywgc2V0TWFwQm91bmRzXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbdG90YWxGZXRjaGVkLCBzZXRUb3RhbEZldGNoZWRdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtzaWRlYmFyU3RhdGUsIHNldFNpZGViYXJTdGF0ZV0gPSB1c2VTdGF0ZSgnb3BlbicpOyAvLyAnb3BlbicsICdjb2xsYXBzZWQnLCBvciAnZnVsbHNjcmVlbidcbiAgY29uc3QgW2RhdGFTdGF0cywgc2V0RGF0YVN0YXRzXSA9IHVzZVN0YXRlKHtcbiAgICB0b3RhbFByb3BlcnRpZXM6IDAsXG4gICAgaW52YWxpZENvb3JkaW5hdGVzOiAwLFxuICAgIG1pc3NpbmdDb29yZGluYXRlczogMCxcbiAgICB6ZXJvQ29vcmRpbmF0ZXM6IDAsXG4gICAgaW52YWxpZFJhbmdlOiAwLFxuICAgIGR1cGxpY2F0ZWRMb2NhdGlvbnM6IDBcbiAgfSk7XG5cbiAgY29uc3QgeyB1c2VyIH0gPSB1c2VBdXRoKCk7XG5cbiAgLy8gTG9hZCBzYW1wbGUgcHJvcGVydGllcyBmb3Igbm9uLWF1dGhlbnRpY2F0ZWQgdXNlcnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsb2FkU2FtcGxlUHJvcGVydGllcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZldGNoIGp1c3QgYSBmZXcgc2FtcGxlIHByb3BlcnRpZXMgdG8gc2hvdyBvbiB0aGUgbWFwXG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGZldGNoUHJvcGVydGllcyh7XG4gICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgcGFnZVNpemU6IDUsIC8vIEp1c3QgYSBmZXcgc2FtcGxlc1xuICAgICAgICAgICAgc29ydEJ5OiAnY3JlYXRlZF9hdCcsXG4gICAgICAgICAgICBzb3J0QXNjOiBmYWxzZSxcbiAgICAgICAgICAgIGluY2x1ZGVJbmNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgICAgIGluY2x1ZGVSZXNlYXJjaDogdHJ1ZSxcbiAgICAgICAgICAgIGZpbHRlcnM6IHt9LFxuICAgICAgICAgICAgbm9MaW1pdDogZmFsc2UsXG4gICAgICAgICAgICBib3VuZHM6IG51bGxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBNYXJrIHRoZW0gYXMgc2FtcGxlIHByb3BlcnRpZXNcbiAgICAgICAgICBjb25zdCBzYW1wbGVzV2l0aExhYmVsID0gZGF0YS5tYXAocHJvcGVydHkgPT4gKHtcbiAgICAgICAgICAgIC4uLnByb3BlcnR5LFxuICAgICAgICAgICAgbmFtZTogcHJvcGVydHkubmFtZSA/IGAke3Byb3BlcnR5Lm5hbWV9IChTYW1wbGUpYCA6ICdTYW1wbGUgUHJvcGVydHknLFxuICAgICAgICAgICAgX2lzU2FtcGxlOiB0cnVlXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIFxuICAgICAgICAgIHNldFNhbXBsZVByb3BlcnRpZXMoc2FtcGxlc1dpdGhMYWJlbCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBzYW1wbGUgcHJvcGVydGllczonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGxvYWRTYW1wbGVQcm9wZXJ0aWVzKCk7XG4gIH0sIFt1c2VyXSk7XG5cbiAgLy8gSW5pdGlhbCBwcm9wZXJ0eSBsb2FkIG9uIHBhZ2UgbG9hZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh1c2VyKSB7XG4gICAgICBsb2FkUHJvcGVydGllcygpO1xuICAgIH1cbiAgfSwgW3VzZXJdKTtcblxuICAvLyBSZWxvYWQgcHJvcGVydGllcyB3aGVuIG1hcCBib3VuZHMgY2hhbmdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1hcEJvdW5kcykge1xuICAgICAgY29uc29sZS5sb2coJ01hcCBib3VuZHMgY2hhbmdlZCwgbG9hZGluZyBwcm9wZXJ0aWVzIGluIHRoZSB2aXNpYmxlIGFyZWEnKTtcbiAgICAgIGxvYWRQcm9wZXJ0aWVzKG1hcEJvdW5kcyk7XG4gICAgfVxuICB9LCBbbWFwQm91bmRzXSk7XG5cbiAgLy8gSGFuZGxlIG1hcCBib3VuZHMgY2hhbmdlc1xuICBjb25zdCBoYW5kbGVCb3VuZHNDaGFuZ2UgPSB1c2VDYWxsYmFjaygoYm91bmRzKSA9PiB7XG4gICAgc2V0TWFwQm91bmRzKGJvdW5kcyk7XG4gIH0sIFtdKTtcblxuICAvLyBDYWxjdWxhdGUgc3RhdGlzdGljcyBhYm91dCB0aGUgcHJvcGVydHkgZGF0YVxuICBjb25zdCBjYWxjdWxhdGVTdGF0cyA9IHVzZUNhbGxiYWNrKChwcm9wRGF0YSkgPT4ge1xuICAgIGlmICghcHJvcERhdGEgfHwgIUFycmF5LmlzQXJyYXkocHJvcERhdGEpKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbWlzc2luZ0Nvb3JkcyA9IHByb3BEYXRhLmZpbHRlcihwID0+ICFwLmxhdGl0dWRlIHx8ICFwLmxvbmdpdHVkZSkubGVuZ3RoO1xuICAgIGNvbnN0IHplcm9Db29yZHMgPSBwcm9wRGF0YS5maWx0ZXIocCA9PiBwLmxhdGl0dWRlID09PSAwICYmIHAubG9uZ2l0dWRlID09PSAwKS5sZW5ndGg7XG4gICAgY29uc3QgaW52YWxpZFJhbmdlID0gcHJvcERhdGEuZmlsdGVyKHAgPT4ge1xuICAgICAgaWYgKCFwLmxhdGl0dWRlIHx8ICFwLmxvbmdpdHVkZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgY29uc3QgbGF0ID0gdHlwZW9mIHAubGF0aXR1ZGUgPT09ICdudW1iZXInID8gcC5sYXRpdHVkZSA6IHBhcnNlRmxvYXQoU3RyaW5nKHAubGF0aXR1ZGUpKTtcbiAgICAgIGNvbnN0IGxuZyA9IHR5cGVvZiBwLmxvbmdpdHVkZSA9PT0gJ251bWJlcicgPyBwLmxvbmdpdHVkZSA6IHBhcnNlRmxvYXQoU3RyaW5nKHAubG9uZ2l0dWRlKSk7XG4gICAgICByZXR1cm4gKGlzTmFOKGxhdCkgfHwgaXNOYU4obG5nKSB8fCBsYXQgPCAtOTAgfHwgbGF0ID4gOTAgfHwgbG5nIDwgLTE4MCB8fCBsbmcgPiAxODApO1xuICAgIH0pLmxlbmd0aDtcbiAgICBcbiAgICAvLyBDb3VudCBwcm9wZXJ0aWVzIGF0IGlkZW50aWNhbCBjb29yZGluYXRlc1xuICAgIGNvbnN0IGNvb3JkTWFwID0gbmV3IE1hcCgpO1xuICAgIGxldCBkdXBsaWNhdGVkQ29vcmRzID0gMDtcbiAgICBcbiAgICBwcm9wRGF0YS5mb3JFYWNoKHAgPT4ge1xuICAgICAgaWYgKHAubGF0aXR1ZGUgJiYgcC5sb25naXR1ZGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRLZXkgPSBgJHtwLmxhdGl0dWRlfSwke3AubG9uZ2l0dWRlfWA7XG4gICAgICAgIGlmIChjb29yZE1hcC5oYXMoY29vcmRLZXkpKSB7XG4gICAgICAgICAgY29vcmRNYXAuc2V0KGNvb3JkS2V5LCBjb29yZE1hcC5nZXQoY29vcmRLZXkpICsgMSk7XG4gICAgICAgICAgZHVwbGljYXRlZENvb3JkcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvb3JkTWFwLnNldChjb29yZEtleSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBzZXREYXRhU3RhdHMoe1xuICAgICAgdG90YWxQcm9wZXJ0aWVzOiBwcm9wRGF0YS5sZW5ndGgsXG4gICAgICBpbnZhbGlkQ29vcmRpbmF0ZXM6IG1pc3NpbmdDb29yZHMgKyB6ZXJvQ29vcmRzICsgaW52YWxpZFJhbmdlLFxuICAgICAgbWlzc2luZ0Nvb3JkaW5hdGVzOiBtaXNzaW5nQ29vcmRzLFxuICAgICAgemVyb0Nvb3JkaW5hdGVzOiB6ZXJvQ29vcmRzLFxuICAgICAgaW52YWxpZFJhbmdlOiBpbnZhbGlkUmFuZ2UsXG4gICAgICBkdXBsaWNhdGVkTG9jYXRpb25zOiBkdXBsaWNhdGVkQ29vcmRzLFxuICAgICAgdW5pcXVlTG9jYXRpb25zOiBjb29yZE1hcC5zaXplXG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICAvLyBGdW5jdGlvbiB0byBsb2FkIHByb3BlcnRpZXMgd2l0aCBvcHRpb25hbCBib3VuZHMgZmlsdGVyXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRQcm9wZXJ0aWVzKGJvdW5kcyA9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IFxuICAgICAgICBzb3J0Qnk6ICdjcmVhdGVkX2F0JywgXG4gICAgICAgIHNvcnRBc2M6IGZhbHNlLFxuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBwYWdlU2l6ZTogMTAwMCxcbiAgICAgICAgZmlsdGVyczoge30sXG4gICAgICAgIGluY2x1ZGVJbmNvbXBsZXRlOiB0cnVlLFxuICAgICAgICBpbmNsdWRlUmVzZWFyY2g6IHRydWUsXG4gICAgICAgIG5vTGltaXQ6IHRydWUgLy8gQnlwYXNzIHBhZ2luYXRpb24gdG8gZ2V0IGFsbCBwcm9wZXJ0aWVzXG4gICAgICB9O1xuXG4gICAgICAvLyBBcHBseSBib3VuZHMgZmlsdGVyIGlmIHByb3ZpZGVkXG4gICAgICBpZiAoYm91bmRzKSB7XG4gICAgICAgIG9wdGlvbnMuYm91bmRzID0gYm91bmRzO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hQcm9wZXJ0aWVzKG9wdGlvbnMpO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgc3RhdGlzdGljc1xuICAgICAgY2FsY3VsYXRlU3RhdHMoZGF0YSk7XG4gICAgICBcbiAgICAgIC8vIEVuaGFuY2VkIGxvZ2dpbmcgZm9yIGRlYnVnZ2luZ1xuICAgICAgY29uc29sZS5sb2coYD09PT09IE1BUCBERUJVRyA9PT09PWApO1xuICAgICAgY29uc29sZS5sb2coYExvYWRlZCAke2RhdGEubGVuZ3RofSBwcm9wZXJ0aWVzIGZvciBtYXBgKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgY29vcmRpbmF0ZSB2YWxpZGl0eVxuICAgICAgY29uc3QgdmFsaWRDb29yZHMgPSBkYXRhLmZpbHRlcihwID0+IFxuICAgICAgICBwLmxhdGl0dWRlICYmIFxuICAgICAgICBwLmxvbmdpdHVkZSAmJiBcbiAgICAgICAgdHlwZW9mIHAubGF0aXR1ZGUgPT09ICdudW1iZXInICYmIFxuICAgICAgICB0eXBlb2YgcC5sb25naXR1ZGUgPT09ICdudW1iZXInICYmXG4gICAgICAgICEocC5sYXRpdHVkZSA9PT0gMCAmJiBwLmxvbmdpdHVkZSA9PT0gMClcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZyhgUHJvcGVydGllcyB3aXRoIHZhbGlkIGNvb3JkaW5hdGVzOiAke3ZhbGlkQ29vcmRzLmxlbmd0aH1gKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgQXVzdGluIGFyZWEgY29vcmRpbmF0ZXNcbiAgICAgIGNvbnN0IGF1c3RpbkNvb3JkcyA9IHZhbGlkQ29vcmRzLmZpbHRlcihwID0+IFxuICAgICAgICBwLmxhdGl0dWRlID49IDI5LjUgJiYgcC5sYXRpdHVkZSA8PSAzMS4wICYmIFxuICAgICAgICBwLmxvbmdpdHVkZSA+PSAtOTguMCAmJiBwLmxvbmdpdHVkZSA8PSAtOTcuMFxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKGBQcm9wZXJ0aWVzIHdpdGggY29vcmRpbmF0ZXMgaW4gQXVzdGluIGFyZWE6ICR7YXVzdGluQ29vcmRzLmxlbmd0aH1gKTtcbiAgICAgIFxuICAgICAgLy8gTG9vayBmb3Igc3VzcGljaW91cyBwYXR0ZXJuc1xuICAgICAgY29uc3Qgc3VzcGljaW91c0Nvb3JkcyA9IHZhbGlkQ29vcmRzLmZpbHRlcihwID0+IHtcbiAgICAgICAgY29uc3QgbGF0U3RyID0gU3RyaW5nKHAubGF0aXR1ZGUpO1xuICAgICAgICBjb25zdCBsbmdTdHIgPSBTdHJpbmcocC5sb25naXR1ZGUpO1xuICAgICAgICBjb25zdCBoYXNMb3dQcmVjaXNpb24gPSBcbiAgICAgICAgICAobGF0U3RyLmluY2x1ZGVzKCcuJykgJiYgbGF0U3RyLnNwbGl0KCcuJylbMV0ubGVuZ3RoIDw9IDEpIHx8XG4gICAgICAgICAgKGxuZ1N0ci5pbmNsdWRlcygnLicpICYmIGxuZ1N0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA8PSAxKTtcbiAgICAgICAgY29uc3QgaGFzU3VzcGljaW91c1BhdHRlcm4gPSBcbiAgICAgICAgICBsYXRTdHIgPT09IGxuZ1N0ciB8fCBcbiAgICAgICAgICBsYXRTdHIuZW5kc1dpdGgoJzAwMDAwJykgfHwgXG4gICAgICAgICAgbG5nU3RyLmVuZHNXaXRoKCcwMDAwMCcpO1xuICAgICAgICByZXR1cm4gaGFzTG93UHJlY2lzaW9uIHx8IGhhc1N1c3BpY2lvdXNQYXR0ZXJuO1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhgUHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgY29vcmRpbmF0ZXM6ICR7c3VzcGljaW91c0Nvb3Jkcy5sZW5ndGh9YCk7XG4gICAgICBjb25zb2xlLmxvZyhgPT09PT0gRU5EIERFQlVHID09PT09YCk7XG4gICAgICBcbiAgICAgIHNldFByb3BlcnRpZXMoZGF0YSk7XG4gICAgICBzZXRUb3RhbEZldGNoZWQoZGF0YS5sZW5ndGgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9wZXJ0aWVzOicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIHNpZGViYXIgc3RhdGUgY2hhbmdlXG4gIGNvbnN0IGhhbmRsZVNpZGViYXJTdGF0ZUNoYW5nZSA9IChzdGF0ZSkgPT4ge1xuICAgIHNldFNpZGViYXJTdGF0ZShzdGF0ZSk7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gYmF0Y2ggZ2VvY29kZSBwcm9wZXJ0aWVzIHdpdGggbWlzc2luZyBjb29yZGluYXRlc1xuICBhc3luYyBmdW5jdGlvbiBiYXRjaEdlb2NvZGVQcm9wZXJ0aWVzKCkge1xuICAgIHRyeSB7XG4gICAgICBzZXRHZW9jb2RpbmcodHJ1ZSk7XG4gICAgICBjbGVhckdlb2NvZGluZ0xvZ3MoKTtcbiAgICAgIHNldFNob3dHZW9jb2RpbmdMb2dzKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBGaWx0ZXIgcHJvcGVydGllcyB0aGF0IG5lZWQgZ2VvY29kaW5nXG4gICAgICBjb25zdCBwcm9wc1RvR2VvY29kZSA9IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gXG4gICAgICAgICFwLmxhdGl0dWRlIHx8ICFwLmxvbmdpdHVkZSB8fCBcbiAgICAgICAgcC5sYXRpdHVkZSA9PT0gMCB8fCBwLmxvbmdpdHVkZSA9PT0gMCB8fFxuICAgICAgICBwLl9jb29yZGluYXRlc19taXNzaW5nIHx8IHAuX25lZWRzX2dlb2NvZGluZyB8fFxuICAgICAgICBwLl9pc19ncmlkX3BhdHRlcm5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmIChwcm9wc1RvR2VvY29kZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYWRkR2VvY29kaW5nTG9nKCdObyBwcm9wZXJ0aWVzIG5lZWQgZ2VvY29kaW5nJywgJ2luZm8nKTtcbiAgICAgICAgYWxlcnQoJ05vIHByb3BlcnRpZXMgbmVlZCBnZW9jb2RpbmcnKTtcbiAgICAgICAgc2V0R2VvY29kaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDb25maXJtIHdpdGggdXNlclxuICAgICAgYWRkR2VvY29kaW5nTG9nKGBGb3VuZCAke3Byb3BzVG9HZW9jb2RlLmxlbmd0aH0gcHJvcGVydGllcyB0aGF0IG5lZWQgZ2VvY29kaW5nYCwgJ2luZm8nKTtcbiAgICAgIGlmICghY29uZmlybShgVGhpcyB3aWxsIGF0dGVtcHQgdG8gZ2VvY29kZSAke3Byb3BzVG9HZW9jb2RlLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIG1pc3Npbmcgb3IgaW52YWxpZCBjb29yZGluYXRlcy4gQ29udGludWU/YCkpIHtcbiAgICAgICAgYWRkR2VvY29kaW5nTG9nKCdHZW9jb2RpbmcgY2FuY2VsbGVkIGJ5IHVzZXInLCAnd2FybmluZycpO1xuICAgICAgICBzZXRHZW9jb2RpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGFkZEdlb2NvZGluZ0xvZyhgU3RhcnRpbmcgYmF0Y2ggZ2VvY29kaW5nIG9mICR7cHJvcHNUb0dlb2NvZGUubGVuZ3RofSBwcm9wZXJ0aWVzYCwgJ2luZm8nKTtcbiAgICAgIFxuICAgICAgLy8gUHJvY2VzcyBpbiBiYXRjaGVzIG9mIDI1IHRvIGF2b2lkIHJhdGUgbGltaXRzXG4gICAgICBjb25zdCBiYXRjaFNpemUgPSAyNTtcbiAgICAgIGNvbnN0IGJhdGNoZXMgPSBNYXRoLmNlaWwocHJvcHNUb0dlb2NvZGUubGVuZ3RoIC8gYmF0Y2hTaXplKTtcbiAgICAgIGxldCBzdWNjZXNzQ291bnQgPSAwO1xuICAgICAgbGV0IGZhaWxDb3VudCA9IDA7XG4gICAgICBcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmF0Y2hlczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gaSAqIGJhdGNoU2l6ZTtcbiAgICAgICAgY29uc3QgZW5kID0gTWF0aC5taW4oc3RhcnQgKyBiYXRjaFNpemUsIHByb3BzVG9HZW9jb2RlLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gcHJvcHNUb0dlb2NvZGUuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIFxuICAgICAgICBhZGRHZW9jb2RpbmdMb2coYFByb2Nlc3NpbmcgYmF0Y2ggJHtpKzF9LyR7YmF0Y2hlc30gKCR7YmF0Y2gubGVuZ3RofSBwcm9wZXJ0aWVzKWAsICdpbmZvJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIGJhdGNoICR7aSsxfS8ke2JhdGNoZXN9ICgke2JhdGNoLmxlbmd0aH0gcHJvcGVydGllcylgKTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRm9yIGVhY2ggcHJvcGVydHkgaW4gdGhlIGJhdGNoLCBsb2cgdGhlIHByb3BlcnR5IGJlaW5nIHByb2Nlc3NlZFxuICAgICAgICAgIGJhdGNoLmZvckVhY2goKHByb3BlcnR5LCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IHByb3BlcnR5Lm5hbWUgfHwgYFByb3BlcnR5ICMke3Byb3BlcnR5LmlkfWA7XG4gICAgICAgICAgICBhZGRHZW9jb2RpbmdMb2coYFske2krMX0uJHtpZHgrMX1dIFF1ZXVpbmcgJHtwcm9wZXJ0eU5hbWV9YCwgJ2RldGFpbCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGdlb2NvZGVkQmF0Y2ggPSBhd2FpdCBlbmhhbmNlZEdlb2NvZGVQcm9wZXJ0aWVzKGJhdGNoLCAocHJvcGVydHksIHN0YXR1cywgZGV0YWlscykgPT4ge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggcHJvcGVydHkgYXMgaXQncyBwcm9jZXNzZWRcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IHByb3BlcnR5Lm5hbWUgfHwgYFByb3BlcnR5ICMke3Byb3BlcnR5LmlkfWA7XG4gICAgICAgICAgICBpZiAoc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgYWRkR2VvY29kaW5nTG9nKGBHZW9jb2RlZDogJHtwcm9wZXJ0eU5hbWV9ICgke2RldGFpbHN9KWAsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICBhZGRHZW9jb2RpbmdMb2coYEZhaWxlZDogJHtwcm9wZXJ0eU5hbWV9ICgke2RldGFpbHN9KWAsICdlcnJvcicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWRkR2VvY29kaW5nTG9nKGAke3N0YXR1c306ICR7cHJvcGVydHlOYW1lfSAke2RldGFpbHMgPyBgKCR7ZGV0YWlsc30pYCA6ICcnfWAsICdpbmZvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ291bnQgc3VjY2Vzc2VzIGFuZCBmYWlsdXJlc1xuICAgICAgICAgIGNvbnN0IGJhdGNoU3VjY2VzcyA9IGdlb2NvZGVkQmF0Y2guZmlsdGVyKHAgPT4gcC5fZ2VvY29kZWQpLmxlbmd0aDtcbiAgICAgICAgICBjb25zdCBiYXRjaEZhaWwgPSBnZW9jb2RlZEJhdGNoLmZpbHRlcihwID0+IHAuX2dlb2NvZGluZ19mYWlsZWQpLmxlbmd0aDtcbiAgICAgICAgICBcbiAgICAgICAgICBzdWNjZXNzQ291bnQgKz0gYmF0Y2hTdWNjZXNzO1xuICAgICAgICAgIGZhaWxDb3VudCArPSBiYXRjaEZhaWw7XG4gICAgICAgICAgXG4gICAgICAgICAgYWRkR2VvY29kaW5nTG9nKGBCYXRjaCAke2krMX0gY29tcGxldGU6ICR7YmF0Y2hTdWNjZXNzfSBzdWNjZXNzZXMsICR7YmF0Y2hGYWlsfSBmYWlsdXJlc2AsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYXRjaFN1Y2Nlc3MgPiBiYXRjaEZhaWwgPyAnc3VjY2VzcycgOiAnd2FybmluZycpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE1lcmdlIGdlb2NvZGVkIHByb3BlcnRpZXMgYmFjayBpbnRvIHRoZSBtYWluIGFycmF5XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFByb3BlcnRpZXMgPSBbLi4ucHJvcGVydGllc107XG4gICAgICAgICAgZ2VvY29kZWRCYXRjaC5mb3JFYWNoKGdlb2NvZGVkUHJvcCA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHVwZGF0ZWRQcm9wZXJ0aWVzLmZpbmRJbmRleChwID0+IHAuaWQgPT09IGdlb2NvZGVkUHJvcC5pZCk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZWRQcm9wZXJ0aWVzW2luZGV4XSA9IGdlb2NvZGVkUHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHByb3BlcnRpZXMgc3RhdGVcbiAgICAgICAgICBzZXRQcm9wZXJ0aWVzKHVwZGF0ZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICBjYWxjdWxhdGVTdGF0cyh1cGRhdGVkUHJvcGVydGllcyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gV2FpdCBhIGJpdCBiZXR3ZWVuIGJhdGNoZXMgdG8gYXZvaWQgcmF0ZSBsaW1pdHNcbiAgICAgICAgICBpZiAoaSA8IGJhdGNoZXMgLSAxKSB7XG4gICAgICAgICAgICBhZGRHZW9jb2RpbmdMb2coYFdhaXRpbmcgMiBzZWNvbmRzIGJlZm9yZSBuZXh0IGJhdGNoIHRvIGF2b2lkIHJhdGUgbGltaXRzYCwgJ2luZm8nKTtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGdlb2NvZGluZyBiYXRjaCAke2krMX06YCwgZXJyb3IpO1xuICAgICAgICAgIGFkZEdlb2NvZGluZ0xvZyhgRXJyb3Igd2l0aCBiYXRjaCAke2krMX06ICR7ZXJyb3IubWVzc2FnZX1gLCAnZXJyb3InKTtcbiAgICAgICAgICBmYWlsQ291bnQgKz0gYmF0Y2gubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGFkZEdlb2NvZGluZ0xvZyhgR2VvY29kaW5nIGNvbXBsZXRlOiAke3N1Y2Nlc3NDb3VudH0gc3VjY2Vzc2VzLCAke2ZhaWxDb3VudH0gZmFpbHVyZXNgLCBcbiAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQgPiBmYWlsQ291bnQgPyAnc3VjY2VzcycgOiAnZXJyb3InKTtcbiAgICAgIFxuICAgICAgYWxlcnQoYEdlb2NvZGluZyBjb21wbGV0ZTpcXG5cXG4ke3N1Y2Nlc3NDb3VudH0gcHJvcGVydGllcyBzdWNjZXNzZnVsbHkgZ2VvY29kZWRcXG4ke2ZhaWxDb3VudH0gcHJvcGVydGllcyBmYWlsZWQgdG8gZ2VvY29kZWApO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGJhdGNoIGdlb2NvZGluZzonLCBlcnJvcik7XG4gICAgICBhZGRHZW9jb2RpbmdMb2coYEdlb2NvZGluZyBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWAsICdlcnJvcicpO1xuICAgICAgYWxlcnQoYEVycm9yIGdlb2NvZGluZyBwcm9wZXJ0aWVzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEdlb2NvZGluZyhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcnVuUHJvcGVydHlBbmFseXNpcygpIHtcbiAgICAvLyBDb3VudCBwcm9wZXJ0aWVzIGF0IGlkZW50aWNhbCBjb29yZGluYXRlc1xuICAgIGNvbnN0IGNvb3JkTWFwID0gbmV3IE1hcCgpO1xuICAgIGxldCBkdXBsaWNhdGVkQ29vcmRzID0gMDtcbiAgICBcbiAgICBwcm9wZXJ0aWVzLmZvckVhY2gocCA9PiB7XG4gICAgICBpZiAocC5sYXRpdHVkZSAmJiBwLmxvbmdpdHVkZSkge1xuICAgICAgICBjb25zdCBjb29yZEtleSA9IGAke3AubGF0aXR1ZGV9LCR7cC5sb25naXR1ZGV9YDtcbiAgICAgICAgaWYgKGNvb3JkTWFwLmhhcyhjb29yZEtleSkpIHtcbiAgICAgICAgICBjb29yZE1hcC5zZXQoY29vcmRLZXksIGNvb3JkTWFwLmdldChjb29yZEtleSkgKyAxKTtcbiAgICAgICAgICBkdXBsaWNhdGVkQ29vcmRzKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29vcmRNYXAuc2V0KGNvb3JkS2V5LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIEZpbmQgY29vcmRpbmF0ZXMgd2l0aCBtdWx0aXBsZSBwcm9wZXJ0aWVzXG4gICAgY29uc3QgbXVsdGlwbGVQcm9wc0xvY2F0aW9ucyA9IEFycmF5LmZyb20oY29vcmRNYXAuZW50cmllcygpKVxuICAgICAgLmZpbHRlcigoW18sIGNvdW50XSkgPT4gY291bnQgPiAxKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKTsgLy8gU29ydCBieSBjb3VudCBkZXNjZW5kaW5nXG4gICAgXG4gICAgY29uc3QgbXVsdGlwbGVQcm9wc0NvdW50ID0gbXVsdGlwbGVQcm9wc0xvY2F0aW9ucy5yZWR1Y2UoKHN1bSwgW18sIGNvdW50XSkgPT4gc3VtICsgY291bnQsIDApO1xuICAgIGNvbnN0IHVuaXF1ZUxvY2F0aW9ucyA9IGNvb3JkTWFwLnNpemU7XG4gICAgXG4gICAgLy8gQ291bnQgYnkgZ2VvY29kaW5nIHNvdXJjZSBpZiBhdmFpbGFibGVcbiAgICBjb25zdCBieVNvdXJjZSA9IHtcbiAgICAgIGV4aXN0aW5nOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAuX2dlb2NvZGluZ19zb3VyY2UgPT09ICdleGlzdGluZycpLmxlbmd0aCxcbiAgICAgIHZlcmlmaWVkX2FkZHJlc3M6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5fZ2VvY29kaW5nX3NvdXJjZSA9PT0gJ3ZlcmlmaWVkX2FkZHJlc3MnKS5sZW5ndGgsXG4gICAgICBmdWxsX2FkZHJlc3M6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5fZ2VvY29kaW5nX3NvdXJjZSA9PT0gJ2Z1bGxfYWRkcmVzcycpLmxlbmd0aCxcbiAgICAgIHByb3BlcnR5X25hbWU6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5fZ2VvY29kaW5nX3NvdXJjZSA9PT0gJ3Byb3BlcnR5X25hbWUnKS5sZW5ndGgsXG4gICAgICB1bmtub3duOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAubGF0aXR1ZGUgJiYgcC5sb25naXR1ZGUgJiYgIXAuX2dlb2NvZGluZ19zb3VyY2UpLmxlbmd0aFxuICAgIH07XG4gICAgXG4gICAgYWxlcnQoXG4gICAgICBgTWFwIFByb3BlcnRpZXMgQW5hbHlzaXM6XFxuXFxuYCArXG4gICAgICBgLSBUb3RhbCBwcm9wZXJ0aWVzOiAke3Byb3BlcnRpZXMubGVuZ3RofVxcbmAgK1xuICAgICAgYC0gUHJvcGVydGllcyB3aXRoIGludmFsaWQgY29vcmRpbmF0ZXM6ICR7ZGF0YVN0YXRzLmludmFsaWRDb29yZGluYXRlc31cXG5gICtcbiAgICAgIGAgICDigKIgTWlzc2luZyBjb29yZGluYXRlczogJHtkYXRhU3RhdHMubWlzc2luZ0Nvb3JkaW5hdGVzfVxcbmAgK1xuICAgICAgYCAgIOKAoiBaZXJvIGNvb3JkaW5hdGVzOiAke2RhdGFTdGF0cy56ZXJvQ29vcmRpbmF0ZXN9XFxuYCArXG4gICAgICBgICAg4oCiIEludmFsaWQgY29vcmRpbmF0ZSByYW5nZTogJHtkYXRhU3RhdHMuaW52YWxpZFJhbmdlfVxcblxcbmAgK1xuICAgICAgYC0gVW5pcXVlIGxvY2F0aW9ucyBvbiBtYXA6ICR7dW5pcXVlTG9jYXRpb25zfVxcbmAgK1xuICAgICAgYC0gUHJvcGVydGllcyBzaGFyaW5nIGV4YWN0IGNvb3JkaW5hdGVzOiAke2R1cGxpY2F0ZWRDb29yZHN9XFxuYCArXG4gICAgICBgLSBOdW1iZXIgb2Ygc2hhcmVkIGxvY2F0aW9uczogJHttdWx0aXBsZVByb3BzTG9jYXRpb25zLmxlbmd0aH1cXG5cXG5gICtcbiAgICAgIChtdWx0aXBsZVByb3BzTG9jYXRpb25zLmxlbmd0aCA+IDAgPyBcbiAgICAgICAgYFRvcCBzaGFyZWQgbG9jYXRpb25zOlxcbmAgK1xuICAgICAgICBtdWx0aXBsZVByb3BzTG9jYXRpb25zLnNsaWNlKDAsIDUpLm1hcCgoW2Nvb3JkcywgY291bnRdKSA9PiBcbiAgICAgICAgICBgICAg4oCiICR7Y291bnR9IHByb3BlcnRpZXMgYXQgJHtjb29yZHN9YFxuICAgICAgICApLmpvaW4oJ1xcbicpIDogJycpICtcbiAgICAgIGBcXG5cXG5gICtcbiAgICAgIGBHZW9jb2Rpbmcgc291cmNlczpcXG5gICtcbiAgICAgIGAgICDigKIgRXhpc3RpbmcgdmFsaWQ6ICR7YnlTb3VyY2UuZXhpc3Rpbmd9XFxuYCArXG4gICAgICBgICAg4oCiIFZlcmlmaWVkIGFkZHJlc3M6ICR7YnlTb3VyY2UudmVyaWZpZWRfYWRkcmVzc31cXG5gICtcbiAgICAgIGAgICDigKIgRnVsbCBhZGRyZXNzOiAke2J5U291cmNlLmZ1bGxfYWRkcmVzc31cXG5gICtcbiAgICAgIGAgICDigKIgUHJvcGVydHkgbmFtZTogJHtieVNvdXJjZS5wcm9wZXJ0eV9uYW1lfVxcbmAgK1xuICAgICAgYCAgIOKAoiBVbmtub3duIHNvdXJjZTogJHtieVNvdXJjZS51bmtub3dufVxcblxcbmAgK1xuICAgICAgYE5vdGU6IFByb3BlcnRpZXMgYXQgaWRlbnRpY2FsIGNvb3JkaW5hdGVzIHdpbGwgYXBwZWFyIGFzIGEgc2luZ2xlIG1hcmtlciB1bnRpbCBjbGlja2VkLmBcbiAgICApO1xuICB9XG5cbiAgLy8gRnVuY3Rpb24gdG8gY2xlYW4gcHJvcGVydHkgZGF0YVxuICBhc3luYyBmdW5jdGlvbiBjbGVhblByb3BlcnR5RGF0YSgpIHtcbiAgICB0cnkge1xuICAgICAgLy8gU3RhcnQgdGhlIGNsZWFuaW5nIHByb2Nlc3NcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRDbGVhbmluZyh0cnVlKTtcbiAgICAgIGNsZWFyQ2xlYW5pbmdMb2dzKCk7XG4gICAgICBzZXRTaG93Q2xlYW5pbmdMb2dzKHRydWUpO1xuICAgICAgXG4gICAgICBhZGRDbGVhbmluZ0xvZyhcIlN0YXJ0aW5nIGRhdGEgY2xlYW5pbmcgcHJvY2Vzcy4uLlwiLCBcImluZm9cIik7XG4gICAgICBcbiAgICAgIC8vIEZpcnN0LCBhbmFseXplIHRoZSBkYXRhIHRvIGlkZW50aWZ5IGlzc3Vlc1xuICAgICAgYWRkQ2xlYW5pbmdMb2coXCJBbmFseXppbmcgcHJvcGVydGllcyBmb3IgZGF0YSBxdWFsaXR5IGlzc3Vlcy4uLlwiLCBcImluZm9cIik7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGFJc3N1ZXMgPSB7XG4gICAgICAgIG1pc3NpbmdOYW1lczogcHJvcGVydGllcy5maWx0ZXIocCA9PiAhcC5uYW1lIHx8IHAubmFtZS50cmltKCkgPT09ICcnKS5sZW5ndGgsXG4gICAgICAgIGluY29tcGxldGVBZGRyZXNzZXM6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5hZGRyZXNzICYmICghcC5jaXR5IHx8ICFwLnN0YXRlKSkubGVuZ3RoLFxuICAgICAgICBzdXNwaWNpb3VzWmVyb3M6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gXG4gICAgICAgICAgKHAudW5pdHMgPT09IDAgfHwgcC5udW1fdW5pdHMgPT09IDApXG4gICAgICAgICkubGVuZ3RoLFxuICAgICAgICBzdXNwaWNpb3VzQ29vcmRpbmF0ZXM6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4ge1xuICAgICAgICAgIC8vIENoZWNrIGZvciBzdXNwaWNpb3VzIHBhdHRlcm5zIGluIGNvb3JkaW5hdGVzXG4gICAgICAgICAgaWYgKCFwLmxhdGl0dWRlIHx8ICFwLmxvbmdpdHVkZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGxhdFN0ciA9IFN0cmluZyhwLmxhdGl0dWRlKTtcbiAgICAgICAgICBjb25zdCBsbmdTdHIgPSBTdHJpbmcocC5sb25naXR1ZGUpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGZvciB2ZXJ5IGxvdyBwcmVjaXNpb24gb3Igc3VzcGljaW91cyBwYXR0ZXJuc1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAobGF0U3RyLmluY2x1ZGVzKCcuJykgJiYgbGF0U3RyLnNwbGl0KCcuJylbMV0ubGVuZ3RoIDw9IDIpIHx8XG4gICAgICAgICAgICAobG5nU3RyLmluY2x1ZGVzKCcuJykgJiYgbG5nU3RyLnNwbGl0KCcuJylbMV0ubGVuZ3RoIDw9IDIpIHx8XG4gICAgICAgICAgICBsYXRTdHIgPT09IGxuZ1N0ciB8fCAvLyBTYW1lIGxhdC9sbmcgaXMgc3VzcGljaW91c1xuICAgICAgICAgICAgbGF0U3RyLmVuZHNXaXRoKCcwMDAwMCcpIHx8IFxuICAgICAgICAgICAgbG5nU3RyLmVuZHNXaXRoKCcwMDAwMCcpIHx8XG4gICAgICAgICAgICBsYXRTdHIuZW5kc1dpdGgoJy4wJykgfHxcbiAgICAgICAgICAgIGxuZ1N0ci5lbmRzV2l0aCgnLjAnKSB8fFxuICAgICAgICAgICAgbGF0U3RyLmVuZHNXaXRoKCcuNScpIHx8IFxuICAgICAgICAgICAgbG5nU3RyLmVuZHNXaXRoKCcuNScpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSkubGVuZ3RoLFxuICAgICAgICBkdXBsaWNhdGVOYW1lczogZmluZER1cGxpY2F0ZXMocHJvcGVydGllcywgJ25hbWUnKSxcbiAgICAgICAgZHVwbGljYXRlQWRkcmVzc2VzOiBmaW5kRHVwbGljYXRlcyhwcm9wZXJ0aWVzLCAnYWRkcmVzcycpLFxuICAgICAgICB0ZXN0UHJvcGVydGllczogcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAgICAgICAocC5uYW1lICYmIHAubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0ZXN0JykpIHx8IFxuICAgICAgICAgIChwLm5hbWUgJiYgcC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2V4YW1wbGUnKSkgfHxcbiAgICAgICAgICAocC5hZGRyZXNzICYmIHAuYWRkcmVzcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0ZXN0JykpIHx8IFxuICAgICAgICAgIHAuX2lzX3Rlc3RfcHJvcGVydHlcbiAgICAgICAgKS5sZW5ndGhcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHRvdGFsSXNzdWVzID0gZGF0YUlzc3Vlcy5taXNzaW5nTmFtZXMgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUlzc3Vlcy5pbmNvbXBsZXRlQWRkcmVzc2VzICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJc3N1ZXMuc3VzcGljaW91c1plcm9zICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJc3N1ZXMuc3VzcGljaW91c0Nvb3JkaW5hdGVzICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJc3N1ZXMuZHVwbGljYXRlTmFtZXMubGVuZ3RoICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJc3N1ZXMuZHVwbGljYXRlQWRkcmVzc2VzLmxlbmd0aCArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXNzdWVzLnRlc3RQcm9wZXJ0aWVzO1xuICAgICAgXG4gICAgICAvLyBMb2cgYW5hbHlzaXMgcmVzdWx0c1xuICAgICAgYWRkQ2xlYW5pbmdMb2coYEFuYWx5c2lzIGZvdW5kICR7dG90YWxJc3N1ZXN9IGRhdGEgcXVhbGl0eSBpc3N1ZXM6YCwgXCJpbmZvXCIpO1xuICAgICAgYWRkQ2xlYW5pbmdMb2coYC0gJHtkYXRhSXNzdWVzLm1pc3NpbmdOYW1lc30gcHJvcGVydGllcyBtaXNzaW5nIG5hbWVzYCwgXCJkZXRhaWxcIik7XG4gICAgICBhZGRDbGVhbmluZ0xvZyhgLSAke2RhdGFJc3N1ZXMuaW5jb21wbGV0ZUFkZHJlc3Nlc30gcHJvcGVydGllcyB3aXRoIGluY29tcGxldGUgYWRkcmVzc2VzYCwgXCJkZXRhaWxcIik7XG4gICAgICBhZGRDbGVhbmluZ0xvZyhgLSAke2RhdGFJc3N1ZXMuc3VzcGljaW91c1plcm9zfSBwcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyB6ZXJvIHZhbHVlc2AsIFwiZGV0YWlsXCIpO1xuICAgICAgYWRkQ2xlYW5pbmdMb2coYC0gJHtkYXRhSXNzdWVzLnN1c3BpY2lvdXNDb29yZGluYXRlc30gcHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgY29vcmRpbmF0ZXNgLCBcImRldGFpbFwiKTtcbiAgICAgIGFkZENsZWFuaW5nTG9nKGAtICR7ZGF0YUlzc3Vlcy5kdXBsaWNhdGVOYW1lcy5sZW5ndGh9IGR1cGxpY2F0ZSBwcm9wZXJ0eSBuYW1lc2AsIFwiZGV0YWlsXCIpO1xuICAgICAgYWRkQ2xlYW5pbmdMb2coYC0gJHtkYXRhSXNzdWVzLmR1cGxpY2F0ZUFkZHJlc3Nlcy5sZW5ndGh9IGR1cGxpY2F0ZSBhZGRyZXNzZXNgLCBcImRldGFpbFwiKTtcbiAgICAgIGFkZENsZWFuaW5nTG9nKGAtICR7ZGF0YUlzc3Vlcy50ZXN0UHJvcGVydGllc30gcG90ZW50aWFsIHRlc3QvZXhhbXBsZSBwcm9wZXJ0aWVzYCwgXCJkZXRhaWxcIik7XG4gICAgICBcbiAgICAgIC8vIE5vIGlzc3VlcyBmb3VuZFxuICAgICAgaWYgKHRvdGFsSXNzdWVzID09PSAwKSB7XG4gICAgICAgIGFkZENsZWFuaW5nTG9nKCdObyBkYXRhIGlzc3VlcyBmb3VuZCB0aGF0IG5lZWQgY2xlYW5pbmcnLCBcInN1Y2Nlc3NcIik7XG4gICAgICAgIGFsZXJ0KCdObyBkYXRhIGlzc3VlcyBmb3VuZCB0aGF0IG5lZWQgY2xlYW5pbmcnKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldENsZWFuaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDb25maXJtIHdpdGggdXNlclxuICAgICAgY29uc3QgY29uZmlybWF0aW9uID0gY29uZmlybShcbiAgICAgICAgYEZvdW5kICR7dG90YWxJc3N1ZXN9IGRhdGEgcXVhbGl0eSBpc3N1ZXM6XFxuXFxuYCArXG4gICAgICAgIGAtICR7ZGF0YUlzc3Vlcy5taXNzaW5nTmFtZXN9IHByb3BlcnRpZXMgbWlzc2luZyBuYW1lc1xcbmAgK1xuICAgICAgICBgLSAke2RhdGFJc3N1ZXMuaW5jb21wbGV0ZUFkZHJlc3Nlc30gcHJvcGVydGllcyB3aXRoIGluY29tcGxldGUgYWRkcmVzc2VzXFxuYCArXG4gICAgICAgIGAtICR7ZGF0YUlzc3Vlcy5zdXNwaWNpb3VzWmVyb3N9IHByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIHplcm8gdmFsdWVzXFxuYCArXG4gICAgICAgIGAtICR7ZGF0YUlzc3Vlcy5zdXNwaWNpb3VzQ29vcmRpbmF0ZXN9IHByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIGNvb3JkaW5hdGVzXFxuYCArXG4gICAgICAgIGAtICR7ZGF0YUlzc3Vlcy5kdXBsaWNhdGVOYW1lcy5sZW5ndGh9IGR1cGxpY2F0ZSBwcm9wZXJ0eSBuYW1lc1xcbmAgK1xuICAgICAgICBgLSAke2RhdGFJc3N1ZXMuZHVwbGljYXRlQWRkcmVzc2VzLmxlbmd0aH0gZHVwbGljYXRlIGFkZHJlc3Nlc1xcbmAgK1xuICAgICAgICBgLSAke2RhdGFJc3N1ZXMudGVzdFByb3BlcnRpZXN9IHBvdGVudGlhbCB0ZXN0L2V4YW1wbGUgcHJvcGVydGllc1xcblxcbmAgK1xuICAgICAgICBgV291bGQgeW91IGxpa2UgdG8gY2xlYW4gdGhlc2UgaXNzdWVzP2BcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmICghY29uZmlybWF0aW9uKSB7XG4gICAgICAgIGFkZENsZWFuaW5nTG9nKCdDbGVhbmluZyBjYW5jZWxsZWQgYnkgdXNlcicsIFwid2FybmluZ1wiKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldENsZWFuaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBPcHRpb25hbDogb2ZmZXIgYWR2YW5jZWQgb3B0aW9uc1xuICAgICAgY29uc3QgYWR2YW5jZWRPcHRpb25zID0gY29uZmlybShcbiAgICAgICAgXCJXb3VsZCB5b3UgbGlrZSB0byB1c2UgYWR2YW5jZWQgY2xlYW5pbmcgb3B0aW9ucz9cXG5cXG5cIiArXG4gICAgICAgIFwiLSBGaXggbWlzc2luZyBuYW1lcyBhbmQgZXh0cmFjdCBjaXR5L3N0YXRlIGZyb20gYWRkcmVzc2VzXFxuXCIgK1xuICAgICAgICBcIi0gRmxhZyBzdXNwaWNpb3VzIGNvb3JkaW5hdGVzIGZvciBnZW9jb2RpbmdcXG5cIiArXG4gICAgICAgIFwiLSBJZGVudGlmeSBhbmQgZmxhZyBkdXBsaWNhdGUgcHJvcGVydGllc1xcblwiICtcbiAgICAgICAgXCItIEZsYWcgdGVzdCBwcm9wZXJ0aWVzIGZvciBmaWx0ZXJpbmdcXG5cXG5cIiArXG4gICAgICAgIFwiU2VsZWN0ICdDYW5jZWwnIGZvciBiYXNpYyBjbGVhbmluZyBvbmx5LlwiXG4gICAgICApO1xuICAgICAgXG4gICAgICBhZGRDbGVhbmluZ0xvZyhgU3RhcnRpbmcgJHthZHZhbmNlZE9wdGlvbnMgPyAnYWR2YW5jZWQnIDogJ2Jhc2ljJ30gY2xlYW5pbmcgcHJvY2Vzcy4uLmAsIFwiaW5mb1wiKTtcbiAgICAgIFxuICAgICAgLy8gQXBwbHkgZml4ZXMgdG8gYSBjb3B5IG9mIHRoZSBwcm9wZXJ0aWVzXG4gICAgICBjb25zdCBjbGVhbmVkUHJvcGVydGllcyA9IFsuLi5wcm9wZXJ0aWVzXTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gcHJvcGVydHkgbmFtZXNcbiAgICAgIGxldCBpc3N1ZXNDbGVhbmVkID0gMDtcbiAgICAgIFxuICAgICAgYWRkQ2xlYW5pbmdMb2coYFByb2Nlc3NpbmcgJHtwcm9wZXJ0aWVzLmxlbmd0aH0gcHJvcGVydGllcy4uLmAsIFwiaW5mb1wiKTtcbiAgICAgIFxuICAgICAgcHJvcGVydGllcy5mb3JFYWNoKChwcm9wZXJ0eSwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHByb3BlcnR5Q2xlYW5lZCA9IGZhbHNlO1xuICAgICAgICBsZXQgY2xlYW5pbmdOb3RlcyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gRml4IG1pc3NpbmcgbmFtZXMgdXNpbmcgYWRkcmVzc1xuICAgICAgICBpZiAoIXByb3BlcnR5Lm5hbWUgfHwgcHJvcGVydHkubmFtZS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5LmFkZHJlc3MpIHtcbiAgICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5uYW1lID0gYFByb3BlcnR5IGF0ICR7cHJvcGVydHkuYWRkcmVzcy5zcGxpdCgnLCcpWzBdfWA7XG4gICAgICAgICAgICBhZGRDbGVhbmluZ0xvZyhgR2VuZXJhdGVkIG5hbWUgZm9yIHByb3BlcnR5ICMke3Byb3BlcnR5LmlkfTogXCIke2NsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5uYW1lfVwiYCwgXCJzdWNjZXNzXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0ubmFtZSA9IGBVbm5hbWVkIFByb3BlcnR5ICR7cHJvcGVydHkuaWQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgOCl9YDtcbiAgICAgICAgICAgIGFkZENsZWFuaW5nTG9nKGBHZW5lcmF0ZWQgZmFsbGJhY2sgbmFtZSBmb3IgcHJvcGVydHkgIyR7cHJvcGVydHkuaWR9OiBcIiR7Y2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLm5hbWV9XCJgLCBcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByb3BlcnR5Q2xlYW5lZCA9IHRydWU7XG4gICAgICAgICAgY2xlYW5pbmdOb3Rlcy5wdXNoKCdNaXNzaW5nIG5hbWUgZml4ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRml4IG1pc3NpbmcgY2l0eS9zdGF0ZSBpZiBhZGRyZXNzIGV4aXN0c1xuICAgICAgICBpZiAocHJvcGVydHkuYWRkcmVzcyAmJiAoIXByb3BlcnR5LmNpdHkgfHwgIXByb3BlcnR5LnN0YXRlKSkge1xuICAgICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGNpdHkgYW5kIHN0YXRlIGZyb20gYWRkcmVzc1xuICAgICAgICAgIGNvbnN0IGFkZHJlc3NQYXJ0cyA9IHByb3BlcnR5LmFkZHJlc3Muc3BsaXQoJywnKS5tYXAocCA9PiBwLnRyaW0oKSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGFkZHJlc3NQYXJ0cy5sZW5ndGggPj0gMiAmJiAhcHJvcGVydHkuY2l0eSkge1xuICAgICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLmNpdHkgPSBhZGRyZXNzUGFydHNbYWRkcmVzc1BhcnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgYWRkQ2xlYW5pbmdMb2coYEV4dHJhY3RlZCBjaXR5IFwiJHtjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uY2l0eX1cIiBmb3IgcHJvcGVydHkgIyR7cHJvcGVydHkuaWR9YCwgXCJzdWNjZXNzXCIpO1xuICAgICAgICAgICAgcHJvcGVydHlDbGVhbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNsZWFuaW5nTm90ZXMucHVzaCgnQ2l0eSBleHRyYWN0ZWQgZnJvbSBhZGRyZXNzJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChhZGRyZXNzUGFydHMubGVuZ3RoID49IDEgJiYgIXByb3BlcnR5LnN0YXRlKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBzdGF0ZSBmcm9tIHRoZSBsYXN0IHBhcnQgb2YgdGhlIGFkZHJlc3NcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlUGFydCA9IGFkZHJlc3NQYXJ0c1thZGRyZXNzUGFydHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBjb25zdCBzdGF0ZU1hdGNoID0gc3RhdGVQYXJ0Lm1hdGNoKC9bQS1aXXsyfS8pO1xuICAgICAgICAgICAgaWYgKHN0YXRlTWF0Y2gpIHtcbiAgICAgICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLnN0YXRlID0gc3RhdGVNYXRjaFswXTtcbiAgICAgICAgICAgICAgYWRkQ2xlYW5pbmdMb2coYEV4dHJhY3RlZCBzdGF0ZSBcIiR7Y2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLnN0YXRlfVwiIGZvciBwcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH1gLCBcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgICAgIHByb3BlcnR5Q2xlYW5lZCA9IHRydWU7XG4gICAgICAgICAgICAgIGNsZWFuaW5nTm90ZXMucHVzaCgnU3RhdGUgZXh0cmFjdGVkIGZyb20gYWRkcmVzcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRmxhZyBzdXNwaWNpb3VzIGNvb3JkaW5hdGVzIGZvciBhZHZhbmNlZCBjbGVhbmluZ1xuICAgICAgICBpZiAoYWR2YW5jZWRPcHRpb25zKSB7XG4gICAgICAgICAgY29uc3QgbGF0U3RyID0gU3RyaW5nKHByb3BlcnR5LmxhdGl0dWRlIHx8ICcnKTtcbiAgICAgICAgICBjb25zdCBsbmdTdHIgPSBTdHJpbmcocHJvcGVydHkubG9uZ2l0dWRlIHx8ICcnKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBmb3Igc3VzcGljaW91cyBwYXR0ZXJucyBpbiBjb29yZGluYXRlc1xuICAgICAgICAgIGNvbnN0IGhhc0xvd1ByZWNpc2lvbiA9IFxuICAgICAgICAgICAgKGxhdFN0ci5pbmNsdWRlcygnLicpICYmIGxhdFN0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA8PSAyKSB8fFxuICAgICAgICAgICAgKGxuZ1N0ci5pbmNsdWRlcygnLicpICYmIGxuZ1N0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA8PSAyKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGhhc1N1c3BpY2lvdXNQYXR0ZXJuID0gXG4gICAgICAgICAgICBsYXRTdHIgPT09IGxuZ1N0ciB8fCAvLyBTYW1lIGxhdC9sbmcgaXMgdmVyeSB1bmxpa2VseVxuICAgICAgICAgICAgbGF0U3RyLmVuZHNXaXRoKCcwMDAwMCcpIHx8IFxuICAgICAgICAgICAgbG5nU3RyLmVuZHNXaXRoKCcwMDAwMCcpIHx8XG4gICAgICAgICAgICBsYXRTdHIuZW5kc1dpdGgoJy4wJykgfHxcbiAgICAgICAgICAgIGxuZ1N0ci5lbmRzV2l0aCgnLjAnKSB8fFxuICAgICAgICAgICAgbGF0U3RyLmVuZHNXaXRoKCcuNScpIHx8IFxuICAgICAgICAgICAgbG5nU3RyLmVuZHNXaXRoKCcuNScpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgaWYgKGhhc0xvd1ByZWNpc2lvbiB8fCBoYXNTdXNwaWNpb3VzUGF0dGVybikge1xuICAgICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLl9pc19ncmlkX3BhdHRlcm4gPSB0cnVlO1xuICAgICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLl9uZWVkc19nZW9jb2RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgYWRkQ2xlYW5pbmdMb2coYEZsYWdnZWQgc3VzcGljaW91cyBjb29yZGluYXRlcyAoJHtsYXRTdHJ9LCAke2xuZ1N0cn0pIGZvciBwcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH1gLCBcIndhcm5pbmdcIik7XG4gICAgICAgICAgICBwcm9wZXJ0eUNsZWFuZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2xlYW5pbmdOb3Rlcy5wdXNoKCdGbGFnZ2VkIHN1c3BpY2lvdXMgY29vcmRpbmF0ZXMgZm9yIGdlb2NvZGluZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRmxhZyB0ZXN0IHByb3BlcnRpZXNcbiAgICAgICAgaWYgKChwcm9wZXJ0eS5uYW1lICYmIHByb3BlcnR5Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndGVzdCcpKSB8fCBcbiAgICAgICAgICAgIChwcm9wZXJ0eS5uYW1lICYmIHByb3BlcnR5Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZXhhbXBsZScpKSB8fFxuICAgICAgICAgICAgKHByb3BlcnR5LmFkZHJlc3MgJiYgcHJvcGVydHkuYWRkcmVzcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd0ZXN0JykpKSB7XG4gICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLl9pc190ZXN0X3Byb3BlcnR5ID0gdHJ1ZTtcbiAgICAgICAgICBhZGRDbGVhbmluZ0xvZyhgRmxhZ2dlZCB0ZXN0IHByb3BlcnR5ICMke3Byb3BlcnR5LmlkfTogXCIke3Byb3BlcnR5Lm5hbWV9XCJgLCBcIndhcm5pbmdcIik7XG4gICAgICAgICAgcHJvcGVydHlDbGVhbmVkID0gdHJ1ZTtcbiAgICAgICAgICBjbGVhbmluZ05vdGVzLnB1c2goJ0ZsYWdnZWQgYXMgdGVzdCBwcm9wZXJ0eScpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGbGFnIHN1c3BpY2lvdXMgemVyb3MgZm9yIGFkdmFuY2VkIGNsZWFuaW5nXG4gICAgICAgIGlmIChhZHZhbmNlZE9wdGlvbnMgJiYgKHByb3BlcnR5LnVuaXRzID09PSAwIHx8IHByb3BlcnR5Lm51bV91bml0cyA9PT0gMCkpIHtcbiAgICAgICAgICAvLyBXZSdsbCBqdXN0IGZsYWcgdGhlc2UgZm9yIG5vdywgbWFudWFsIHJldmlldyBpcyBuZWVkZWRcbiAgICAgICAgICBpZiAoIWNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5fZGF0YV9xdWFsaXR5X2lzc3Vlcykge1xuICAgICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLl9kYXRhX3F1YWxpdHlfaXNzdWVzID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5fZGF0YV9xdWFsaXR5X2lzc3Vlcy5wdXNoKCd6ZXJvX3VuaXRzJyk7XG4gICAgICAgICAgYWRkQ2xlYW5pbmdMb2coYEZsYWdnZWQgemVybyB1bml0cyBmb3IgcHJvcGVydHkgIyR7cHJvcGVydHkuaWR9YCwgXCJ3YXJuaW5nXCIpO1xuICAgICAgICAgIHByb3BlcnR5Q2xlYW5lZCA9IHRydWU7XG4gICAgICAgICAgY2xlYW5pbmdOb3Rlcy5wdXNoKCdGbGFnZ2VkIHplcm8gdW5pdHMnKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHByb3BlcnR5IHdpdGggY2xlYW5pbmcgaW5mb3JtYXRpb25cbiAgICAgICAgaWYgKHByb3BlcnR5Q2xlYW5lZCkge1xuICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5fZGF0YV9jbGVhbmVkID0gdHJ1ZTtcbiAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uX2NsZWFuaW5nX25vdGVzID0gY2xlYW5pbmdOb3Rlcy5qb2luKCcsICcpO1xuICAgICAgICAgIGlzc3Vlc0NsZWFuZWQrKztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGFkZENsZWFuaW5nTG9nKGBGaW5pc2hlZCBwcm9jZXNzaW5nLiBDbGVhbmVkICR7aXNzdWVzQ2xlYW5lZH0gcHJvcGVydGllcy5gLCBcInN1Y2Nlc3NcIik7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZSB3aXRoIGNsZWFuZWQgcHJvcGVydGllc1xuICAgICAgYWRkQ2xlYW5pbmdMb2coXCJVcGRhdGluZyBwcm9wZXJ0eSBkYXRhIHdpdGggY2xlYW5lZCB2YWx1ZXMuLi5cIiwgXCJpbmZvXCIpO1xuICAgICAgc2V0UHJvcGVydGllcyhjbGVhbmVkUHJvcGVydGllcyk7XG4gICAgICBjYWxjdWxhdGVTdGF0cyhjbGVhbmVkUHJvcGVydGllcyk7XG4gICAgICBcbiAgICAgIC8vIEFsZXJ0IHVzZXIgb2YgcmVzdWx0c1xuICAgICAgYWRkQ2xlYW5pbmdMb2coXCJEYXRhIGNsZWFuaW5nIGNvbXBsZXRlIVwiLCBcInN1Y2Nlc3NcIik7XG4gICAgICBhbGVydChcbiAgICAgICAgYERhdGEgY2xlYW5pbmcgY29tcGxldGUhXFxuXFxuYCArXG4gICAgICAgIGAtICR7aXNzdWVzQ2xlYW5lZH0gcHJvcGVydGllcyB3ZXJlIGNsZWFuZWRcXG5gICtcbiAgICAgICAgYC0gQWRkZWQgbmFtZXMgdG8gJHtkYXRhSXNzdWVzLm1pc3NpbmdOYW1lc30gcHJvcGVydGllc1xcbmAgK1xuICAgICAgICBgLSBFeHRyYWN0ZWQgY2l0eS9zdGF0ZSBmb3IgJHtkYXRhSXNzdWVzLmluY29tcGxldGVBZGRyZXNzZXN9IHByb3BlcnRpZXNcXG5gICtcbiAgICAgICAgYC0gRmxhZ2dlZCAke2RhdGFJc3N1ZXMuc3VzcGljaW91c0Nvb3JkaW5hdGVzfSBzdXNwaWNpb3VzIGNvb3JkaW5hdGVzIGZvciBnZW9jb2RpbmdcXG5gICtcbiAgICAgICAgYC0gSWRlbnRpZmllZCAke2RhdGFJc3N1ZXMuZHVwbGljYXRlTmFtZXMubGVuZ3RofSBkdXBsaWNhdGUgbmFtZXNcXG5gICtcbiAgICAgICAgYC0gRmxhZ2dlZCAke2RhdGFJc3N1ZXMudGVzdFByb3BlcnRpZXN9IHRlc3QgcHJvcGVydGllc1xcblxcbmAgK1xuICAgICAgICBgTmV4dCBzdGVwczpcXG5gICtcbiAgICAgICAgYDEuIFVzZSBcIkJhdGNoIEdlb2NvZGVcIiB0byBmaXggZmxhZ2dlZCBjb29yZGluYXRlc1xcbmAgK1xuICAgICAgICBgMi4gVXNlIFwiUHJvcGVydGllcyBBbmFseXNpc1wiIHRvIHJldmlldyBkYXRhIHF1YWxpdHlcXG5gICtcbiAgICAgICAgYDMuIFNvbWUgcHJvcGVydGllcyBzdGlsbCByZXF1aXJlIG1hbnVhbCByZXZpZXdgXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhbmluZyBwcm9wZXJ0eSBkYXRhOicsIGVycm9yKTtcbiAgICAgIGFkZENsZWFuaW5nTG9nKGBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWAsIFwiZXJyb3JcIik7XG4gICAgICBhbGVydChgRXJyb3IgY2xlYW5pbmcgZGF0YTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHNldENsZWFuaW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmaW5kIGR1cGxpY2F0ZXMgaW4gcHJvcGVydGllcyBieSBmaWVsZFxuICBmdW5jdGlvbiBmaW5kRHVwbGljYXRlcyhhcnJheSwga2V5KSB7XG4gICAgY29uc3QgY291bnRzID0ge307XG4gICAgY29uc3QgZHVwbGljYXRlcyA9IFtdO1xuICAgIFxuICAgIC8vIFNraXAgZW50cmllcyB3aXRoIGVtcHR5IHZhbHVlc1xuICAgIGFycmF5LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbVtrZXldICYmIGl0ZW1ba2V5XS50cmltKCkgIT09ICcnKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaXRlbVtrZXldLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgICBjb3VudHNbdmFsdWVdID0gKGNvdW50c1t2YWx1ZV0gfHwgMCkgKyAxO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIEZpbmQgdmFsdWVzIHRoYXQgYXBwZWFyIG1vcmUgdGhhbiBvbmNlXG4gICAgT2JqZWN0LmtleXMoY291bnRzKS5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIGlmIChjb3VudHNbdmFsdWVdID4gMSkge1xuICAgICAgICBkdXBsaWNhdGVzLnB1c2goe1xuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIGNvdW50OiBjb3VudHNbdmFsdWVdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBkdXBsaWNhdGVzO1xuICB9XG5cbiAgLy8gRnVuY3Rpb24gdG8gZW5yaWNoIHByb3BlcnR5IGRhdGEgd2l0aCB6ZXJvIHZhbHVlc1xuICBhc3luYyBmdW5jdGlvbiBlbnJpY2hQcm9wZXJ0eURhdGEoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRFbnJpY2hpbmcodHJ1ZSk7XG4gICAgICBjbGVhckVucmljaGluZ0xvZ3MoKTtcbiAgICAgIHNldFNob3dFbnJpY2hpbmdMb2dzKHRydWUpO1xuICAgICAgXG4gICAgICBhZGRFbnJpY2hpbmdMb2coXCJTdGFydGluZyBkYXRhIGVucmljaG1lbnQgcHJvY2Vzcy4uLlwiLCBcImluZm9cIik7XG4gICAgICBcbiAgICAgIC8vIElkZW50aWZ5IHByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIHplcm8gdmFsdWVzXG4gICAgICBhZGRFbnJpY2hpbmdMb2coXCJBbmFseXppbmcgcHJvcGVydGllcyBmb3Igc3VzcGljaW91cyB6ZXJvIHZhbHVlcy4uLlwiLCBcImluZm9cIik7XG4gICAgICBcbiAgICAgIGNvbnN0IHN1c3BpY2lvdXNQcm9wZXJ0aWVzID0gcHJvcGVydGllcy5maWx0ZXIocCA9PiBcbiAgICAgICAgKHAudW5pdHMgPT09IDAgfHwgcC5udW1fdW5pdHMgPT09IDApXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoc3VzcGljaW91c1Byb3BlcnRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGFkZEVucmljaGluZ0xvZygnTm8gcHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgemVybyB2YWx1ZXMgZm91bmQnLCBcInN1Y2Nlc3NcIik7XG4gICAgICAgIGFsZXJ0KCdObyBwcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyB6ZXJvIHZhbHVlcyBmb3VuZCcpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgc2V0RW5yaWNoaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhZGRFbnJpY2hpbmdMb2coYEZvdW5kICR7c3VzcGljaW91c1Byb3BlcnRpZXMubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyB6ZXJvIHZhbHVlczpgLCBcImluZm9cIik7XG4gICAgICBhZGRFbnJpY2hpbmdMb2coYC0gJHtzdXNwaWNpb3VzUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLnVuaXRzID09PSAwKS5sZW5ndGh9IHByb3BlcnRpZXMgd2l0aCB6ZXJvIHVuaXRzYCwgXCJkZXRhaWxcIik7XG4gICAgICBhZGRFbnJpY2hpbmdMb2coYC0gJHtzdXNwaWNpb3VzUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLm51bV91bml0cyA9PT0gMCkubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggemVybyB1bml0c2AsIFwiZGV0YWlsXCIpO1xuICAgICAgXG4gICAgICAvLyBDb25maXJtIHdpdGggdXNlclxuICAgICAgY29uc3QgY29uZmlybWF0aW9uID0gY29uZmlybShcbiAgICAgICAgYEZvdW5kICR7c3VzcGljaW91c1Byb3BlcnRpZXMubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyB6ZXJvIHZhbHVlczpcXG5cXG5gICtcbiAgICAgICAgYC0gJHtzdXNwaWNpb3VzUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLnVuaXRzID09PSAwKS5sZW5ndGh9IHByb3BlcnRpZXMgd2l0aCB6ZXJvIHVuaXRzXFxuYCArXG4gICAgICAgIGAtICR7c3VzcGljaW91c1Byb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5udW1fdW5pdHMgPT09IDApLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIHplcm8gdW5pdHNcXG5cXG5gICtcbiAgICAgICAgYFdvdWxkIHlvdSBsaWtlIHRvIGF0dGVtcHQgdG8gZW5yaWNoIHRoZXNlIHByb3BlcnRpZXM/YFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKCFjb25maXJtYXRpb24pIHtcbiAgICAgICAgYWRkRW5yaWNoaW5nTG9nKCdFbnJpY2htZW50IGNhbmNlbGxlZCBieSB1c2VyJywgXCJ3YXJuaW5nXCIpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgc2V0RW5yaWNoaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBNYWtlIGEgY29weSBvZiB0aGUgcHJvcGVydGllcyBmb3IgZW5yaWNobWVudFxuICAgICAgY29uc3QgZW5yaWNoZWRQcm9wZXJ0aWVzID0gWy4uLnByb3BlcnRpZXNdO1xuICAgICAgbGV0IGVucmljaGVkQ291bnQgPSAwO1xuICAgICAgXG4gICAgICAvLyBBbmFseXplIGNvbGxlY3Rpb25zIG9mIHNpbWlsYXIgcHJvcGVydGllcyB0byBkZXJpdmUgZXN0aW1hdGVzXG4gICAgICBhZGRFbnJpY2hpbmdMb2coXCJBbmFseXppbmcgcHJvcGVydHkgZGF0YSBmb3Igc3RhdGlzdGljYWwgZW5yaWNobWVudC4uLlwiLCBcImluZm9cIik7XG4gICAgICBcbiAgICAgIC8vIEdyb3VwIHByb3BlcnRpZXMgYnkgY2l0eS9zdGF0ZSBmb3IgYmV0dGVyIGNvbXBhcmlzb25cbiAgICAgIGNvbnN0IGNpdHlTdGF0ZUdyb3VwcyA9IHt9O1xuICAgICAgcHJvcGVydGllcy5mb3JFYWNoKHAgPT4ge1xuICAgICAgICBpZiAocC5jaXR5ICYmIHAuc3RhdGUgJiYgcC5wcmljZSAmJiBwLnByaWNlID4gMCAmJiAocC51bml0cyA+IDAgfHwgcC5udW1fdW5pdHMgPiAwKSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGAke3AuY2l0eS50b0xvd2VyQ2FzZSgpfSwke3Auc3RhdGUudG9Mb3dlckNhc2UoKX1gO1xuICAgICAgICAgIGlmICghY2l0eVN0YXRlR3JvdXBzW2tleV0pIHtcbiAgICAgICAgICAgIGNpdHlTdGF0ZUdyb3Vwc1trZXldID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIGNpdHlTdGF0ZUdyb3Vwc1trZXldLnB1c2gocCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgbWVkaWFuIHZhbHVlcyBwZXIgY2l0eS9zdGF0ZVxuICAgICAgY29uc3QgbWVkaWFuVmFsdWVzID0ge307XG4gICAgICBPYmplY3Qua2V5cyhjaXR5U3RhdGVHcm91cHMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBjaXR5U3RhdGVHcm91cHNba2V5XTtcbiAgICAgICAgaWYgKGdyb3VwLmxlbmd0aCA+PSAzKSB7IC8vIE9ubHkgdXNlIGdyb3VwcyB3aXRoIGVub3VnaCBkYXRhIHBvaW50c1xuICAgICAgICAgIC8vIENhbGN1bGF0ZSBtZWRpYW4gcHJpY2UgcGVyIHVuaXRcbiAgICAgICAgICBjb25zdCBwcmljZXNQZXJVbml0ID0gZ3JvdXAubWFwKHAgPT4ge1xuICAgICAgICAgICAgY29uc3QgdW5pdHMgPSBwLnVuaXRzIHx8IHAubnVtX3VuaXRzIHx8IDA7XG4gICAgICAgICAgICByZXR1cm4gdW5pdHMgPiAwID8gcC5wcmljZSAvIHVuaXRzIDogMDtcbiAgICAgICAgICB9KS5maWx0ZXIodiA9PiB2ID4gMCkuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IG1lZGlhblByaWNlUGVyVW5pdCA9IHByaWNlc1BlclVuaXRbTWF0aC5mbG9vcihwcmljZXNQZXJVbml0Lmxlbmd0aCAvIDIpXTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgbWVkaWFuIHllYXIgYnVpbHRcbiAgICAgICAgICBjb25zdCB5ZWFyQnVpbHQgPSBncm91cC5tYXAocCA9PiBwLnllYXJfYnVpbHQpLmZpbHRlcih5ID0+IHkgJiYgeSA+IDE5MDApLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgICAgICBjb25zdCBtZWRpYW5ZZWFyQnVpbHQgPSB5ZWFyQnVpbHQubGVuZ3RoID4gMCA/IHllYXJCdWlsdFtNYXRoLmZsb29yKHllYXJCdWlsdC5sZW5ndGggLyAyKV0gOiBudWxsO1xuICAgICAgICAgIFxuICAgICAgICAgIG1lZGlhblZhbHVlc1trZXldID0ge1xuICAgICAgICAgICAgbWVkaWFuUHJpY2VQZXJVbml0LFxuICAgICAgICAgICAgbWVkaWFuWWVhckJ1aWx0LFxuICAgICAgICAgICAgc2FtcGxlU2l6ZTogZ3JvdXAubGVuZ3RoXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBhZGRFbnJpY2hpbmdMb2coYEdyb3VwICR7a2V5fTogJHtncm91cC5sZW5ndGh9IHByb3BlcnRpZXMsICQke01hdGgucm91bmQobWVkaWFuUHJpY2VQZXJVbml0KS50b0xvY2FsZVN0cmluZygpfS91bml0YCwgXCJkZXRhaWxcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhZGRFbnJpY2hpbmdMb2coYENyZWF0ZWQgJHtPYmplY3Qua2V5cyhtZWRpYW5WYWx1ZXMpLmxlbmd0aH0gc3RhdGlzdGljYWwgZ3JvdXBzIGZvciBjb21wYXJpc29uYCwgXCJpbmZvXCIpO1xuICAgICAgYWRkRW5yaWNoaW5nTG9nKGBTdGFydGluZyB0byBwcm9jZXNzICR7c3VzcGljaW91c1Byb3BlcnRpZXMubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggemVybyB2YWx1ZXMuLi5gLCBcImluZm9cIik7XG4gICAgICBcbiAgICAgIC8vIEVucmljaCBwcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyB6ZXJvIHZhbHVlc1xuICAgICAgc3VzcGljaW91c1Byb3BlcnRpZXMuZm9yRWFjaChwcm9wZXJ0eSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZW5yaWNoZWRQcm9wZXJ0aWVzLmZpbmRJbmRleChwID0+IHAuaWQgPT09IHByb3BlcnR5LmlkKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgbGV0IGlzRW5yaWNoZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGVucmljaG1lbnROb3RlcyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gRmluZCB0aGUgYmVzdCByZWZlcmVuY2UgZ3JvdXAgZm9yIHRoaXMgcHJvcGVydHlcbiAgICAgICAgbGV0IHJlZmVyZW5jZUdyb3VwID0gbnVsbDtcbiAgICAgICAgbGV0IHJlZmVyZW5jZUtleSA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICBpZiAocHJvcGVydHkuY2l0eSAmJiBwcm9wZXJ0eS5zdGF0ZSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGAke3Byb3BlcnR5LmNpdHkudG9Mb3dlckNhc2UoKX0sJHtwcm9wZXJ0eS5zdGF0ZS50b0xvd2VyQ2FzZSgpfWA7XG4gICAgICAgICAgaWYgKG1lZGlhblZhbHVlc1trZXldKSB7XG4gICAgICAgICAgICByZWZlcmVuY2VHcm91cCA9IG1lZGlhblZhbHVlc1trZXldO1xuICAgICAgICAgICAgcmVmZXJlbmNlS2V5ID0ga2V5O1xuICAgICAgICAgICAgYWRkRW5yaWNoaW5nTG9nKGBQcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH06IEZvdW5kIGV4YWN0IGNpdHkvc3RhdGUgbWF0Y2ggKCR7a2V5fSlgLCBcImRldGFpbFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIElmIG5vIGRpcmVjdCBjaXR5L3N0YXRlIG1hdGNoLCB1c2UgdGhlIGNsb3Nlc3QgZ2VvZ3JhcGhpY2FsbHkgb3IgYSBnZW5lcmFsIGF2ZXJhZ2VcbiAgICAgICAgaWYgKCFyZWZlcmVuY2VHcm91cCkge1xuICAgICAgICAgIC8vIEZhbGwgYmFjayB0byBzdGF0ZS1sZXZlbCBkYXRhIG9yIGdlbmVyYWwgYXZlcmFnZVxuICAgICAgICAgIGlmIChwcm9wZXJ0eS5zdGF0ZSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVHcm91cHMgPSBPYmplY3Qua2V5cyhtZWRpYW5WYWx1ZXMpLmZpbHRlcihrZXkgPT4gXG4gICAgICAgICAgICAgIGtleS5lbmRzV2l0aChgLCR7cHJvcGVydHkuc3RhdGUudG9Mb3dlckNhc2UoKX1gKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHN0YXRlR3JvdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgLy8gVXNlIHRoZSBsYXJnZXN0IHNhbXBsZSBmcm9tIHRoZSBzdGF0ZVxuICAgICAgICAgICAgICByZWZlcmVuY2VLZXkgPSBzdGF0ZUdyb3Vwcy5zb3J0KChhLCBiKSA9PiBcbiAgICAgICAgICAgICAgICBtZWRpYW5WYWx1ZXNbYl0uc2FtcGxlU2l6ZSAtIG1lZGlhblZhbHVlc1thXS5zYW1wbGVTaXplXG4gICAgICAgICAgICAgIClbMF07XG4gICAgICAgICAgICAgIHJlZmVyZW5jZUdyb3VwID0gbWVkaWFuVmFsdWVzW3JlZmVyZW5jZUtleV07XG4gICAgICAgICAgICAgIGFkZEVucmljaGluZ0xvZyhgUHJvcGVydHkgIyR7cHJvcGVydHkuaWR9OiBGb3VuZCBzdGF0ZS1sZXZlbCBtYXRjaCAoJHtyZWZlcmVuY2VLZXl9KWAsIFwiZGV0YWlsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiBzdGlsbCBubyBtYXRjaCwgdXNlIHRoZSBvdmVyYWxsIGF2ZXJhZ2VcbiAgICAgICAgICBpZiAoIXJlZmVyZW5jZUdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBhbGxQcmljZXNQZXJVbml0ID0gcHJvcGVydGllc1xuICAgICAgICAgICAgICAuZmlsdGVyKHAgPT4gcC5wcmljZSAmJiBwLnByaWNlID4gMCAmJiAocC51bml0cyA+IDAgfHwgcC5udW1fdW5pdHMgPiAwKSlcbiAgICAgICAgICAgICAgLm1hcChwID0+IHAucHJpY2UgLyAocC51bml0cyB8fCBwLm51bV91bml0cykpXG4gICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGFsbFByaWNlc1BlclVuaXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZWZlcmVuY2VHcm91cCA9IHtcbiAgICAgICAgICAgICAgICBtZWRpYW5QcmljZVBlclVuaXQ6IGFsbFByaWNlc1BlclVuaXRbTWF0aC5mbG9vcihhbGxQcmljZXNQZXJVbml0Lmxlbmd0aCAvIDIpXSxcbiAgICAgICAgICAgICAgICBtZWRpYW5ZZWFyQnVpbHQ6IG51bGwsXG4gICAgICAgICAgICAgICAgc2FtcGxlU2l6ZTogYWxsUHJpY2VzUGVyVW5pdC5sZW5ndGhcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmVmZXJlbmNlS2V5ID0gXCJhbGxfcHJvcGVydGllc1wiO1xuICAgICAgICAgICAgICBhZGRFbnJpY2hpbmdMb2coYFByb3BlcnR5ICMke3Byb3BlcnR5LmlkfTogVXNpbmcgZ2xvYmFsIGF2ZXJhZ2UgKCR7YWxsUHJpY2VzUGVyVW5pdC5sZW5ndGh9IHByb3BlcnRpZXMpYCwgXCJkZXRhaWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDYWxjdWxhdGUgbWlzc2luZyB2YWx1ZXNcbiAgICAgICAgaWYgKHJlZmVyZW5jZUdyb3VwKSB7XG4gICAgICAgICAgLy8gRml4IHplcm8gdW5pdHMgaWYgcHJpY2UgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgaWYgKChwcm9wZXJ0eS51bml0cyA9PT0gMCB8fCAhcHJvcGVydHkudW5pdHMpICYmIFxuICAgICAgICAgICAgICAocHJvcGVydHkubnVtX3VuaXRzID09PSAwIHx8ICFwcm9wZXJ0eS5udW1fdW5pdHMpICYmIFxuICAgICAgICAgICAgICBwcm9wZXJ0eS5wcmljZSA+IDAgJiYgXG4gICAgICAgICAgICAgIHJlZmVyZW5jZUdyb3VwLm1lZGlhblByaWNlUGVyVW5pdCA+IDApIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGVzdGltYXRlZFVuaXRzID0gTWF0aC5yb3VuZChwcm9wZXJ0eS5wcmljZSAvIHJlZmVyZW5jZUdyb3VwLm1lZGlhblByaWNlUGVyVW5pdCk7XG4gICAgICAgICAgICBlbnJpY2hlZFByb3BlcnRpZXNbaW5kZXhdLnVuaXRzID0gZXN0aW1hdGVkVW5pdHM7XG4gICAgICAgICAgICBlbnJpY2hlZFByb3BlcnRpZXNbaW5kZXhdLm51bV91bml0cyA9IGVzdGltYXRlZFVuaXRzO1xuICAgICAgICAgICAgYWRkRW5yaWNoaW5nTG9nKGBQcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH06IEVzdGltYXRlZCAke2VzdGltYXRlZFVuaXRzfSB1bml0cyBiYXNlZCBvbiAkJHtwcm9wZXJ0eS5wcmljZS50b0xvY2FsZVN0cmluZygpfSBwcmljZWAsIFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgIGlzRW5yaWNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgZW5yaWNobWVudE5vdGVzLnB1c2goYEVzdGltYXRlZCAke2VzdGltYXRlZFVuaXRzfSB1bml0cyBiYXNlZCBvbiBwcmljZSBhbmQgJHtyZWZlcmVuY2VLZXl9IG1lZGlhbmApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBZGQgbWlzc2luZyB5ZWFyIGJ1aWx0IGlmIHdlIGhhdmUgYSByZWZlcmVuY2VcbiAgICAgICAgICBpZiAoKCFwcm9wZXJ0eS55ZWFyX2J1aWx0IHx8IHByb3BlcnR5LnllYXJfYnVpbHQgPCAxOTAwKSAmJiByZWZlcmVuY2VHcm91cC5tZWRpYW5ZZWFyQnVpbHQpIHtcbiAgICAgICAgICAgIGVucmljaGVkUHJvcGVydGllc1tpbmRleF0ueWVhcl9idWlsdCA9IHJlZmVyZW5jZUdyb3VwLm1lZGlhblllYXJCdWlsdDtcbiAgICAgICAgICAgIGFkZEVucmljaGluZ0xvZyhgUHJvcGVydHkgIyR7cHJvcGVydHkuaWR9OiBFc3RpbWF0ZWQgeWVhciBidWlsdCBhcyAke3JlZmVyZW5jZUdyb3VwLm1lZGlhblllYXJCdWlsdH1gLCBcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgICBpc0VucmljaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVucmljaG1lbnROb3Rlcy5wdXNoKGBFc3RpbWF0ZWQgeWVhciBidWlsdCBhcyAke3JlZmVyZW5jZUdyb3VwLm1lZGlhblllYXJCdWlsdH0gYmFzZWQgb24gJHtyZWZlcmVuY2VLZXl9IG1lZGlhbmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRmxhZyBwcm9wZXJ0eSBhcyBuZWVkaW5nIGh1bWFuIHJldmlldyBpZiB3ZSBjb3VsZG4ndCBlbnJpY2ggaXRcbiAgICAgICAgaWYgKCFpc0VucmljaGVkKSB7XG4gICAgICAgICAgLy8gTWFyayBhcyBuZWVkaW5nIG1hbnVhbCByZXZpZXdcbiAgICAgICAgICBpZiAoIWVucmljaGVkUHJvcGVydGllc1tpbmRleF0uX2RhdGFfcXVhbGl0eV9pc3N1ZXMpIHtcbiAgICAgICAgICAgIGVucmljaGVkUHJvcGVydGllc1tpbmRleF0uX2RhdGFfcXVhbGl0eV9pc3N1ZXMgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZW5yaWNoZWRQcm9wZXJ0aWVzW2luZGV4XS5fZGF0YV9xdWFsaXR5X2lzc3Vlcy5wdXNoKCduZWVkc19tYW51YWxfcmV2aWV3Jyk7XG4gICAgICAgICAgYWRkRW5yaWNoaW5nTG9nKGBQcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH06IEluc3VmZmljaWVudCBkYXRhIGZvciBlbnJpY2htZW50LCBtYXJrZWQgZm9yIG1hbnVhbCByZXZpZXdgLCBcIndhcm5pbmdcIik7XG4gICAgICAgICAgaXNFbnJpY2hlZCA9IHRydWU7XG4gICAgICAgICAgZW5yaWNobWVudE5vdGVzLnB1c2goJ01hcmtlZCBmb3IgbWFudWFsIHJldmlldyAtIGluc3VmZmljaWVudCBkYXRhIHRvIG1ha2UgZXN0aW1hdGVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9wZXJ0eSB3aXRoIGVucmljaG1lbnQgaW5mb3JtYXRpb25cbiAgICAgICAgaWYgKGlzRW5yaWNoZWQpIHtcbiAgICAgICAgICBlbnJpY2hlZFByb3BlcnRpZXNbaW5kZXhdLl9kYXRhX2VucmljaGVkID0gdHJ1ZTtcbiAgICAgICAgICBlbnJpY2hlZFByb3BlcnRpZXNbaW5kZXhdLl9lbnJpY2htZW50X25vdGVzID0gZW5yaWNobWVudE5vdGVzLmpvaW4oJywgJyk7XG4gICAgICAgICAgZW5yaWNoZWRDb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYWRkRW5yaWNoaW5nTG9nKGBFbnJpY2htZW50IHByb2Nlc3NpbmcgY29tcGxldGUuIEVucmljaGVkICR7ZW5yaWNoZWRDb3VudH0gcHJvcGVydGllcy5gLCBcInN1Y2Nlc3NcIik7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZSB3aXRoIGVucmljaGVkIHByb3BlcnRpZXNcbiAgICAgIGFkZEVucmljaGluZ0xvZyhcIlVwZGF0aW5nIHByb3BlcnR5IGRhdGEgd2l0aCBlbnJpY2hlZCB2YWx1ZXMuLi5cIiwgXCJpbmZvXCIpO1xuICAgICAgc2V0UHJvcGVydGllcyhlbnJpY2hlZFByb3BlcnRpZXMpO1xuICAgICAgY2FsY3VsYXRlU3RhdHMoZW5yaWNoZWRQcm9wZXJ0aWVzKTtcbiAgICAgIFxuICAgICAgLy8gQWxlcnQgdXNlciBvZiByZXN1bHRzXG4gICAgICBhZGRFbnJpY2hpbmdMb2coXCJEYXRhIGVucmljaG1lbnQgY29tcGxldGUhXCIsIFwic3VjY2Vzc1wiKTtcbiAgICAgIGFsZXJ0KFxuICAgICAgICBgRGF0YSBlbnJpY2htZW50IGNvbXBsZXRlIVxcblxcbmAgK1xuICAgICAgICBgLSAke2VucmljaGVkQ291bnR9IHByb3BlcnRpZXMgd2VyZSBlbnJpY2hlZCBvciBtYXJrZWQgZm9yIHJldmlld1xcbmAgK1xuICAgICAgICBgLSAke3N1c3BpY2lvdXNQcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAudW5pdHMgPT09IDApLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIHplcm8gdW5pdHMgcHJvY2Vzc2VkXFxuYCArXG4gICAgICAgIGAtICR7c3VzcGljaW91c1Byb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5udW1fdW5pdHMgPT09IDApLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIHplcm8gdW5pdHMgcHJvY2Vzc2VkXFxuXFxuYCArXG4gICAgICAgIGBOZXh0IHN0ZXBzOlxcbmAgK1xuICAgICAgICBgMS4gUmV2aWV3IHRoZSBlbnJpY2hlZCBkYXRhIGZvciBhY2N1cmFjeVxcbmAgK1xuICAgICAgICBgMi4gUHJvcGVydGllcyBtYXJrZWQgZm9yIG1hbnVhbCByZXZpZXcgbmVlZCBodW1hbiBhdHRlbnRpb25cXG5gICtcbiAgICAgICAgYDMuIFVzZSBcIlByb3BlcnRpZXMgQW5hbHlzaXNcIiB0byB2ZXJpZnkgZGF0YSBxdWFsaXR5YFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW5yaWNoaW5nIHByb3BlcnR5IGRhdGE6JywgZXJyb3IpO1xuICAgICAgYWRkRW5yaWNoaW5nTG9nKGBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWAsIFwiZXJyb3JcIik7XG4gICAgICBhbGVydChgRXJyb3IgZW5yaWNoaW5nIGRhdGE6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICBzZXRFbnJpY2hpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZ1bmN0aW9uIHRvIGFkZCBhIGxvZyBlbnRyeSB3aXRoIHRpbWVzdGFtcFxuICBjb25zdCBhZGRHZW9jb2RpbmdMb2cgPSB1c2VDYWxsYmFjaygobWVzc2FnZSwgdHlwZSA9ICdpbmZvJykgPT4ge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gICAgc2V0R2VvY29kaW5nTG9ncyhwcmV2TG9ncyA9PiBbXG4gICAgICB7IG1lc3NhZ2UsIHRpbWVzdGFtcCwgdHlwZSB9LFxuICAgICAgLi4ucHJldkxvZ3Muc2xpY2UoMCwgOTkpIC8vIEtlZXAgb25seSB0aGUgbGFzdCAxMDAgbG9nc1xuICAgIF0pO1xuICB9LCBbXSk7XG5cbiAgLy8gQ2xlYXIgbG9ncyB3aGVuIHN0YXJ0aW5nIG5ldyBnZW9jb2RpbmcgcHJvY2Vzc1xuICBjb25zdCBjbGVhckdlb2NvZGluZ0xvZ3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0R2VvY29kaW5nTG9ncyhbXSk7XG4gIH0sIFtdKTtcbiAgXG4gIC8vIEZ1bmN0aW9uIHRvIGFkZCBhIGNsZWFuaW5nIGxvZyBlbnRyeSB3aXRoIHRpbWVzdGFtcFxuICBjb25zdCBhZGRDbGVhbmluZ0xvZyA9IHVzZUNhbGxiYWNrKChtZXNzYWdlLCB0eXBlID0gJ2luZm8nKSA9PiB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICBzZXRDbGVhbmluZ0xvZ3MocHJldkxvZ3MgPT4gW1xuICAgICAgeyBtZXNzYWdlLCB0aW1lc3RhbXAsIHR5cGUgfSxcbiAgICAgIC4uLnByZXZMb2dzLnNsaWNlKDAsIDk5KSAvLyBLZWVwIG9ubHkgdGhlIGxhc3QgMTAwIGxvZ3NcbiAgICBdKTtcbiAgfSwgW10pO1xuXG4gIC8vIENsZWFyIGxvZ3Mgd2hlbiBzdGFydGluZyBuZXcgY2xlYW5pbmcgcHJvY2Vzc1xuICBjb25zdCBjbGVhckNsZWFuaW5nTG9ncyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRDbGVhbmluZ0xvZ3MoW10pO1xuICB9LCBbXSk7XG4gIFxuICAvLyBGdW5jdGlvbiB0byBhZGQgYW4gZW5yaWNobWVudCBsb2cgZW50cnkgd2l0aCB0aW1lc3RhbXBcbiAgY29uc3QgYWRkRW5yaWNoaW5nTG9nID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycpID0+IHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpO1xuICAgIHNldEVucmljaGluZ0xvZ3MocHJldkxvZ3MgPT4gW1xuICAgICAgeyBtZXNzYWdlLCB0aW1lc3RhbXAsIHR5cGUgfSxcbiAgICAgIC4uLnByZXZMb2dzLnNsaWNlKDAsIDk5KSAvLyBLZWVwIG9ubHkgdGhlIGxhc3QgMTAwIGxvZ3NcbiAgICBdKTtcbiAgfSwgW10pO1xuXG4gIC8vIENsZWFyIGxvZ3Mgd2hlbiBzdGFydGluZyBuZXcgZW5yaWNobWVudCBwcm9jZXNzXG4gIGNvbnN0IGNsZWFyRW5yaWNoaW5nTG9ncyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRFbnJpY2hpbmdMb2dzKFtdKTtcbiAgfSwgW10pO1xuXG4gIC8vIEhhbmRsZSBwcm9wZXJ0eSBzZWxlY3Rpb25cbiAgY29uc3QgaGFuZGxlUHJvcGVydHlTZWxlY3QgPSAocHJvcGVydHkpID0+IHtcbiAgICAvLyBGb3Igbm9uLWF1dGhlbnRpY2F0ZWQgdXNlcnMsIHNob3cgbG9naW4gcHJvbXB0IHdoZW4gc2VsZWN0aW5nIGEgcHJvcGVydHlcbiAgICBpZiAoIXVzZXIgJiYgcHJvcGVydHkpIHtcbiAgICAgIHNldFNlbGVjdGVkUHJvcGVydHkobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldFNlbGVjdGVkUHJvcGVydHkocHJvcGVydHkpO1xuICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgc2V0U2hvd0RldGFpbHModHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBVUkwgd2l0aCBwcm9wZXJ0eSBJRCBmb3Igc2hhcmluZ1xuICAgICAgLy8gLi4uIGV4aXN0aW5nIGNvZGUgLi4uXG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPExheW91dCB0aXRsZT1cIlByb3BlcnR5IE1hcCB8IEFjcXVpcmUgQXBhcnRtZW50c1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBiZy1jcmVhbS01MCBtaW4taC1zY3JlZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtW2NhbGMoMTAwdmgtNHJlbSldIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS00IGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTgwMFwiPk1hcCBWaWV3PC9oMT5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj5Ccm93c2UgcHJvcGVydGllcyBvbiB0aGUgbWFwIG9yIHVzZSBmaWx0ZXJzIHRvIHJlZmluZSB5b3VyIHNlYXJjaDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtZ3JvdyBmbGV4XCI+XG4gICAgICAgICAgICB7LyogUHJvcGVydHkgU2lkZWJhciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleC1zaHJpbmstMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgJHtcbiAgICAgICAgICAgICAgc2lkZWJhclN0YXRlID09PSAnY29sbGFwc2VkJyA/ICd3LTEyJyA6IFxuICAgICAgICAgICAgICBzaWRlYmFyU3RhdGUgPT09ICdmdWxsc2NyZWVuJyA/ICd3LWZ1bGwnIDogXG4gICAgICAgICAgICAgICd3LWZ1bGwgbWQ6dy0xLzMgbGc6dy0xLzQnXG4gICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLWNyZWFtLTEwMCBoLWZ1bGwgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgIHtSZWFjdC5jcmVhdGVFbGVtZW50KGR5bmFtaWMoKCkgPT4gaW1wb3J0KCcuLi9zcmMvY29tcG9uZW50cy9Qcm9wZXJ0eVNpZGViYXInKSksIHtcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZFByb3BlcnR5LFxuICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRQcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmcsXG4gICAgICAgICAgICAgICAgICBzaWRlYmFyU3RhdGUsXG4gICAgICAgICAgICAgICAgICBvblNpZGViYXJTdGF0ZUNoYW5nZTogaGFuZGxlU2lkZWJhclN0YXRlQ2hhbmdlXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBNYXAgQ29udGFpbmVyICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4LWdyb3cgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwICR7XG4gICAgICAgICAgICAgIHNpZGViYXJTdGF0ZSA9PT0gJ2Z1bGxzY3JlZW4nID8gJ2hpZGRlbicgOiAnYmxvY2snXG4gICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIHJvdW5kZWQtbGcgc2hhZG93LW1kIG92ZXJmbG93LWhpZGRlbiBib3JkZXIgYm9yZGVyLWNyZWFtLTIwMFwiPlxuICAgICAgICAgICAgICAgIDxNYXBDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM9e3VzZXIgPyBwcm9wZXJ0aWVzIDogc2FtcGxlUHJvcGVydGllc31cbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUHJvcGVydHk9e3NlbGVjdGVkUHJvcGVydHl9XG4gICAgICAgICAgICAgICAgICBvblByb3BlcnR5U2VsZWN0PXtoYW5kbGVQcm9wZXJ0eVNlbGVjdH1cbiAgICAgICAgICAgICAgICAgIG9uQm91bmRzQ2hhbmdlPXtoYW5kbGVCb3VuZHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBHZW9jb2RpbmcgTG9ncyAqL31cbiAgICAgICAgICB7c2hvd0dlb2NvZGluZ0xvZ3MgJiYgZ2VvY29kaW5nTG9ncy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgcmlnaHQtNCB3LTk2IG1heC1oLTY0IGJnLWNyZWFtLTUwIHJvdW5kZWQtbGcgc2hhZG93LWxnIG92ZXJmbG93LWF1dG8gcC00IHotNTAgYm9yZGVyIGJvcmRlci1jcmVhbS0yMDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMlwiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+R2VvY29kaW5nIExvZ3M8L2gzPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0dlb2NvZGluZ0xvZ3MoZmFsc2UpfSBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgIHtnZW9jb2RpbmdMb2dzLm1hcCgobG9nLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2B0ZXh0LXNtIHAtMSAke1xuICAgICAgICAgICAgICAgICAgICBsb2cudHlwZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJlZC02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgbG9nLnR5cGUgPT09ICd3YXJuaW5nJyA/ICd0ZXh0LWFtYmVyLTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICBsb2cudHlwZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZ3JlZW4tNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgICd0ZXh0LWdyYXktNjAwJ1xuICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICB7bG9nLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIENsZWFuaW5nIExvZ3MgKi99XG4gICAgICAgICAge3Nob3dDbGVhbmluZ0xvZ3MgJiYgY2xlYW5pbmdMb2dzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tNCByaWdodC00IHctOTYgbWF4LWgtNjQgYmctY3JlYW0tNTAgcm91bmRlZC1sZyBzaGFkb3ctbGcgb3ZlcmZsb3ctYXV0byBwLTQgei01MCBib3JkZXIgYm9yZGVyLWNyZWFtLTIwMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0yXCI+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5DbGVhbmluZyBMb2dzPC9oMz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dDbGVhbmluZ0xvZ3MoZmFsc2UpfSBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgIHtjbGVhbmluZ0xvZ3MubWFwKChsb2csIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT17YHRleHQtc20gcC0xICR7XG4gICAgICAgICAgICAgICAgICAgIGxvZy50eXBlID09PSAnZXJyb3InID8gJ3RleHQtcmVkLTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICBsb2cudHlwZSA9PT0gJ3dhcm5pbmcnID8gJ3RleHQtYW1iZXItNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgIGxvZy50eXBlID09PSAnc3VjY2VzcycgPyAndGV4dC1ncmVlbi02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgbG9nLnR5cGUgPT09ICdkZXRhaWwnID8gJ3RleHQtYmx1ZS02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtZ3JheS02MDAnXG4gICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgIHtsb2cubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIEVucmljaG1lbnQgTG9ncyAqL31cbiAgICAgICAgICB7c2hvd0VucmljaGluZ0xvZ3MgJiYgZW5yaWNoaW5nTG9ncy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgcmlnaHQtNCB3LTk2IG1heC1oLTY0IGJnLWNyZWFtLTUwIHJvdW5kZWQtbGcgc2hhZG93LWxnIG92ZXJmbG93LWF1dG8gcC00IHotNTAgYm9yZGVyIGJvcmRlci1jcmVhbS0yMDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMlwiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+RW5yaWNobWVudCBMb2dzPC9oMz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dFbnJpY2hpbmdMb2dzKGZhbHNlKX0gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICB7ZW5yaWNoaW5nTG9ncy5tYXAoKGxvZywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtgdGV4dC1zbSBwLTEgJHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLnR5cGUgPT09ICdlcnJvcicgPyAndGV4dC1yZWQtNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgIGxvZy50eXBlID09PSAnd2FybmluZycgPyAndGV4dC1hbWJlci02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgbG9nLnR5cGUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWdyZWVuLTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICBsb2cudHlwZSA9PT0gJ2RldGFpbCcgPyAndGV4dC1ibHVlLTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICAndGV4dC1ncmF5LTYwMCdcbiAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAge2xvZy5tZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L0xheW91dD5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsImR5bmFtaWMiLCJMYXlvdXQiLCJmZXRjaFByb3BlcnRpZXMiLCJlbmhhbmNlZEdlb2NvZGVQcm9wZXJ0aWVzIiwidXNlQXV0aCIsIkxpbmsiLCJNYXBDb21wb25lbnQiLCJzc3IiLCJMb2dpbkdhdGUiLCJjaGlsZHJlbiIsInVzZXIiLCJsb2FkaW5nIiwiZGl2IiwiY2xhc3NOYW1lIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJwYXRoIiwiZCIsInAiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJoMiIsImhyZWYiLCJhIiwidWwiLCJsaSIsIk1hcFBhZ2UiLCJwcm9wZXJ0aWVzIiwic2V0UHJvcGVydGllcyIsInNhbXBsZVByb3BlcnRpZXMiLCJzZXRTYW1wbGVQcm9wZXJ0aWVzIiwic2VsZWN0ZWRQcm9wZXJ0eSIsInNldFNlbGVjdGVkUHJvcGVydHkiLCJzZXRMb2FkaW5nIiwiZ2VvY29kaW5nIiwic2V0R2VvY29kaW5nIiwiZ2VvY29kaW5nTG9ncyIsInNldEdlb2NvZGluZ0xvZ3MiLCJzaG93R2VvY29kaW5nTG9ncyIsInNldFNob3dHZW9jb2RpbmdMb2dzIiwiY2xlYW5pbmciLCJzZXRDbGVhbmluZyIsImNsZWFuaW5nTG9ncyIsInNldENsZWFuaW5nTG9ncyIsInNob3dDbGVhbmluZ0xvZ3MiLCJzZXRTaG93Q2xlYW5pbmdMb2dzIiwiZW5yaWNoaW5nIiwic2V0RW5yaWNoaW5nIiwiZW5yaWNoaW5nTG9ncyIsInNldEVucmljaGluZ0xvZ3MiLCJzaG93RW5yaWNoaW5nTG9ncyIsInNldFNob3dFbnJpY2hpbmdMb2dzIiwibWFwQm91bmRzIiwic2V0TWFwQm91bmRzIiwidG90YWxGZXRjaGVkIiwic2V0VG90YWxGZXRjaGVkIiwic2lkZWJhclN0YXRlIiwic2V0U2lkZWJhclN0YXRlIiwiZGF0YVN0YXRzIiwic2V0RGF0YVN0YXRzIiwidG90YWxQcm9wZXJ0aWVzIiwiaW52YWxpZENvb3JkaW5hdGVzIiwibWlzc2luZ0Nvb3JkaW5hdGVzIiwiemVyb0Nvb3JkaW5hdGVzIiwiaW52YWxpZFJhbmdlIiwiZHVwbGljYXRlZExvY2F0aW9ucyIsImxvYWRTYW1wbGVQcm9wZXJ0aWVzIiwiZGF0YSIsInBhZ2UiLCJwYWdlU2l6ZSIsInNvcnRCeSIsInNvcnRBc2MiLCJpbmNsdWRlSW5jb21wbGV0ZSIsImluY2x1ZGVSZXNlYXJjaCIsImZpbHRlcnMiLCJub0xpbWl0IiwiYm91bmRzIiwic2FtcGxlc1dpdGhMYWJlbCIsIm1hcCIsInByb3BlcnR5IiwibmFtZSIsIl9pc1NhbXBsZSIsImVycm9yIiwiY29uc29sZSIsImxvYWRQcm9wZXJ0aWVzIiwibG9nIiwiaGFuZGxlQm91bmRzQ2hhbmdlIiwiY2FsY3VsYXRlU3RhdHMiLCJwcm9wRGF0YSIsIkFycmF5IiwiaXNBcnJheSIsIm1pc3NpbmdDb29yZHMiLCJmaWx0ZXIiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImxlbmd0aCIsInplcm9Db29yZHMiLCJsYXQiLCJwYXJzZUZsb2F0IiwiU3RyaW5nIiwibG5nIiwiaXNOYU4iLCJjb29yZE1hcCIsIk1hcCIsImR1cGxpY2F0ZWRDb29yZHMiLCJmb3JFYWNoIiwiY29vcmRLZXkiLCJoYXMiLCJzZXQiLCJnZXQiLCJ1bmlxdWVMb2NhdGlvbnMiLCJzaXplIiwib3B0aW9ucyIsInZhbGlkQ29vcmRzIiwiYXVzdGluQ29vcmRzIiwic3VzcGljaW91c0Nvb3JkcyIsImxhdFN0ciIsImxuZ1N0ciIsImhhc0xvd1ByZWNpc2lvbiIsImluY2x1ZGVzIiwic3BsaXQiLCJoYXNTdXNwaWNpb3VzUGF0dGVybiIsImVuZHNXaXRoIiwiaGFuZGxlU2lkZWJhclN0YXRlQ2hhbmdlIiwic3RhdGUiLCJiYXRjaEdlb2NvZGVQcm9wZXJ0aWVzIiwiY2xlYXJHZW9jb2RpbmdMb2dzIiwicHJvcHNUb0dlb2NvZGUiLCJfY29vcmRpbmF0ZXNfbWlzc2luZyIsIl9uZWVkc19nZW9jb2RpbmciLCJfaXNfZ3JpZF9wYXR0ZXJuIiwiYWRkR2VvY29kaW5nTG9nIiwiYWxlcnQiLCJjb25maXJtIiwiYmF0Y2hTaXplIiwiYmF0Y2hlcyIsIk1hdGgiLCJjZWlsIiwic3VjY2Vzc0NvdW50IiwiZmFpbENvdW50IiwiaSIsInN0YXJ0IiwiZW5kIiwibWluIiwiYmF0Y2giLCJzbGljZSIsImlkeCIsInByb3BlcnR5TmFtZSIsImlkIiwiZ2VvY29kZWRCYXRjaCIsInN0YXR1cyIsImRldGFpbHMiLCJiYXRjaFN1Y2Nlc3MiLCJfZ2VvY29kZWQiLCJiYXRjaEZhaWwiLCJfZ2VvY29kaW5nX2ZhaWxlZCIsInVwZGF0ZWRQcm9wZXJ0aWVzIiwiZ2VvY29kZWRQcm9wIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJtZXNzYWdlIiwicnVuUHJvcGVydHlBbmFseXNpcyIsIm11bHRpcGxlUHJvcHNMb2NhdGlvbnMiLCJmcm9tIiwiZW50cmllcyIsIl8iLCJjb3VudCIsInNvcnQiLCJiIiwibXVsdGlwbGVQcm9wc0NvdW50IiwicmVkdWNlIiwic3VtIiwiYnlTb3VyY2UiLCJleGlzdGluZyIsIl9nZW9jb2Rpbmdfc291cmNlIiwidmVyaWZpZWRfYWRkcmVzcyIsImZ1bGxfYWRkcmVzcyIsInByb3BlcnR5X25hbWUiLCJ1bmtub3duIiwiY29vcmRzIiwiam9pbiIsImNsZWFuUHJvcGVydHlEYXRhIiwiY2xlYXJDbGVhbmluZ0xvZ3MiLCJhZGRDbGVhbmluZ0xvZyIsImRhdGFJc3N1ZXMiLCJtaXNzaW5nTmFtZXMiLCJ0cmltIiwiaW5jb21wbGV0ZUFkZHJlc3NlcyIsImFkZHJlc3MiLCJjaXR5Iiwic3VzcGljaW91c1plcm9zIiwidW5pdHMiLCJudW1fdW5pdHMiLCJzdXNwaWNpb3VzQ29vcmRpbmF0ZXMiLCJkdXBsaWNhdGVOYW1lcyIsImZpbmREdXBsaWNhdGVzIiwiZHVwbGljYXRlQWRkcmVzc2VzIiwidGVzdFByb3BlcnRpZXMiLCJ0b0xvd2VyQ2FzZSIsIl9pc190ZXN0X3Byb3BlcnR5IiwidG90YWxJc3N1ZXMiLCJjb25maXJtYXRpb24iLCJhZHZhbmNlZE9wdGlvbnMiLCJjbGVhbmVkUHJvcGVydGllcyIsImlzc3Vlc0NsZWFuZWQiLCJwcm9wZXJ0eUNsZWFuZWQiLCJjbGVhbmluZ05vdGVzIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJwdXNoIiwiYWRkcmVzc1BhcnRzIiwic3RhdGVQYXJ0Iiwic3RhdGVNYXRjaCIsIm1hdGNoIiwiX2RhdGFfcXVhbGl0eV9pc3N1ZXMiLCJfZGF0YV9jbGVhbmVkIiwiX2NsZWFuaW5nX25vdGVzIiwiYXJyYXkiLCJrZXkiLCJjb3VudHMiLCJkdXBsaWNhdGVzIiwiaXRlbSIsInZhbHVlIiwiT2JqZWN0Iiwia2V5cyIsImVucmljaFByb3BlcnR5RGF0YSIsImNsZWFyRW5yaWNoaW5nTG9ncyIsImFkZEVucmljaGluZ0xvZyIsInN1c3BpY2lvdXNQcm9wZXJ0aWVzIiwiZW5yaWNoZWRQcm9wZXJ0aWVzIiwiZW5yaWNoZWRDb3VudCIsImNpdHlTdGF0ZUdyb3VwcyIsInByaWNlIiwibWVkaWFuVmFsdWVzIiwiZ3JvdXAiLCJwcmljZXNQZXJVbml0IiwidiIsIm1lZGlhblByaWNlUGVyVW5pdCIsImZsb29yIiwieWVhckJ1aWx0IiwieWVhcl9idWlsdCIsInkiLCJtZWRpYW5ZZWFyQnVpbHQiLCJzYW1wbGVTaXplIiwicm91bmQiLCJ0b0xvY2FsZVN0cmluZyIsImlzRW5yaWNoZWQiLCJlbnJpY2htZW50Tm90ZXMiLCJyZWZlcmVuY2VHcm91cCIsInJlZmVyZW5jZUtleSIsInN0YXRlR3JvdXBzIiwiYWxsUHJpY2VzUGVyVW5pdCIsImVzdGltYXRlZFVuaXRzIiwiX2RhdGFfZW5yaWNoZWQiLCJfZW5yaWNobWVudF9ub3RlcyIsInR5cGUiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwicHJldkxvZ3MiLCJoYW5kbGVQcm9wZXJ0eVNlbGVjdCIsInNldFNob3dEZXRhaWxzIiwidGl0bGUiLCJoMSIsImNyZWF0ZUVsZW1lbnQiLCJvblNpZGViYXJTdGF0ZUNoYW5nZSIsIm9uUHJvcGVydHlTZWxlY3QiLCJvbkJvdW5kc0NoYW5nZSIsImgzIiwiYnV0dG9uIiwib25DbGljayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/map.js\n"));

/***/ })

});
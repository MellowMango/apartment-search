"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/map",{

/***/ "./pages/map.js":
/*!**********************!*\
  !*** ./pages/map.js ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ MapPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dynamic */ \"./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _src_components_Layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/components/Layout */ \"./src/components/Layout.tsx\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/supabase */ \"./lib/supabase.js\");\n/* harmony import */ var _lib_geocoding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/geocoding */ \"./lib/geocoding.js\");\n/* harmony import */ var _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../src/contexts/AuthContext */ \"./src/contexts/AuthContext.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_7__);\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n\n// Import the map component dynamically to avoid SSR issues with Leaflet\nconst MapComponent = next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(()=>__webpack_require__.e(/*! import() */ \"src_components_MapComponent_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../src/components/MapComponent */ \"./src/components/MapComponent.tsx\")), {\n    loadableGenerated: {\n        modules: [\n            \"map.js -> \" + \"../src/components/MapComponent\"\n        ]\n    },\n    ssr: false\n});\n_c = MapComponent;\n// Login gate component that blurs the content and shows a login prompt\nconst LoginGate = (param)=>{\n    let { children } = param;\n    _s();\n    const { user, loading } = (0,_src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth)();\n    // Show loading state while checking authentication\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative w-full h-full min-h-[80vh]\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center bg-cream-100 dark:bg-gray-800 z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"animate-spin h-10 w-10 text-blue-500 mx-auto mb-4\",\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            fill: \"none\",\n                            viewBox: \"0 0 24 24\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                    className: \"opacity-25\",\n                                    cx: \"12\",\n                                    cy: \"12\",\n                                    r: \"10\",\n                                    stroke: \"currentColor\",\n                                    strokeWidth: \"4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 31,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    className: \"opacity-75\",\n                                    fill: \"currentColor\",\n                                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 39,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 25,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"dark:text-gray-300\",\n                            children: \"Checking authentication...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 45,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                    lineNumber: 24,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n            lineNumber: 22,\n            columnNumber: 7\n        }, undefined);\n    }\n    // If user is authenticated, show the content\n    if (user) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: children\n        }, void 0, false);\n    }\n    // If not authenticated, show blurred content with login prompt\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full min-h-[80vh]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 filter blur-md opacity-40 pointer-events-none overflow-hidden\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 61,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0 bg-black/20 dark:bg-black/40 flex items-center justify-center z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-cream-50 dark:bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full text-center backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95 border border-cream-200 dark:border-gray-700\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                    className: \"h-16 w-16 text-blue-500 mx-auto mb-4\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 76,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 69,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                                    children: \"Access Restricted\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 83,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-gray-600 dark:text-gray-300\",\n                                    children: \"You need to log in or create an account to access the full property map and details.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 84,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 68,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                    href: \"/login\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        className: \"block w-full py-3 px-4 text-center bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md shadow transition duration-150\",\n                                        children: \"Log In\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 91,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 90,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_7___default()), {\n                                    href: \"/signup\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        className: \"block w-full py-3 px-4 text-center border border-blue-600 text-blue-600 hover:bg-cream-100 dark:hover:bg-blue-900 dark:text-blue-400 dark:border-blue-400 font-medium rounded-md transition duration-150\",\n                                        children: \"Sign Up\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 96,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 95,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-gray-500 dark:text-gray-400 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"By signing up, you'll get access to:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 101,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                            className: \"mt-2 space-y-1 text-left list-disc list-inside\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Full property details and insights\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 103,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Save favorite properties\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 104,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Get notifications on new listings\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 105,\n                                                    columnNumber: 17\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    children: \"Access advanced filtering options\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                    lineNumber: 106,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 102,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 100,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                            lineNumber: 89,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                    lineNumber: 67,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 66,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n        lineNumber: 59,\n        columnNumber: 5\n    }, undefined);\n};\n_s(LoginGate, \"EmJkapf7qiLC5Br5eCoEq4veZes=\", false, function() {\n    return [\n        _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth\n    ];\n});\n_c1 = LoginGate;\nfunction MapPage() {\n    _s1();\n    const [properties, setProperties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [sampleProperties, setSampleProperties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedProperty, setSelectedProperty] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [geocoding, setGeocoding] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [geocodingLogs, setGeocodingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showGeocodingLogs, setShowGeocodingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cleaning, setCleaning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [cleaningLogs, setCleaningLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showCleaningLogs, setShowCleaningLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [enriching, setEnriching] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [enrichingLogs, setEnrichingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showEnrichingLogs, setShowEnrichingLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mapBounds, setMapBounds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [totalFetched, setTotalFetched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [sidebarState, setSidebarState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"open\"); // 'open', 'collapsed', or 'fullscreen'\n    const [dataStats, setDataStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        totalProperties: 0,\n        invalidCoordinates: 0,\n        missingCoordinates: 0,\n        zeroCoordinates: 0,\n        invalidRange: 0,\n        duplicatedLocations: 0\n    });\n    const { user } = (0,_src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth)();\n    // Load sample properties for non-authenticated users\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadSampleProperties = async ()=>{\n            if (!user) {\n                try {\n                    // Fetch just a few sample properties to show on the map\n                    const data = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_4__.fetchProperties)({\n                        page: 1,\n                        pageSize: 5,\n                        sortBy: \"created_at\",\n                        sortAsc: false,\n                        includeIncomplete: false,\n                        includeResearch: true,\n                        filters: {},\n                        noLimit: false,\n                        bounds: null\n                    });\n                    // Mark them as sample properties\n                    const samplesWithLabel = data.map((property)=>({\n                            ...property,\n                            name: property.name ? \"\".concat(property.name, \" (Sample)\") : \"Sample Property\",\n                            _isSample: true\n                        }));\n                    setSampleProperties(samplesWithLabel);\n                } catch (error) {\n                    console.error(\"Error loading sample properties:\", error);\n                }\n            }\n        };\n        loadSampleProperties();\n    }, [\n        user\n    ]);\n    // Initial property load on page load\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (user) {\n            loadProperties();\n        }\n    }, [\n        user\n    ]);\n    // Reload properties when map bounds change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (mapBounds) {\n            console.log(\"Map bounds changed, loading properties in the visible area\");\n            loadProperties(mapBounds);\n        }\n    }, [\n        mapBounds\n    ]);\n    // Handle map bounds changes\n    const handleBoundsChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((bounds)=>{\n        setMapBounds(bounds);\n    }, []);\n    // Calculate statistics about the property data\n    const calculateStats = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((propData)=>{\n        if (!propData || !Array.isArray(propData)) return;\n        const missingCoords = propData.filter((p)=>!p.latitude || !p.longitude).length;\n        const zeroCoords = propData.filter((p)=>p.latitude === 0 && p.longitude === 0).length;\n        const invalidRange = propData.filter((p)=>{\n            if (!p.latitude || !p.longitude) return false;\n            const lat = typeof p.latitude === \"number\" ? p.latitude : parseFloat(String(p.latitude));\n            const lng = typeof p.longitude === \"number\" ? p.longitude : parseFloat(String(p.longitude));\n            return isNaN(lat) || isNaN(lng) || lat < -90 || lat > 90 || lng < -180 || lng > 180;\n        }).length;\n        // Count properties at identical coordinates\n        const coordMap = new Map();\n        let duplicatedCoords = 0;\n        propData.forEach((p)=>{\n            if (p.latitude && p.longitude) {\n                const coordKey = \"\".concat(p.latitude, \",\").concat(p.longitude);\n                if (coordMap.has(coordKey)) {\n                    coordMap.set(coordKey, coordMap.get(coordKey) + 1);\n                    duplicatedCoords++;\n                } else {\n                    coordMap.set(coordKey, 1);\n                }\n            }\n        });\n        setDataStats({\n            totalProperties: propData.length,\n            invalidCoordinates: missingCoords + zeroCoords + invalidRange,\n            missingCoordinates: missingCoords,\n            zeroCoordinates: zeroCoords,\n            invalidRange: invalidRange,\n            duplicatedLocations: duplicatedCoords,\n            uniqueLocations: coordMap.size\n        });\n    }, []);\n    // Function to load properties with optional bounds filter\n    async function loadProperties() {\n        let bounds = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n        try {\n            setLoading(true);\n            const options = {\n                sortBy: \"created_at\",\n                sortAsc: false,\n                page: 1,\n                pageSize: 1000,\n                filters: {},\n                includeIncomplete: true,\n                includeResearch: true,\n                noLimit: true // Bypass pagination to get all properties\n            };\n            // Apply bounds filter if provided\n            if (bounds) {\n                options.bounds = bounds;\n            }\n            const data = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_4__.fetchProperties)(options);\n            // Calculate statistics\n            calculateStats(data);\n            // Enhanced logging for debugging\n            console.log(\"===== MAP DEBUG =====\");\n            console.log(\"Loaded \".concat(data.length, \" properties for map\"));\n            // Check coordinate validity\n            const validCoords = data.filter((p)=>p.latitude && p.longitude && typeof p.latitude === \"number\" && typeof p.longitude === \"number\" && !(p.latitude === 0 && p.longitude === 0));\n            console.log(\"Properties with valid coordinates: \".concat(validCoords.length));\n            // Check Austin area coordinates\n            const austinCoords = validCoords.filter((p)=>p.latitude >= 29.5 && p.latitude <= 31.0 && p.longitude >= -98.0 && p.longitude <= -97.0);\n            console.log(\"Properties with coordinates in Austin area: \".concat(austinCoords.length));\n            // Look for suspicious patterns\n            const suspiciousCoords = validCoords.filter((p)=>{\n                const latStr = String(p.latitude);\n                const lngStr = String(p.longitude);\n                const hasLowPrecision = latStr.includes(\".\") && latStr.split(\".\")[1].length <= 1 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 1;\n                const hasSuspiciousPattern = latStr === lngStr || latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\");\n                return hasLowPrecision || hasSuspiciousPattern;\n            });\n            console.log(\"Properties with suspicious coordinates: \".concat(suspiciousCoords.length));\n            console.log(\"===== END DEBUG =====\");\n            setProperties(data);\n            setTotalFetched(data.length);\n        } catch (error) {\n            console.error(\"Error fetching properties:\", error);\n        } finally{\n            setLoading(false);\n        }\n    }\n    // Function to handle sidebar state change\n    const handleSidebarStateChange = (state)=>{\n        setSidebarState(state);\n    };\n    // Function to batch geocode properties with missing coordinates\n    async function batchGeocodeProperties() {\n        try {\n            setGeocoding(true);\n            clearGeocodingLogs();\n            setShowGeocodingLogs(true);\n            // Filter properties that need geocoding\n            const propsToGeocode = properties.filter((p)=>!p.latitude || !p.longitude || p.latitude === 0 || p.longitude === 0 || p._coordinates_missing || p._needs_geocoding || p._is_grid_pattern);\n            if (propsToGeocode.length === 0) {\n                addGeocodingLog(\"No properties need geocoding\", \"info\");\n                alert(\"No properties need geocoding\");\n                setGeocoding(false);\n                return;\n            }\n            // Confirm with user\n            addGeocodingLog(\"Found \".concat(propsToGeocode.length, \" properties that need geocoding\"), \"info\");\n            if (!confirm(\"This will attempt to geocode \".concat(propsToGeocode.length, \" properties with missing or invalid coordinates. Continue?\"))) {\n                addGeocodingLog(\"Geocoding cancelled by user\", \"warning\");\n                setGeocoding(false);\n                return;\n            }\n            addGeocodingLog(\"Starting batch geocoding of \".concat(propsToGeocode.length, \" properties\"), \"info\");\n            // Process in batches of 25 to avoid rate limits\n            const batchSize = 25;\n            const batches = Math.ceil(propsToGeocode.length / batchSize);\n            let successCount = 0;\n            let failCount = 0;\n            for(let i = 0; i < batches; i++){\n                const start = i * batchSize;\n                const end = Math.min(start + batchSize, propsToGeocode.length);\n                const batch = propsToGeocode.slice(start, end);\n                addGeocodingLog(\"Processing batch \".concat(i + 1, \"/\").concat(batches, \" (\").concat(batch.length, \" properties)\"), \"info\");\n                console.log(\"Processing batch \".concat(i + 1, \"/\").concat(batches, \" (\").concat(batch.length, \" properties)\"));\n                try {\n                    // For each property in the batch, log the property being processed\n                    batch.forEach((property, idx)=>{\n                        const propertyName = property.name || \"Property #\".concat(property.id);\n                        addGeocodingLog(\"[\".concat(i + 1, \".\").concat(idx + 1, \"] Queuing \").concat(propertyName), \"detail\");\n                    });\n                    const geocodedBatch = await (0,_lib_geocoding__WEBPACK_IMPORTED_MODULE_5__.enhancedGeocodeProperties)(batch, (property, status, details)=>{\n                        // This is a callback that will be called for each property as it's processed\n                        const propertyName = property.name || \"Property #\".concat(property.id);\n                        if (status === \"success\") {\n                            addGeocodingLog(\"Geocoded: \".concat(propertyName, \" (\").concat(details, \")\"), \"success\");\n                        } else if (status === \"error\") {\n                            addGeocodingLog(\"Failed: \".concat(propertyName, \" (\").concat(details, \")\"), \"error\");\n                        } else {\n                            addGeocodingLog(\"\".concat(status, \": \").concat(propertyName, \" \").concat(details ? \"(\".concat(details, \")\") : \"\"), \"info\");\n                        }\n                    });\n                    // Count successes and failures\n                    const batchSuccess = geocodedBatch.filter((p)=>p._geocoded).length;\n                    const batchFail = geocodedBatch.filter((p)=>p._geocoding_failed).length;\n                    successCount += batchSuccess;\n                    failCount += batchFail;\n                    addGeocodingLog(\"Batch \".concat(i + 1, \" complete: \").concat(batchSuccess, \" successes, \").concat(batchFail, \" failures\"), batchSuccess > batchFail ? \"success\" : \"warning\");\n                    // Merge geocoded properties back into the main array\n                    const updatedProperties = [\n                        ...properties\n                    ];\n                    geocodedBatch.forEach((geocodedProp)=>{\n                        const index = updatedProperties.findIndex((p)=>p.id === geocodedProp.id);\n                        if (index !== -1) {\n                            updatedProperties[index] = geocodedProp;\n                        }\n                    });\n                    // Update the properties state\n                    setProperties(updatedProperties);\n                    calculateStats(updatedProperties);\n                    // Wait a bit between batches to avoid rate limits\n                    if (i < batches - 1) {\n                        addGeocodingLog(\"Waiting 2 seconds before next batch to avoid rate limits\", \"info\");\n                        await new Promise((resolve)=>setTimeout(resolve, 2000));\n                    }\n                } catch (error) {\n                    console.error(\"Error geocoding batch \".concat(i + 1, \":\"), error);\n                    addGeocodingLog(\"Error with batch \".concat(i + 1, \": \").concat(error.message), \"error\");\n                    failCount += batch.length;\n                }\n            }\n            addGeocodingLog(\"Geocoding complete: \".concat(successCount, \" successes, \").concat(failCount, \" failures\"), successCount > failCount ? \"success\" : \"error\");\n            alert(\"Geocoding complete:\\n\\n\".concat(successCount, \" properties successfully geocoded\\n\").concat(failCount, \" properties failed to geocode\"));\n        } catch (error) {\n            console.error(\"Error in batch geocoding:\", error);\n            addGeocodingLog(\"Geocoding error: \".concat(error.message), \"error\");\n            alert(\"Error geocoding properties: \".concat(error.message));\n        } finally{\n            setGeocoding(false);\n        }\n    }\n    function runPropertyAnalysis() {\n        // Count properties at identical coordinates\n        const coordMap = new Map();\n        let duplicatedCoords = 0;\n        properties.forEach((p)=>{\n            if (p.latitude && p.longitude) {\n                const coordKey = \"\".concat(p.latitude, \",\").concat(p.longitude);\n                if (coordMap.has(coordKey)) {\n                    coordMap.set(coordKey, coordMap.get(coordKey) + 1);\n                    duplicatedCoords++;\n                } else {\n                    coordMap.set(coordKey, 1);\n                }\n            }\n        });\n        // Find coordinates with multiple properties\n        const multiplePropsLocations = Array.from(coordMap.entries()).filter((param)=>{\n            let [_, count] = param;\n            return count > 1;\n        }).sort((a, b)=>b[1] - a[1]); // Sort by count descending\n        const multiplePropsCount = multiplePropsLocations.reduce((sum, param)=>{\n            let [_, count] = param;\n            return sum + count;\n        }, 0);\n        const uniqueLocations = coordMap.size;\n        // Count by geocoding source if available\n        const bySource = {\n            existing: properties.filter((p)=>p._geocoding_source === \"existing\").length,\n            verified_address: properties.filter((p)=>p._geocoding_source === \"verified_address\").length,\n            full_address: properties.filter((p)=>p._geocoding_source === \"full_address\").length,\n            property_name: properties.filter((p)=>p._geocoding_source === \"property_name\").length,\n            unknown: properties.filter((p)=>p.latitude && p.longitude && !p._geocoding_source).length\n        };\n        alert(\"Map Properties Analysis:\\n\\n\" + \"- Total properties: \".concat(properties.length, \"\\n\") + \"- Properties with invalid coordinates: \".concat(dataStats.invalidCoordinates, \"\\n\") + \"   • Missing coordinates: \".concat(dataStats.missingCoordinates, \"\\n\") + \"   • Zero coordinates: \".concat(dataStats.zeroCoordinates, \"\\n\") + \"   • Invalid coordinate range: \".concat(dataStats.invalidRange, \"\\n\\n\") + \"- Unique locations on map: \".concat(uniqueLocations, \"\\n\") + \"- Properties sharing exact coordinates: \".concat(duplicatedCoords, \"\\n\") + \"- Number of shared locations: \".concat(multiplePropsLocations.length, \"\\n\\n\") + (multiplePropsLocations.length > 0 ? \"Top shared locations:\\n\" + multiplePropsLocations.slice(0, 5).map((param)=>{\n            let [coords, count] = param;\n            return \"   • \".concat(count, \" properties at \").concat(coords);\n        }).join(\"\\n\") : \"\") + \"\\n\\n\" + \"Geocoding sources:\\n\" + \"   • Existing valid: \".concat(bySource.existing, \"\\n\") + \"   • Verified address: \".concat(bySource.verified_address, \"\\n\") + \"   • Full address: \".concat(bySource.full_address, \"\\n\") + \"   • Property name: \".concat(bySource.property_name, \"\\n\") + \"   • Unknown source: \".concat(bySource.unknown, \"\\n\\n\") + \"Note: Properties at identical coordinates will appear as a single marker until clicked.\");\n    }\n    // Function to clean property data\n    async function cleanPropertyData() {\n        try {\n            // Start the cleaning process\n            setLoading(true);\n            setCleaning(true);\n            clearCleaningLogs();\n            setShowCleaningLogs(true);\n            addCleaningLog(\"Starting data cleaning process...\", \"info\");\n            // First, analyze the data to identify issues\n            addCleaningLog(\"Analyzing properties for data quality issues...\", \"info\");\n            const dataIssues = {\n                missingNames: properties.filter((p)=>!p.name || p.name.trim() === \"\").length,\n                incompleteAddresses: properties.filter((p)=>p.address && (!p.city || !p.state)).length,\n                suspiciousZeros: properties.filter((p)=>p.units === 0 || p.num_units === 0).length,\n                suspiciousCoordinates: properties.filter((p)=>{\n                    // Check for suspicious patterns in coordinates\n                    if (!p.latitude || !p.longitude) return false;\n                    const latStr = String(p.latitude);\n                    const lngStr = String(p.longitude);\n                    // Check for very low precision or suspicious patterns\n                    return latStr.includes(\".\") && latStr.split(\".\")[1].length <= 2 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 2 || latStr === lngStr || // Same lat/lng is suspicious\n                    latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\") || latStr.endsWith(\".0\") || lngStr.endsWith(\".0\") || latStr.endsWith(\".5\") || lngStr.endsWith(\".5\");\n                }).length,\n                duplicateNames: findDuplicates(properties, \"name\"),\n                duplicateAddresses: findDuplicates(properties, \"address\"),\n                testProperties: properties.filter((p)=>p.name && p.name.toLowerCase().includes(\"test\") || p.name && p.name.toLowerCase().includes(\"example\") || p.address && p.address.toLowerCase().includes(\"test\") || p._is_test_property).length\n            };\n            const totalIssues = dataIssues.missingNames + dataIssues.incompleteAddresses + dataIssues.suspiciousZeros + dataIssues.suspiciousCoordinates + dataIssues.duplicateNames.length + dataIssues.duplicateAddresses.length + dataIssues.testProperties;\n            // Log analysis results\n            addCleaningLog(\"Analysis found \".concat(totalIssues, \" data quality issues:\"), \"info\");\n            addCleaningLog(\"- \".concat(dataIssues.missingNames, \" properties missing names\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.incompleteAddresses, \" properties with incomplete addresses\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.suspiciousZeros, \" properties with suspicious zero values\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.suspiciousCoordinates, \" properties with suspicious coordinates\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.duplicateNames.length, \" duplicate property names\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.duplicateAddresses.length, \" duplicate addresses\"), \"detail\");\n            addCleaningLog(\"- \".concat(dataIssues.testProperties, \" potential test/example properties\"), \"detail\");\n            // No issues found\n            if (totalIssues === 0) {\n                addCleaningLog(\"No data issues found that need cleaning\", \"success\");\n                alert(\"No data issues found that need cleaning\");\n                setLoading(false);\n                setCleaning(false);\n                return;\n            }\n            // Confirm with user\n            const confirmation = confirm(\"Found \".concat(totalIssues, \" data quality issues:\\n\\n\") + \"- \".concat(dataIssues.missingNames, \" properties missing names\\n\") + \"- \".concat(dataIssues.incompleteAddresses, \" properties with incomplete addresses\\n\") + \"- \".concat(dataIssues.suspiciousZeros, \" properties with suspicious zero values\\n\") + \"- \".concat(dataIssues.suspiciousCoordinates, \" properties with suspicious coordinates\\n\") + \"- \".concat(dataIssues.duplicateNames.length, \" duplicate property names\\n\") + \"- \".concat(dataIssues.duplicateAddresses.length, \" duplicate addresses\\n\") + \"- \".concat(dataIssues.testProperties, \" potential test/example properties\\n\\n\") + \"Would you like to clean these issues?\");\n            if (!confirmation) {\n                addCleaningLog(\"Cleaning cancelled by user\", \"warning\");\n                setLoading(false);\n                setCleaning(false);\n                return;\n            }\n            // Optional: offer advanced options\n            const advancedOptions = confirm(\"Would you like to use advanced cleaning options?\\n\\n\" + \"- Fix missing names and extract city/state from addresses\\n\" + \"- Flag suspicious coordinates for geocoding\\n\" + \"- Identify and flag duplicate properties\\n\" + \"- Flag test properties for filtering\\n\\n\" + \"Select 'Cancel' for basic cleaning only.\");\n            addCleaningLog(\"Starting \".concat(advancedOptions ? \"advanced\" : \"basic\", \" cleaning process...\"), \"info\");\n            // Apply fixes to a copy of the properties\n            const cleanedProperties = [\n                ...properties\n            ];\n            // Clean property names\n            let issuesCleaned = 0;\n            addCleaningLog(\"Processing \".concat(properties.length, \" properties...\"), \"info\");\n            properties.forEach((property, index)=>{\n                let propertyCleaned = false;\n                let cleaningNotes = [];\n                // Fix missing names using address\n                if (!property.name || property.name.trim() === \"\") {\n                    if (property.address) {\n                        cleanedProperties[index].name = \"Property at \".concat(property.address.split(\",\")[0]);\n                        addCleaningLog(\"Generated name for property #\".concat(property.id, ': \"').concat(cleanedProperties[index].name, '\"'), \"success\");\n                    } else {\n                        cleanedProperties[index].name = \"Unnamed Property \".concat(property.id.toString().substring(0, 8));\n                        addCleaningLog(\"Generated fallback name for property #\".concat(property.id, ': \"').concat(cleanedProperties[index].name, '\"'), \"success\");\n                    }\n                    propertyCleaned = true;\n                    cleaningNotes.push(\"Missing name fixed\");\n                }\n                // Fix missing city/state if address exists\n                if (property.address && (!property.city || !property.state)) {\n                    // Try to extract city and state from address\n                    const addressParts = property.address.split(\",\").map((p)=>p.trim());\n                    if (addressParts.length >= 2 && !property.city) {\n                        cleanedProperties[index].city = addressParts[addressParts.length - 2];\n                        addCleaningLog('Extracted city \"'.concat(cleanedProperties[index].city, '\" for property #').concat(property.id), \"success\");\n                        propertyCleaned = true;\n                        cleaningNotes.push(\"City extracted from address\");\n                    }\n                    if (addressParts.length >= 1 && !property.state) {\n                        // Try to extract state from the last part of the address\n                        const statePart = addressParts[addressParts.length - 1];\n                        const stateMatch = statePart.match(/[A-Z]{2}/);\n                        if (stateMatch) {\n                            cleanedProperties[index].state = stateMatch[0];\n                            addCleaningLog('Extracted state \"'.concat(cleanedProperties[index].state, '\" for property #').concat(property.id), \"success\");\n                            propertyCleaned = true;\n                            cleaningNotes.push(\"State extracted from address\");\n                        }\n                    }\n                }\n                // Flag suspicious coordinates for advanced cleaning\n                if (advancedOptions) {\n                    const latStr = String(property.latitude || \"\");\n                    const lngStr = String(property.longitude || \"\");\n                    // Check for suspicious patterns in coordinates\n                    const hasLowPrecision = latStr.includes(\".\") && latStr.split(\".\")[1].length <= 2 || lngStr.includes(\".\") && lngStr.split(\".\")[1].length <= 2;\n                    const hasSuspiciousPattern = latStr === lngStr || // Same lat/lng is very unlikely\n                    latStr.endsWith(\"00000\") || lngStr.endsWith(\"00000\") || latStr.endsWith(\".0\") || lngStr.endsWith(\".0\") || latStr.endsWith(\".5\") || lngStr.endsWith(\".5\");\n                    if (hasLowPrecision || hasSuspiciousPattern) {\n                        cleanedProperties[index]._is_grid_pattern = true;\n                        cleanedProperties[index]._needs_geocoding = true;\n                        addCleaningLog(\"Flagged suspicious coordinates (\".concat(latStr, \", \").concat(lngStr, \") for property #\").concat(property.id), \"warning\");\n                        propertyCleaned = true;\n                        cleaningNotes.push(\"Flagged suspicious coordinates for geocoding\");\n                    }\n                }\n                // Flag test properties\n                if (property.name && property.name.toLowerCase().includes(\"test\") || property.name && property.name.toLowerCase().includes(\"example\") || property.address && property.address.toLowerCase().includes(\"test\")) {\n                    cleanedProperties[index]._is_test_property = true;\n                    addCleaningLog(\"Flagged test property #\".concat(property.id, ': \"').concat(property.name, '\"'), \"warning\");\n                    propertyCleaned = true;\n                    cleaningNotes.push(\"Flagged as test property\");\n                }\n                // Flag suspicious zeros for advanced cleaning\n                if (advancedOptions && (property.units === 0 || property.num_units === 0)) {\n                    // We'll just flag these for now, manual review is needed\n                    if (!cleanedProperties[index]._data_quality_issues) {\n                        cleanedProperties[index]._data_quality_issues = [];\n                    }\n                    cleanedProperties[index]._data_quality_issues.push(\"zero_units\");\n                    addCleaningLog(\"Flagged zero units for property #\".concat(property.id), \"warning\");\n                    propertyCleaned = true;\n                    cleaningNotes.push(\"Flagged zero units\");\n                }\n                // Update property with cleaning information\n                if (propertyCleaned) {\n                    cleanedProperties[index]._data_cleaned = true;\n                    cleanedProperties[index]._cleaning_notes = cleaningNotes.join(\", \");\n                    issuesCleaned++;\n                }\n            });\n            addCleaningLog(\"Finished processing. Cleaned \".concat(issuesCleaned, \" properties.\"), \"success\");\n            // Update state with cleaned properties\n            addCleaningLog(\"Updating property data with cleaned values...\", \"info\");\n            setProperties(cleanedProperties);\n            calculateStats(cleanedProperties);\n            // Alert user of results\n            addCleaningLog(\"Data cleaning complete!\", \"success\");\n            alert(\"Data cleaning complete!\\n\\n\" + \"- \".concat(issuesCleaned, \" properties were cleaned\\n\") + \"- Added names to \".concat(dataIssues.missingNames, \" properties\\n\") + \"- Extracted city/state for \".concat(dataIssues.incompleteAddresses, \" properties\\n\") + \"- Flagged \".concat(dataIssues.suspiciousCoordinates, \" suspicious coordinates for geocoding\\n\") + \"- Identified \".concat(dataIssues.duplicateNames.length, \" duplicate names\\n\") + \"- Flagged \".concat(dataIssues.testProperties, \" test properties\\n\\n\") + \"Next steps:\\n\" + '1. Use \"Batch Geocode\" to fix flagged coordinates\\n' + '2. Use \"Properties Analysis\" to review data quality\\n' + \"3. Some properties still require manual review\");\n        } catch (error) {\n            console.error(\"Error cleaning property data:\", error);\n            addCleaningLog(\"Error: \".concat(error.message), \"error\");\n            alert(\"Error cleaning data: \".concat(error.message));\n        } finally{\n            setLoading(false);\n            setCleaning(false);\n        }\n    }\n    // Helper function to find duplicates in properties by field\n    function findDuplicates(array, key) {\n        const counts = {};\n        const duplicates = [];\n        // Skip entries with empty values\n        array.forEach((item)=>{\n            if (item[key] && item[key].trim() !== \"\") {\n                const value = item[key].toLowerCase().trim();\n                counts[value] = (counts[value] || 0) + 1;\n            }\n        });\n        // Find values that appear more than once\n        Object.keys(counts).forEach((value)=>{\n            if (counts[value] > 1) {\n                duplicates.push({\n                    value,\n                    count: counts[value]\n                });\n            }\n        });\n        return duplicates;\n    }\n    // Function to enrich property data with zero values\n    async function enrichPropertyData() {\n        try {\n            setLoading(true);\n            setEnriching(true);\n            clearEnrichingLogs();\n            setShowEnrichingLogs(true);\n            addEnrichingLog(\"Starting data enrichment process...\", \"info\");\n            // Identify properties with suspicious zero values\n            addEnrichingLog(\"Analyzing properties for suspicious zero values...\", \"info\");\n            const suspiciousProperties = properties.filter((p)=>p.units === 0 || p.num_units === 0);\n            if (suspiciousProperties.length === 0) {\n                addEnrichingLog(\"No properties with suspicious zero values found\", \"success\");\n                alert(\"No properties with suspicious zero values found\");\n                setLoading(false);\n                setEnriching(false);\n                return;\n            }\n            addEnrichingLog(\"Found \".concat(suspiciousProperties.length, \" properties with suspicious zero values:\"), \"info\");\n            addEnrichingLog(\"- \".concat(suspiciousProperties.filter((p)=>p.units === 0).length, \" properties with zero units\"), \"detail\");\n            addEnrichingLog(\"- \".concat(suspiciousProperties.filter((p)=>p.num_units === 0).length, \" properties with zero units\"), \"detail\");\n            // Confirm with user\n            const confirmation = confirm(\"Found \".concat(suspiciousProperties.length, \" properties with suspicious zero values:\\n\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.units === 0).length, \" properties with zero units\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.num_units === 0).length, \" properties with zero units\\n\\n\") + \"Would you like to attempt to enrich these properties?\");\n            if (!confirmation) {\n                addEnrichingLog(\"Enrichment cancelled by user\", \"warning\");\n                setLoading(false);\n                setEnriching(false);\n                return;\n            }\n            // Make a copy of the properties for enrichment\n            const enrichedProperties = [\n                ...properties\n            ];\n            let enrichedCount = 0;\n            // Analyze collections of similar properties to derive estimates\n            addEnrichingLog(\"Analyzing property data for statistical enrichment...\", \"info\");\n            // Group properties by city/state for better comparison\n            const cityStateGroups = {};\n            properties.forEach((p)=>{\n                if (p.city && p.state && p.price && p.price > 0 && (p.units > 0 || p.num_units > 0)) {\n                    const key = \"\".concat(p.city.toLowerCase(), \",\").concat(p.state.toLowerCase());\n                    if (!cityStateGroups[key]) {\n                        cityStateGroups[key] = [];\n                    }\n                    cityStateGroups[key].push(p);\n                }\n            });\n            // Calculate median values per city/state\n            const medianValues = {};\n            Object.keys(cityStateGroups).forEach((key)=>{\n                const group = cityStateGroups[key];\n                if (group.length >= 3) {\n                    // Calculate median price per unit\n                    const pricesPerUnit = group.map((p)=>{\n                        const units = p.units || p.num_units || 0;\n                        return units > 0 ? p.price / units : 0;\n                    }).filter((v)=>v > 0).sort((a, b)=>a - b);\n                    const medianPricePerUnit = pricesPerUnit[Math.floor(pricesPerUnit.length / 2)];\n                    // Calculate median year built\n                    const yearBuilt = group.map((p)=>p.year_built).filter((y)=>y && y > 1900).sort((a, b)=>a - b);\n                    const medianYearBuilt = yearBuilt.length > 0 ? yearBuilt[Math.floor(yearBuilt.length / 2)] : null;\n                    medianValues[key] = {\n                        medianPricePerUnit,\n                        medianYearBuilt,\n                        sampleSize: group.length\n                    };\n                    addEnrichingLog(\"Group \".concat(key, \": \").concat(group.length, \" properties, $\").concat(Math.round(medianPricePerUnit).toLocaleString(), \"/unit\"), \"detail\");\n                }\n            });\n            addEnrichingLog(\"Created \".concat(Object.keys(medianValues).length, \" statistical groups for comparison\"), \"info\");\n            addEnrichingLog(\"Starting to process \".concat(suspiciousProperties.length, \" properties with zero values...\"), \"info\");\n            // Enrich properties with suspicious zero values\n            suspiciousProperties.forEach((property)=>{\n                const index = enrichedProperties.findIndex((p)=>p.id === property.id);\n                if (index === -1) return;\n                let isEnriched = false;\n                let enrichmentNotes = [];\n                // Find the best reference group for this property\n                let referenceGroup = null;\n                let referenceKey = null;\n                if (property.city && property.state) {\n                    const key = \"\".concat(property.city.toLowerCase(), \",\").concat(property.state.toLowerCase());\n                    if (medianValues[key]) {\n                        referenceGroup = medianValues[key];\n                        referenceKey = key;\n                        addEnrichingLog(\"Property #\".concat(property.id, \": Found exact city/state match (\").concat(key, \")\"), \"detail\");\n                    }\n                }\n                // If no direct city/state match, use the closest geographically or a general average\n                if (!referenceGroup) {\n                    // Fall back to state-level data or general average\n                    if (property.state) {\n                        const stateGroups = Object.keys(medianValues).filter((key)=>key.endsWith(\",\".concat(property.state.toLowerCase())));\n                        if (stateGroups.length > 0) {\n                            // Use the largest sample from the state\n                            referenceKey = stateGroups.sort((a, b)=>medianValues[b].sampleSize - medianValues[a].sampleSize)[0];\n                            referenceGroup = medianValues[referenceKey];\n                            addEnrichingLog(\"Property #\".concat(property.id, \": Found state-level match (\").concat(referenceKey, \")\"), \"detail\");\n                        }\n                    }\n                    // If still no match, use the overall average\n                    if (!referenceGroup) {\n                        const allPricesPerUnit = properties.filter((p)=>p.price && p.price > 0 && (p.units > 0 || p.num_units > 0)).map((p)=>p.price / (p.units || p.num_units)).sort((a, b)=>a - b);\n                        if (allPricesPerUnit.length > 0) {\n                            referenceGroup = {\n                                medianPricePerUnit: allPricesPerUnit[Math.floor(allPricesPerUnit.length / 2)],\n                                medianYearBuilt: null,\n                                sampleSize: allPricesPerUnit.length\n                            };\n                            referenceKey = \"all_properties\";\n                            addEnrichingLog(\"Property #\".concat(property.id, \": Using global average (\").concat(allPricesPerUnit.length, \" properties)\"), \"detail\");\n                        }\n                    }\n                }\n                // Calculate missing values\n                if (referenceGroup) {\n                    // Fix zero units if price is available\n                    if ((property.units === 0 || !property.units) && (property.num_units === 0 || !property.num_units) && property.price > 0 && referenceGroup.medianPricePerUnit > 0) {\n                        const estimatedUnits = Math.round(property.price / referenceGroup.medianPricePerUnit);\n                        enrichedProperties[index].units = estimatedUnits;\n                        enrichedProperties[index].num_units = estimatedUnits;\n                        addEnrichingLog(\"Property #\".concat(property.id, \": Estimated \").concat(estimatedUnits, \" units based on $\").concat(property.price.toLocaleString(), \" price\"), \"success\");\n                        isEnriched = true;\n                        enrichmentNotes.push(\"Estimated \".concat(estimatedUnits, \" units based on price and \").concat(referenceKey, \" median\"));\n                    }\n                    // Add missing year built if we have a reference\n                    if ((!property.year_built || property.year_built < 1900) && referenceGroup.medianYearBuilt) {\n                        enrichedProperties[index].year_built = referenceGroup.medianYearBuilt;\n                        addEnrichingLog(\"Property #\".concat(property.id, \": Estimated year built as \").concat(referenceGroup.medianYearBuilt), \"success\");\n                        isEnriched = true;\n                        enrichmentNotes.push(\"Estimated year built as \".concat(referenceGroup.medianYearBuilt, \" based on \").concat(referenceKey, \" median\"));\n                    }\n                }\n                // Flag property as needing human review if we couldn't enrich it\n                if (!isEnriched) {\n                    // Mark as needing manual review\n                    if (!enrichedProperties[index]._data_quality_issues) {\n                        enrichedProperties[index]._data_quality_issues = [];\n                    }\n                    enrichedProperties[index]._data_quality_issues.push(\"needs_manual_review\");\n                    addEnrichingLog(\"Property #\".concat(property.id, \": Insufficient data for enrichment, marked for manual review\"), \"warning\");\n                    isEnriched = true;\n                    enrichmentNotes.push(\"Marked for manual review - insufficient data to make estimates\");\n                }\n                // Update property with enrichment information\n                if (isEnriched) {\n                    enrichedProperties[index]._data_enriched = true;\n                    enrichedProperties[index]._enrichment_notes = enrichmentNotes.join(\", \");\n                    enrichedCount++;\n                }\n            });\n            addEnrichingLog(\"Enrichment processing complete. Enriched \".concat(enrichedCount, \" properties.\"), \"success\");\n            // Update state with enriched properties\n            addEnrichingLog(\"Updating property data with enriched values...\", \"info\");\n            setProperties(enrichedProperties);\n            calculateStats(enrichedProperties);\n            // Alert user of results\n            addEnrichingLog(\"Data enrichment complete!\", \"success\");\n            alert(\"Data enrichment complete!\\n\\n\" + \"- \".concat(enrichedCount, \" properties were enriched or marked for review\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.units === 0).length, \" properties with zero units processed\\n\") + \"- \".concat(suspiciousProperties.filter((p)=>p.num_units === 0).length, \" properties with zero units processed\\n\\n\") + \"Next steps:\\n\" + \"1. Review the enriched data for accuracy\\n\" + \"2. Properties marked for manual review need human attention\\n\" + '3. Use \"Properties Analysis\" to verify data quality');\n        } catch (error) {\n            console.error(\"Error enriching property data:\", error);\n            addEnrichingLog(\"Error: \".concat(error.message), \"error\");\n            alert(\"Error enriching data: \".concat(error.message));\n        } finally{\n            setLoading(false);\n            setEnriching(false);\n        }\n    }\n    // Function to add a log entry with timestamp\n    const addGeocodingLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"info\";\n        const timestamp = new Date().toLocaleTimeString();\n        setGeocodingLogs((prevLogs)=>[\n                {\n                    message,\n                    timestamp,\n                    type\n                },\n                ...prevLogs.slice(0, 99) // Keep only the last 100 logs\n            ]);\n    }, []);\n    // Clear logs when starting new geocoding process\n    const clearGeocodingLogs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setGeocodingLogs([]);\n    }, []);\n    // Function to add a cleaning log entry with timestamp\n    const addCleaningLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"info\";\n        const timestamp = new Date().toLocaleTimeString();\n        setCleaningLogs((prevLogs)=>[\n                {\n                    message,\n                    timestamp,\n                    type\n                },\n                ...prevLogs.slice(0, 99) // Keep only the last 100 logs\n            ]);\n    }, []);\n    // Clear logs when starting new cleaning process\n    const clearCleaningLogs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setCleaningLogs([]);\n    }, []);\n    // Function to add an enrichment log entry with timestamp\n    const addEnrichingLog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"info\";\n        const timestamp = new Date().toLocaleTimeString();\n        setEnrichingLogs((prevLogs)=>[\n                {\n                    message,\n                    timestamp,\n                    type\n                },\n                ...prevLogs.slice(0, 99) // Keep only the last 100 logs\n            ]);\n    }, []);\n    // Clear logs when starting new enrichment process\n    const clearEnrichingLogs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setEnrichingLogs([]);\n    }, []);\n    // Handle property selection\n    const handlePropertySelect = (property)=>{\n        // For non-authenticated users, show login prompt when selecting a property\n        if (!user && property) {\n            setSelectedProperty(null);\n            return;\n        }\n        setSelectedProperty(property);\n        if (property) {\n            setShowDetails(true);\n        // Update URL with property ID for sharing\n        // ... existing code ...\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_src_components_Layout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        title: \"Property Map | Acquire Apartments\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative bg-cream-50 min-h-screen\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col h-[calc(100vh-4rem)] overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"container mx-auto px-4 py-4 flex-shrink-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-2xl font-bold text-gray-800\",\n                                children: \"Map View\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1054,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600\",\n                                children: \"Browse properties on the map or use filters to refine your search\"\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1055,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1053,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-grow flex\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-shrink-0 transition-all duration-300 \".concat(sidebarState === \"collapsed\" ? \"w-12\" : sidebarState === \"fullscreen\" ? \"w-full\" : \"w-full md:w-1/3 lg:w-1/4\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-4 bg-cream-100 h-full rounded-lg\",\n                                    children: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(()=>__webpack_require__.e(/*! import() */ \"src_components_PropertySidebar_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ../src/components/PropertySidebar */ \"./src/components/PropertySidebar.tsx\")), {\n                                        loadableGenerated: {\n                                            modules: [\n                                                \"map.js -> \" + \"../src/components/PropertySidebar\"\n                                            ]\n                                        }\n                                    }), {\n                                        properties,\n                                        selectedProperty,\n                                        setSelectedProperty,\n                                        loading,\n                                        sidebarState,\n                                        onSidebarStateChange: handleSidebarStateChange\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 1065,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1060,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-grow transition-all duration-300 \".concat(sidebarState === \"fullscreen\" ? \"hidden\" : \"block\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full rounded-lg shadow-md overflow-hidden border border-cream-200\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MapComponent, {\n                                        properties: user ? properties : sampleProperties,\n                                        selectedProperty: selectedProperty,\n                                        onPropertySelect: handlePropertySelect,\n                                        onBoundsChange: handleBoundsChange\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1082,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                    lineNumber: 1081,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1078,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1058,\n                        columnNumber: 11\n                    }, this),\n                    showGeocodingLogs && geocodingLogs.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-4 right-4 w-96 max-h-64 bg-cream-50 rounded-lg shadow-lg overflow-auto p-4 z-50 border border-cream-200\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold\",\n                                        children: \"Geocoding Logs\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1096,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowGeocodingLogs(false),\n                                        className: \"text-gray-500 hover:text-gray-700\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-5 h-5\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M6 18L18 6M6 6l12 12\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                lineNumber: 1099,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 1098,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1097,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1095,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: geocodingLogs.map((log, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm p-1 \".concat(log.type === \"error\" ? \"text-red-600\" : log.type === \"warning\" ? \"text-amber-600\" : log.type === \"success\" ? \"text-green-600\" : \"text-gray-600\"),\n                                        children: log.message\n                                    }, index, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1105,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1103,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1094,\n                        columnNumber: 13\n                    }, this),\n                    showCleaningLogs && cleaningLogs.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-4 right-4 w-96 max-h-64 bg-cream-50 rounded-lg shadow-lg overflow-auto p-4 z-50 border border-cream-200\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold\",\n                                        children: \"Cleaning Logs\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1122,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowCleaningLogs(false),\n                                        className: \"text-gray-500 hover:text-gray-700\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-5 h-5\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M6 18L18 6M6 6l12 12\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                lineNumber: 1125,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 1124,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1123,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1121,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: cleaningLogs.map((log, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm p-1 \".concat(log.type === \"error\" ? \"text-red-600\" : log.type === \"warning\" ? \"text-amber-600\" : log.type === \"success\" ? \"text-green-600\" : log.type === \"detail\" ? \"text-blue-600\" : \"text-gray-600\"),\n                                        children: log.message\n                                    }, index, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1131,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1129,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1120,\n                        columnNumber: 13\n                    }, this),\n                    showEnrichingLogs && enrichingLogs.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-4 right-4 w-96 max-h-64 bg-cream-50 rounded-lg shadow-lg overflow-auto p-4 z-50 border border-cream-200\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold\",\n                                        children: \"Enrichment Logs\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1149,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowEnrichingLogs(false),\n                                        className: \"text-gray-500 hover:text-gray-700\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-5 h-5\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M6 18L18 6M6 6l12 12\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                                lineNumber: 1152,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                            lineNumber: 1151,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1150,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1148,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: enrichingLogs.map((log, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-sm p-1 \".concat(log.type === \"error\" ? \"text-red-600\" : log.type === \"warning\" ? \"text-amber-600\" : log.type === \"success\" ? \"text-green-600\" : log.type === \"detail\" ? \"text-blue-600\" : \"text-gray-600\"),\n                                        children: log.message\n                                    }, index, false, {\n                                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                        lineNumber: 1158,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                                lineNumber: 1156,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                        lineNumber: 1147,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n                lineNumber: 1052,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n            lineNumber: 1051,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/guyma/code/projects/acquire/frontend/pages/map.js\",\n        lineNumber: 1050,\n        columnNumber: 5\n    }, this);\n}\n_s1(MapPage, \"n+kg7nqTdQHQ8gfNiM8v5CmpEXg=\", false, function() {\n    return [\n        _src_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__.useAuth\n    ];\n});\n_c2 = MapPage;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"MapComponent\");\n$RefreshReg$(_c1, \"LoginGate\");\n$RefreshReg$(_c2, \"MapPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ly4vcGFnZXMvbWFwLmpzP2QyNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvTGF5b3V0JztcbmltcG9ydCB7IGZldGNoUHJvcGVydGllcyB9IGZyb20gJy4uL2xpYi9zdXBhYmFzZSc7XG5pbXBvcnQgeyBlbmhhbmNlZEdlb2NvZGVQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vbGliL2dlb2NvZGluZyc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi4vc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0JztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5cbi8vIEltcG9ydCB0aGUgbWFwIGNvbXBvbmVudCBkeW5hbWljYWxseSB0byBhdm9pZCBTU1IgaXNzdWVzIHdpdGggTGVhZmxldFxuY29uc3QgTWFwQ29tcG9uZW50ID0gZHluYW1pYyhcbiAgKCkgPT4gaW1wb3J0KCcuLi9zcmMvY29tcG9uZW50cy9NYXBDb21wb25lbnQnKSxcbiAgeyBzc3I6IGZhbHNlIH1cbik7XG5cbi8vIExvZ2luIGdhdGUgY29tcG9uZW50IHRoYXQgYmx1cnMgdGhlIGNvbnRlbnQgYW5kIHNob3dzIGEgbG9naW4gcHJvbXB0XG5jb25zdCBMb2dpbkdhdGUgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IHsgdXNlciwgbG9hZGluZyB9ID0gdXNlQXV0aCgpO1xuICBcbiAgLy8gU2hvdyBsb2FkaW5nIHN0YXRlIHdoaWxlIGNoZWNraW5nIGF1dGhlbnRpY2F0aW9uXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGgtZnVsbCBtaW4taC1bODB2aF1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWNyZWFtLTEwMCBkYXJrOmJnLWdyYXktODAwIHotMjBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiBoLTEwIHctMTAgdGV4dC1ibHVlLTUwMCBteC1hdXRvIG1iLTRcIlxuICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGNpcmNsZVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9wYWNpdHktMjVcIlxuICAgICAgICAgICAgICAgIGN4PVwiMTJcIlxuICAgICAgICAgICAgICAgIGN5PVwiMTJcIlxuICAgICAgICAgICAgICAgIHI9XCIxMFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjRcIlxuICAgICAgICAgICAgICA+PC9jaXJjbGU+XG4gICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib3BhY2l0eS03NVwiXG4gICAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgZD1cIk00IDEyYTggOCAwIDAxOC04VjBDNS4zNzMgMCAwIDUuMzczIDAgMTJoNHptMiA1LjI5MUE3Ljk2MiA3Ljk2MiAwIDAxNCAxMkgwYzAgMy4wNDIgMS4xMzUgNS44MjQgMyA3LjkzOGwzLTIuNjQ3elwiXG4gICAgICAgICAgICAgID48L3BhdGg+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImRhcms6dGV4dC1ncmF5LTMwMFwiPkNoZWNraW5nIGF1dGhlbnRpY2F0aW9uLi4uPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbiAgXG4gIC8vIElmIHVzZXIgaXMgYXV0aGVudGljYXRlZCwgc2hvdyB0aGUgY29udGVudFxuICBpZiAodXNlcikge1xuICAgIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG4gIH1cbiAgXG4gIC8vIElmIG5vdCBhdXRoZW50aWNhdGVkLCBzaG93IGJsdXJyZWQgY29udGVudCB3aXRoIGxvZ2luIHByb21wdFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGgtZnVsbCBtaW4taC1bODB2aF1cIj5cbiAgICAgIHsvKiBCbHVycmVkIGNvbnRlbnQgaW4gYmFja2dyb3VuZCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmaWx0ZXIgYmx1ci1tZCBvcGFjaXR5LTQwIHBvaW50ZXItZXZlbnRzLW5vbmUgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7LyogTG9naW4vc2lnbnVwIG92ZXJsYXkgd2l0aCBzZW1pLXRyYW5zcGFyZW50IGJhY2tkcm9wICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLWJsYWNrLzIwIGRhcms6YmctYmxhY2svNDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei0yMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWNyZWFtLTUwIGRhcms6YmctZ3JheS04MDAgcC04IHJvdW5kZWQtbGcgc2hhZG93LXhsIG1heC13LW1kIHctZnVsbCB0ZXh0LWNlbnRlciBiYWNrZHJvcC1ibHVyLXNtIGJnLW9wYWNpdHktOTUgZGFyazpiZy1vcGFjaXR5LTk1IGJvcmRlciBib3JkZXItY3JlYW0tMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTE2IHctMTYgdGV4dC1ibHVlLTUwMCBteC1hdXRvIG1iLTRcIlxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICAgICAgICAgICAgZD1cIk0xMiAxNXYybS02IDRoMTJhMiAyIDAgMDAyLTJ2LTZhMiAyIDAgMDAtMi0ySDZhMiAyIDAgMDAtMiAydjZhMiAyIDAgMDAyIDJ6bTEwLTEwVjdhNCA0IDAgMDAtOCAwdjRoOHpcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+QWNjZXNzIFJlc3RyaWN0ZWQ8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICBZb3UgbmVlZCB0byBsb2cgaW4gb3IgY3JlYXRlIGFuIGFjY291bnQgdG8gYWNjZXNzIHRoZSBmdWxsIHByb3BlcnR5IG1hcCBhbmQgZGV0YWlscy5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9sb2dpblwiPlxuICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJibG9jayB3LWZ1bGwgcHktMyBweC00IHRleHQtY2VudGVyIGJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGUgZm9udC1tZWRpdW0gcm91bmRlZC1tZCBzaGFkb3cgdHJhbnNpdGlvbiBkdXJhdGlvbi0xNTBcIj5cbiAgICAgICAgICAgICAgICBMb2cgSW5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9zaWdudXBcIj5cbiAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIHB5LTMgcHgtNCB0ZXh0LWNlbnRlciBib3JkZXIgYm9yZGVyLWJsdWUtNjAwIHRleHQtYmx1ZS02MDAgaG92ZXI6YmctY3JlYW0tMTAwIGRhcms6aG92ZXI6YmctYmx1ZS05MDAgZGFyazp0ZXh0LWJsdWUtNDAwIGRhcms6Ym9yZGVyLWJsdWUtNDAwIGZvbnQtbWVkaXVtIHJvdW5kZWQtbWQgdHJhbnNpdGlvbiBkdXJhdGlvbi0xNTBcIj5cbiAgICAgICAgICAgICAgICBTaWduIFVwXG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC00XCI+XG4gICAgICAgICAgICAgIDxwPkJ5IHNpZ25pbmcgdXAsIHlvdSdsbCBnZXQgYWNjZXNzIHRvOjwvcD5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0xIHRleHQtbGVmdCBsaXN0LWRpc2MgbGlzdC1pbnNpZGVcIj5cbiAgICAgICAgICAgICAgICA8bGk+RnVsbCBwcm9wZXJ0eSBkZXRhaWxzIGFuZCBpbnNpZ2h0czwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPlNhdmUgZmF2b3JpdGUgcHJvcGVydGllczwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPkdldCBub3RpZmljYXRpb25zIG9uIG5ldyBsaXN0aW5nczwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPkFjY2VzcyBhZHZhbmNlZCBmaWx0ZXJpbmcgb3B0aW9uczwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1hcFBhZ2UoKSB7XG4gIGNvbnN0IFtwcm9wZXJ0aWVzLCBzZXRQcm9wZXJ0aWVzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3NhbXBsZVByb3BlcnRpZXMsIHNldFNhbXBsZVByb3BlcnRpZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2VsZWN0ZWRQcm9wZXJ0eSwgc2V0U2VsZWN0ZWRQcm9wZXJ0eV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtnZW9jb2RpbmcsIHNldEdlb2NvZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtnZW9jb2RpbmdMb2dzLCBzZXRHZW9jb2RpbmdMb2dzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3Nob3dHZW9jb2RpbmdMb2dzLCBzZXRTaG93R2VvY29kaW5nTG9nc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjbGVhbmluZywgc2V0Q2xlYW5pbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2xlYW5pbmdMb2dzLCBzZXRDbGVhbmluZ0xvZ3NdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2hvd0NsZWFuaW5nTG9ncywgc2V0U2hvd0NsZWFuaW5nTG9nc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlbnJpY2hpbmcsIHNldEVucmljaGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlbnJpY2hpbmdMb2dzLCBzZXRFbnJpY2hpbmdMb2dzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3Nob3dFbnJpY2hpbmdMb2dzLCBzZXRTaG93RW5yaWNoaW5nTG9nc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttYXBCb3VuZHMsIHNldE1hcEJvdW5kc10gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3RvdGFsRmV0Y2hlZCwgc2V0VG90YWxGZXRjaGVkXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbc2lkZWJhclN0YXRlLCBzZXRTaWRlYmFyU3RhdGVdID0gdXNlU3RhdGUoJ29wZW4nKTsgLy8gJ29wZW4nLCAnY29sbGFwc2VkJywgb3IgJ2Z1bGxzY3JlZW4nXG4gIGNvbnN0IFtkYXRhU3RhdHMsIHNldERhdGFTdGF0c10gPSB1c2VTdGF0ZSh7XG4gICAgdG90YWxQcm9wZXJ0aWVzOiAwLFxuICAgIGludmFsaWRDb29yZGluYXRlczogMCxcbiAgICBtaXNzaW5nQ29vcmRpbmF0ZXM6IDAsXG4gICAgemVyb0Nvb3JkaW5hdGVzOiAwLFxuICAgIGludmFsaWRSYW5nZTogMCxcbiAgICBkdXBsaWNhdGVkTG9jYXRpb25zOiAwXG4gIH0pO1xuXG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xuXG4gIC8vIExvYWQgc2FtcGxlIHByb3BlcnRpZXMgZm9yIG5vbi1hdXRoZW50aWNhdGVkIHVzZXJzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZFNhbXBsZVByb3BlcnRpZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBGZXRjaCBqdXN0IGEgZmV3IHNhbXBsZSBwcm9wZXJ0aWVzIHRvIHNob3cgb24gdGhlIG1hcFxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaFByb3BlcnRpZXMoe1xuICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgIHBhZ2VTaXplOiA1LCAvLyBKdXN0IGEgZmV3IHNhbXBsZXNcbiAgICAgICAgICAgIHNvcnRCeTogJ2NyZWF0ZWRfYXQnLFxuICAgICAgICAgICAgc29ydEFzYzogZmFsc2UsXG4gICAgICAgICAgICBpbmNsdWRlSW5jb21wbGV0ZTogZmFsc2UsXG4gICAgICAgICAgICBpbmNsdWRlUmVzZWFyY2g6IHRydWUsXG4gICAgICAgICAgICBmaWx0ZXJzOiB7fSxcbiAgICAgICAgICAgIG5vTGltaXQ6IGZhbHNlLFxuICAgICAgICAgICAgYm91bmRzOiBudWxsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTWFyayB0aGVtIGFzIHNhbXBsZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgY29uc3Qgc2FtcGxlc1dpdGhMYWJlbCA9IGRhdGEubWFwKHByb3BlcnR5ID0+ICh7XG4gICAgICAgICAgICAuLi5wcm9wZXJ0eSxcbiAgICAgICAgICAgIG5hbWU6IHByb3BlcnR5Lm5hbWUgPyBgJHtwcm9wZXJ0eS5uYW1lfSAoU2FtcGxlKWAgOiAnU2FtcGxlIFByb3BlcnR5JyxcbiAgICAgICAgICAgIF9pc1NhbXBsZTogdHJ1ZVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRTYW1wbGVQcm9wZXJ0aWVzKHNhbXBsZXNXaXRoTGFiZWwpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgc2FtcGxlIHByb3BlcnRpZXM6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBsb2FkU2FtcGxlUHJvcGVydGllcygpO1xuICB9LCBbdXNlcl0pO1xuXG4gIC8vIEluaXRpYWwgcHJvcGVydHkgbG9hZCBvbiBwYWdlIGxvYWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlcikge1xuICAgICAgbG9hZFByb3BlcnRpZXMoKTtcbiAgICB9XG4gIH0sIFt1c2VyXSk7XG5cbiAgLy8gUmVsb2FkIHByb3BlcnRpZXMgd2hlbiBtYXAgYm91bmRzIGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtYXBCb3VuZHMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdNYXAgYm91bmRzIGNoYW5nZWQsIGxvYWRpbmcgcHJvcGVydGllcyBpbiB0aGUgdmlzaWJsZSBhcmVhJyk7XG4gICAgICBsb2FkUHJvcGVydGllcyhtYXBCb3VuZHMpO1xuICAgIH1cbiAgfSwgW21hcEJvdW5kc10pO1xuXG4gIC8vIEhhbmRsZSBtYXAgYm91bmRzIGNoYW5nZXNcbiAgY29uc3QgaGFuZGxlQm91bmRzQ2hhbmdlID0gdXNlQ2FsbGJhY2soKGJvdW5kcykgPT4ge1xuICAgIHNldE1hcEJvdW5kcyhib3VuZHMpO1xuICB9LCBbXSk7XG5cbiAgLy8gQ2FsY3VsYXRlIHN0YXRpc3RpY3MgYWJvdXQgdGhlIHByb3BlcnR5IGRhdGFcbiAgY29uc3QgY2FsY3VsYXRlU3RhdHMgPSB1c2VDYWxsYmFjaygocHJvcERhdGEpID0+IHtcbiAgICBpZiAoIXByb3BEYXRhIHx8ICFBcnJheS5pc0FycmF5KHByb3BEYXRhKSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IG1pc3NpbmdDb29yZHMgPSBwcm9wRGF0YS5maWx0ZXIocCA9PiAhcC5sYXRpdHVkZSB8fCAhcC5sb25naXR1ZGUpLmxlbmd0aDtcbiAgICBjb25zdCB6ZXJvQ29vcmRzID0gcHJvcERhdGEuZmlsdGVyKHAgPT4gcC5sYXRpdHVkZSA9PT0gMCAmJiBwLmxvbmdpdHVkZSA9PT0gMCkubGVuZ3RoO1xuICAgIGNvbnN0IGludmFsaWRSYW5nZSA9IHByb3BEYXRhLmZpbHRlcihwID0+IHtcbiAgICAgIGlmICghcC5sYXRpdHVkZSB8fCAhcC5sb25naXR1ZGUpIHJldHVybiBmYWxzZTtcbiAgICAgIGNvbnN0IGxhdCA9IHR5cGVvZiBwLmxhdGl0dWRlID09PSAnbnVtYmVyJyA/IHAubGF0aXR1ZGUgOiBwYXJzZUZsb2F0KFN0cmluZyhwLmxhdGl0dWRlKSk7XG4gICAgICBjb25zdCBsbmcgPSB0eXBlb2YgcC5sb25naXR1ZGUgPT09ICdudW1iZXInID8gcC5sb25naXR1ZGUgOiBwYXJzZUZsb2F0KFN0cmluZyhwLmxvbmdpdHVkZSkpO1xuICAgICAgcmV0dXJuIChpc05hTihsYXQpIHx8IGlzTmFOKGxuZykgfHwgbGF0IDwgLTkwIHx8IGxhdCA+IDkwIHx8IGxuZyA8IC0xODAgfHwgbG5nID4gMTgwKTtcbiAgICB9KS5sZW5ndGg7XG4gICAgXG4gICAgLy8gQ291bnQgcHJvcGVydGllcyBhdCBpZGVudGljYWwgY29vcmRpbmF0ZXNcbiAgICBjb25zdCBjb29yZE1hcCA9IG5ldyBNYXAoKTtcbiAgICBsZXQgZHVwbGljYXRlZENvb3JkcyA9IDA7XG4gICAgXG4gICAgcHJvcERhdGEuZm9yRWFjaChwID0+IHtcbiAgICAgIGlmIChwLmxhdGl0dWRlICYmIHAubG9uZ2l0dWRlKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkS2V5ID0gYCR7cC5sYXRpdHVkZX0sJHtwLmxvbmdpdHVkZX1gO1xuICAgICAgICBpZiAoY29vcmRNYXAuaGFzKGNvb3JkS2V5KSkge1xuICAgICAgICAgIGNvb3JkTWFwLnNldChjb29yZEtleSwgY29vcmRNYXAuZ2V0KGNvb3JkS2V5KSArIDEpO1xuICAgICAgICAgIGR1cGxpY2F0ZWRDb29yZHMrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb29yZE1hcC5zZXQoY29vcmRLZXksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgc2V0RGF0YVN0YXRzKHtcbiAgICAgIHRvdGFsUHJvcGVydGllczogcHJvcERhdGEubGVuZ3RoLFxuICAgICAgaW52YWxpZENvb3JkaW5hdGVzOiBtaXNzaW5nQ29vcmRzICsgemVyb0Nvb3JkcyArIGludmFsaWRSYW5nZSxcbiAgICAgIG1pc3NpbmdDb29yZGluYXRlczogbWlzc2luZ0Nvb3JkcyxcbiAgICAgIHplcm9Db29yZGluYXRlczogemVyb0Nvb3JkcyxcbiAgICAgIGludmFsaWRSYW5nZTogaW52YWxpZFJhbmdlLFxuICAgICAgZHVwbGljYXRlZExvY2F0aW9uczogZHVwbGljYXRlZENvb3JkcyxcbiAgICAgIHVuaXF1ZUxvY2F0aW9uczogY29vcmRNYXAuc2l6ZVxuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gRnVuY3Rpb24gdG8gbG9hZCBwcm9wZXJ0aWVzIHdpdGggb3B0aW9uYWwgYm91bmRzIGZpbHRlclxuICBhc3luYyBmdW5jdGlvbiBsb2FkUHJvcGVydGllcyhib3VuZHMgPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCBvcHRpb25zID0geyBcbiAgICAgICAgc29ydEJ5OiAnY3JlYXRlZF9hdCcsIFxuICAgICAgICBzb3J0QXNjOiBmYWxzZSxcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgcGFnZVNpemU6IDEwMDAsXG4gICAgICAgIGZpbHRlcnM6IHt9LFxuICAgICAgICBpbmNsdWRlSW5jb21wbGV0ZTogdHJ1ZSxcbiAgICAgICAgaW5jbHVkZVJlc2VhcmNoOiB0cnVlLFxuICAgICAgICBub0xpbWl0OiB0cnVlIC8vIEJ5cGFzcyBwYWdpbmF0aW9uIHRvIGdldCBhbGwgcHJvcGVydGllc1xuICAgICAgfTtcblxuICAgICAgLy8gQXBwbHkgYm91bmRzIGZpbHRlciBpZiBwcm92aWRlZFxuICAgICAgaWYgKGJvdW5kcykge1xuICAgICAgICBvcHRpb25zLmJvdW5kcyA9IGJvdW5kcztcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGZldGNoUHJvcGVydGllcyhvcHRpb25zKTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIHN0YXRpc3RpY3NcbiAgICAgIGNhbGN1bGF0ZVN0YXRzKGRhdGEpO1xuICAgICAgXG4gICAgICAvLyBFbmhhbmNlZCBsb2dnaW5nIGZvciBkZWJ1Z2dpbmdcbiAgICAgIGNvbnNvbGUubG9nKGA9PT09PSBNQVAgREVCVUcgPT09PT1gKTtcbiAgICAgIGNvbnNvbGUubG9nKGBMb2FkZWQgJHtkYXRhLmxlbmd0aH0gcHJvcGVydGllcyBmb3IgbWFwYCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGNvb3JkaW5hdGUgdmFsaWRpdHlcbiAgICAgIGNvbnN0IHZhbGlkQ29vcmRzID0gZGF0YS5maWx0ZXIocCA9PiBcbiAgICAgICAgcC5sYXRpdHVkZSAmJiBcbiAgICAgICAgcC5sb25naXR1ZGUgJiYgXG4gICAgICAgIHR5cGVvZiBwLmxhdGl0dWRlID09PSAnbnVtYmVyJyAmJiBcbiAgICAgICAgdHlwZW9mIHAubG9uZ2l0dWRlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAhKHAubGF0aXR1ZGUgPT09IDAgJiYgcC5sb25naXR1ZGUgPT09IDApXG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2coYFByb3BlcnRpZXMgd2l0aCB2YWxpZCBjb29yZGluYXRlczogJHt2YWxpZENvb3Jkcy5sZW5ndGh9YCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIEF1c3RpbiBhcmVhIGNvb3JkaW5hdGVzXG4gICAgICBjb25zdCBhdXN0aW5Db29yZHMgPSB2YWxpZENvb3Jkcy5maWx0ZXIocCA9PiBcbiAgICAgICAgcC5sYXRpdHVkZSA+PSAyOS41ICYmIHAubGF0aXR1ZGUgPD0gMzEuMCAmJiBcbiAgICAgICAgcC5sb25naXR1ZGUgPj0gLTk4LjAgJiYgcC5sb25naXR1ZGUgPD0gLTk3LjBcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZyhgUHJvcGVydGllcyB3aXRoIGNvb3JkaW5hdGVzIGluIEF1c3RpbiBhcmVhOiAke2F1c3RpbkNvb3Jkcy5sZW5ndGh9YCk7XG4gICAgICBcbiAgICAgIC8vIExvb2sgZm9yIHN1c3BpY2lvdXMgcGF0dGVybnNcbiAgICAgIGNvbnN0IHN1c3BpY2lvdXNDb29yZHMgPSB2YWxpZENvb3Jkcy5maWx0ZXIocCA9PiB7XG4gICAgICAgIGNvbnN0IGxhdFN0ciA9IFN0cmluZyhwLmxhdGl0dWRlKTtcbiAgICAgICAgY29uc3QgbG5nU3RyID0gU3RyaW5nKHAubG9uZ2l0dWRlKTtcbiAgICAgICAgY29uc3QgaGFzTG93UHJlY2lzaW9uID0gXG4gICAgICAgICAgKGxhdFN0ci5pbmNsdWRlcygnLicpICYmIGxhdFN0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA8PSAxKSB8fFxuICAgICAgICAgIChsbmdTdHIuaW5jbHVkZXMoJy4nKSAmJiBsbmdTdHIuc3BsaXQoJy4nKVsxXS5sZW5ndGggPD0gMSk7XG4gICAgICAgIGNvbnN0IGhhc1N1c3BpY2lvdXNQYXR0ZXJuID0gXG4gICAgICAgICAgbGF0U3RyID09PSBsbmdTdHIgfHwgXG4gICAgICAgICAgbGF0U3RyLmVuZHNXaXRoKCcwMDAwMCcpIHx8IFxuICAgICAgICAgIGxuZ1N0ci5lbmRzV2l0aCgnMDAwMDAnKTtcbiAgICAgICAgcmV0dXJuIGhhc0xvd1ByZWNpc2lvbiB8fCBoYXNTdXNwaWNpb3VzUGF0dGVybjtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coYFByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIGNvb3JkaW5hdGVzOiAke3N1c3BpY2lvdXNDb29yZHMubGVuZ3RofWApO1xuICAgICAgY29uc29sZS5sb2coYD09PT09IEVORCBERUJVRyA9PT09PWApO1xuICAgICAgXG4gICAgICBzZXRQcm9wZXJ0aWVzKGRhdGEpO1xuICAgICAgc2V0VG90YWxGZXRjaGVkKGRhdGEubGVuZ3RoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvcGVydGllczonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBzaWRlYmFyIHN0YXRlIGNoYW5nZVxuICBjb25zdCBoYW5kbGVTaWRlYmFyU3RhdGVDaGFuZ2UgPSAoc3RhdGUpID0+IHtcbiAgICBzZXRTaWRlYmFyU3RhdGUoc3RhdGUpO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGJhdGNoIGdlb2NvZGUgcHJvcGVydGllcyB3aXRoIG1pc3NpbmcgY29vcmRpbmF0ZXNcbiAgYXN5bmMgZnVuY3Rpb24gYmF0Y2hHZW9jb2RlUHJvcGVydGllcygpIHtcbiAgICB0cnkge1xuICAgICAgc2V0R2VvY29kaW5nKHRydWUpO1xuICAgICAgY2xlYXJHZW9jb2RpbmdMb2dzKCk7XG4gICAgICBzZXRTaG93R2VvY29kaW5nTG9ncyh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gRmlsdGVyIHByb3BlcnRpZXMgdGhhdCBuZWVkIGdlb2NvZGluZ1xuICAgICAgY29uc3QgcHJvcHNUb0dlb2NvZGUgPSBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IFxuICAgICAgICAhcC5sYXRpdHVkZSB8fCAhcC5sb25naXR1ZGUgfHwgXG4gICAgICAgIHAubGF0aXR1ZGUgPT09IDAgfHwgcC5sb25naXR1ZGUgPT09IDAgfHxcbiAgICAgICAgcC5fY29vcmRpbmF0ZXNfbWlzc2luZyB8fCBwLl9uZWVkc19nZW9jb2RpbmcgfHxcbiAgICAgICAgcC5faXNfZ3JpZF9wYXR0ZXJuXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAocHJvcHNUb0dlb2NvZGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGFkZEdlb2NvZGluZ0xvZygnTm8gcHJvcGVydGllcyBuZWVkIGdlb2NvZGluZycsICdpbmZvJyk7XG4gICAgICAgIGFsZXJ0KCdObyBwcm9wZXJ0aWVzIG5lZWQgZ2VvY29kaW5nJyk7XG4gICAgICAgIHNldEdlb2NvZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ29uZmlybSB3aXRoIHVzZXJcbiAgICAgIGFkZEdlb2NvZGluZ0xvZyhgRm91bmQgJHtwcm9wc1RvR2VvY29kZS5sZW5ndGh9IHByb3BlcnRpZXMgdGhhdCBuZWVkIGdlb2NvZGluZ2AsICdpbmZvJyk7XG4gICAgICBpZiAoIWNvbmZpcm0oYFRoaXMgd2lsbCBhdHRlbXB0IHRvIGdlb2NvZGUgJHtwcm9wc1RvR2VvY29kZS5sZW5ndGh9IHByb3BlcnRpZXMgd2l0aCBtaXNzaW5nIG9yIGludmFsaWQgY29vcmRpbmF0ZXMuIENvbnRpbnVlP2ApKSB7XG4gICAgICAgIGFkZEdlb2NvZGluZ0xvZygnR2VvY29kaW5nIGNhbmNlbGxlZCBieSB1c2VyJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgc2V0R2VvY29kaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBhZGRHZW9jb2RpbmdMb2coYFN0YXJ0aW5nIGJhdGNoIGdlb2NvZGluZyBvZiAke3Byb3BzVG9HZW9jb2RlLmxlbmd0aH0gcHJvcGVydGllc2AsICdpbmZvJyk7XG4gICAgICBcbiAgICAgIC8vIFByb2Nlc3MgaW4gYmF0Y2hlcyBvZiAyNSB0byBhdm9pZCByYXRlIGxpbWl0c1xuICAgICAgY29uc3QgYmF0Y2hTaXplID0gMjU7XG4gICAgICBjb25zdCBiYXRjaGVzID0gTWF0aC5jZWlsKHByb3BzVG9HZW9jb2RlLmxlbmd0aCAvIGJhdGNoU2l6ZSk7XG4gICAgICBsZXQgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgIGxldCBmYWlsQ291bnQgPSAwO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoZXM7IGkrKykge1xuICAgICAgICBjb25zdCBzdGFydCA9IGkgKiBiYXRjaFNpemU7XG4gICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgYmF0Y2hTaXplLCBwcm9wc1RvR2VvY29kZS5sZW5ndGgpO1xuICAgICAgICBjb25zdCBiYXRjaCA9IHByb3BzVG9HZW9jb2RlLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICBcbiAgICAgICAgYWRkR2VvY29kaW5nTG9nKGBQcm9jZXNzaW5nIGJhdGNoICR7aSsxfS8ke2JhdGNoZXN9ICgke2JhdGNoLmxlbmd0aH0gcHJvcGVydGllcylgLCAnaW5mbycpO1xuICAgICAgICBjb25zb2xlLmxvZyhgUHJvY2Vzc2luZyBiYXRjaCAke2krMX0vJHtiYXRjaGVzfSAoJHtiYXRjaC5sZW5ndGh9IHByb3BlcnRpZXMpYCk7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEZvciBlYWNoIHByb3BlcnR5IGluIHRoZSBiYXRjaCwgbG9nIHRoZSBwcm9wZXJ0eSBiZWluZyBwcm9jZXNzZWRcbiAgICAgICAgICBiYXRjaC5mb3JFYWNoKChwcm9wZXJ0eSwgaWR4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eS5uYW1lIHx8IGBQcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH1gO1xuICAgICAgICAgICAgYWRkR2VvY29kaW5nTG9nKGBbJHtpKzF9LiR7aWR4KzF9XSBRdWV1aW5nICR7cHJvcGVydHlOYW1lfWAsICdkZXRhaWwnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBnZW9jb2RlZEJhdGNoID0gYXdhaXQgZW5oYW5jZWRHZW9jb2RlUHJvcGVydGllcyhiYXRjaCwgKHByb3BlcnR5LCBzdGF0dXMsIGRldGFpbHMpID0+IHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIHByb3BlcnR5IGFzIGl0J3MgcHJvY2Vzc2VkXG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eS5uYW1lIHx8IGBQcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH1gO1xuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgIGFkZEdlb2NvZGluZ0xvZyhgR2VvY29kZWQ6ICR7cHJvcGVydHlOYW1lfSAoJHtkZXRhaWxzfSlgLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgYWRkR2VvY29kaW5nTG9nKGBGYWlsZWQ6ICR7cHJvcGVydHlOYW1lfSAoJHtkZXRhaWxzfSlgLCAnZXJyb3InKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFkZEdlb2NvZGluZ0xvZyhgJHtzdGF0dXN9OiAke3Byb3BlcnR5TmFtZX0gJHtkZXRhaWxzID8gYCgke2RldGFpbHN9KWAgOiAnJ31gLCAnaW5mbycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvdW50IHN1Y2Nlc3NlcyBhbmQgZmFpbHVyZXNcbiAgICAgICAgICBjb25zdCBiYXRjaFN1Y2Nlc3MgPSBnZW9jb2RlZEJhdGNoLmZpbHRlcihwID0+IHAuX2dlb2NvZGVkKS5sZW5ndGg7XG4gICAgICAgICAgY29uc3QgYmF0Y2hGYWlsID0gZ2VvY29kZWRCYXRjaC5maWx0ZXIocCA9PiBwLl9nZW9jb2RpbmdfZmFpbGVkKS5sZW5ndGg7XG4gICAgICAgICAgXG4gICAgICAgICAgc3VjY2Vzc0NvdW50ICs9IGJhdGNoU3VjY2VzcztcbiAgICAgICAgICBmYWlsQ291bnQgKz0gYmF0Y2hGYWlsO1xuICAgICAgICAgIFxuICAgICAgICAgIGFkZEdlb2NvZGluZ0xvZyhgQmF0Y2ggJHtpKzF9IGNvbXBsZXRlOiAke2JhdGNoU3VjY2Vzc30gc3VjY2Vzc2VzLCAke2JhdGNoRmFpbH0gZmFpbHVyZXNgLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hTdWNjZXNzID4gYmF0Y2hGYWlsID8gJ3N1Y2Nlc3MnIDogJ3dhcm5pbmcnKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBNZXJnZSBnZW9jb2RlZCBwcm9wZXJ0aWVzIGJhY2sgaW50byB0aGUgbWFpbiBhcnJheVxuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9wZXJ0aWVzID0gWy4uLnByb3BlcnRpZXNdO1xuICAgICAgICAgIGdlb2NvZGVkQmF0Y2guZm9yRWFjaChnZW9jb2RlZFByb3AgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB1cGRhdGVkUHJvcGVydGllcy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBnZW9jb2RlZFByb3AuaWQpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICB1cGRhdGVkUHJvcGVydGllc1tpbmRleF0gPSBnZW9jb2RlZFByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBwcm9wZXJ0aWVzIHN0YXRlXG4gICAgICAgICAgc2V0UHJvcGVydGllcyh1cGRhdGVkUHJvcGVydGllcyk7XG4gICAgICAgICAgY2FsY3VsYXRlU3RhdHModXBkYXRlZFByb3BlcnRpZXMpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFdhaXQgYSBiaXQgYmV0d2VlbiBiYXRjaGVzIHRvIGF2b2lkIHJhdGUgbGltaXRzXG4gICAgICAgICAgaWYgKGkgPCBiYXRjaGVzIC0gMSkge1xuICAgICAgICAgICAgYWRkR2VvY29kaW5nTG9nKGBXYWl0aW5nIDIgc2Vjb25kcyBiZWZvcmUgbmV4dCBiYXRjaCB0byBhdm9pZCByYXRlIGxpbWl0c2AsICdpbmZvJyk7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBnZW9jb2RpbmcgYmF0Y2ggJHtpKzF9OmAsIGVycm9yKTtcbiAgICAgICAgICBhZGRHZW9jb2RpbmdMb2coYEVycm9yIHdpdGggYmF0Y2ggJHtpKzF9OiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJyk7XG4gICAgICAgICAgZmFpbENvdW50ICs9IGJhdGNoLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBhZGRHZW9jb2RpbmdMb2coYEdlb2NvZGluZyBjb21wbGV0ZTogJHtzdWNjZXNzQ291bnR9IHN1Y2Nlc3NlcywgJHtmYWlsQ291bnR9IGZhaWx1cmVzYCwgXG4gICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NvdW50ID4gZmFpbENvdW50ID8gJ3N1Y2Nlc3MnIDogJ2Vycm9yJyk7XG4gICAgICBcbiAgICAgIGFsZXJ0KGBHZW9jb2RpbmcgY29tcGxldGU6XFxuXFxuJHtzdWNjZXNzQ291bnR9IHByb3BlcnRpZXMgc3VjY2Vzc2Z1bGx5IGdlb2NvZGVkXFxuJHtmYWlsQ291bnR9IHByb3BlcnRpZXMgZmFpbGVkIHRvIGdlb2NvZGVgKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBiYXRjaCBnZW9jb2Rpbmc6JywgZXJyb3IpO1xuICAgICAgYWRkR2VvY29kaW5nTG9nKGBHZW9jb2RpbmcgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLCAnZXJyb3InKTtcbiAgICAgIGFsZXJ0KGBFcnJvciBnZW9jb2RpbmcgcHJvcGVydGllczogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRHZW9jb2RpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1blByb3BlcnR5QW5hbHlzaXMoKSB7XG4gICAgLy8gQ291bnQgcHJvcGVydGllcyBhdCBpZGVudGljYWwgY29vcmRpbmF0ZXNcbiAgICBjb25zdCBjb29yZE1hcCA9IG5ldyBNYXAoKTtcbiAgICBsZXQgZHVwbGljYXRlZENvb3JkcyA9IDA7XG4gICAgXG4gICAgcHJvcGVydGllcy5mb3JFYWNoKHAgPT4ge1xuICAgICAgaWYgKHAubGF0aXR1ZGUgJiYgcC5sb25naXR1ZGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRLZXkgPSBgJHtwLmxhdGl0dWRlfSwke3AubG9uZ2l0dWRlfWA7XG4gICAgICAgIGlmIChjb29yZE1hcC5oYXMoY29vcmRLZXkpKSB7XG4gICAgICAgICAgY29vcmRNYXAuc2V0KGNvb3JkS2V5LCBjb29yZE1hcC5nZXQoY29vcmRLZXkpICsgMSk7XG4gICAgICAgICAgZHVwbGljYXRlZENvb3JkcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvb3JkTWFwLnNldChjb29yZEtleSwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBGaW5kIGNvb3JkaW5hdGVzIHdpdGggbXVsdGlwbGUgcHJvcGVydGllc1xuICAgIGNvbnN0IG11bHRpcGxlUHJvcHNMb2NhdGlvbnMgPSBBcnJheS5mcm9tKGNvb3JkTWFwLmVudHJpZXMoKSlcbiAgICAgIC5maWx0ZXIoKFtfLCBjb3VudF0pID0+IGNvdW50ID4gMSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiWzFdIC0gYVsxXSk7IC8vIFNvcnQgYnkgY291bnQgZGVzY2VuZGluZ1xuICAgIFxuICAgIGNvbnN0IG11bHRpcGxlUHJvcHNDb3VudCA9IG11bHRpcGxlUHJvcHNMb2NhdGlvbnMucmVkdWNlKChzdW0sIFtfLCBjb3VudF0pID0+IHN1bSArIGNvdW50LCAwKTtcbiAgICBjb25zdCB1bmlxdWVMb2NhdGlvbnMgPSBjb29yZE1hcC5zaXplO1xuICAgIFxuICAgIC8vIENvdW50IGJ5IGdlb2NvZGluZyBzb3VyY2UgaWYgYXZhaWxhYmxlXG4gICAgY29uc3QgYnlTb3VyY2UgPSB7XG4gICAgICBleGlzdGluZzogcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLl9nZW9jb2Rpbmdfc291cmNlID09PSAnZXhpc3RpbmcnKS5sZW5ndGgsXG4gICAgICB2ZXJpZmllZF9hZGRyZXNzOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAuX2dlb2NvZGluZ19zb3VyY2UgPT09ICd2ZXJpZmllZF9hZGRyZXNzJykubGVuZ3RoLFxuICAgICAgZnVsbF9hZGRyZXNzOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAuX2dlb2NvZGluZ19zb3VyY2UgPT09ICdmdWxsX2FkZHJlc3MnKS5sZW5ndGgsXG4gICAgICBwcm9wZXJ0eV9uYW1lOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAuX2dlb2NvZGluZ19zb3VyY2UgPT09ICdwcm9wZXJ0eV9uYW1lJykubGVuZ3RoLFxuICAgICAgdW5rbm93bjogcHJvcGVydGllcy5maWx0ZXIocCA9PiBwLmxhdGl0dWRlICYmIHAubG9uZ2l0dWRlICYmICFwLl9nZW9jb2Rpbmdfc291cmNlKS5sZW5ndGhcbiAgICB9O1xuICAgIFxuICAgIGFsZXJ0KFxuICAgICAgYE1hcCBQcm9wZXJ0aWVzIEFuYWx5c2lzOlxcblxcbmAgK1xuICAgICAgYC0gVG90YWwgcHJvcGVydGllczogJHtwcm9wZXJ0aWVzLmxlbmd0aH1cXG5gICtcbiAgICAgIGAtIFByb3BlcnRpZXMgd2l0aCBpbnZhbGlkIGNvb3JkaW5hdGVzOiAke2RhdGFTdGF0cy5pbnZhbGlkQ29vcmRpbmF0ZXN9XFxuYCArXG4gICAgICBgICAg4oCiIE1pc3NpbmcgY29vcmRpbmF0ZXM6ICR7ZGF0YVN0YXRzLm1pc3NpbmdDb29yZGluYXRlc31cXG5gICtcbiAgICAgIGAgICDigKIgWmVybyBjb29yZGluYXRlczogJHtkYXRhU3RhdHMuemVyb0Nvb3JkaW5hdGVzfVxcbmAgK1xuICAgICAgYCAgIOKAoiBJbnZhbGlkIGNvb3JkaW5hdGUgcmFuZ2U6ICR7ZGF0YVN0YXRzLmludmFsaWRSYW5nZX1cXG5cXG5gICtcbiAgICAgIGAtIFVuaXF1ZSBsb2NhdGlvbnMgb24gbWFwOiAke3VuaXF1ZUxvY2F0aW9uc31cXG5gICtcbiAgICAgIGAtIFByb3BlcnRpZXMgc2hhcmluZyBleGFjdCBjb29yZGluYXRlczogJHtkdXBsaWNhdGVkQ29vcmRzfVxcbmAgK1xuICAgICAgYC0gTnVtYmVyIG9mIHNoYXJlZCBsb2NhdGlvbnM6ICR7bXVsdGlwbGVQcm9wc0xvY2F0aW9ucy5sZW5ndGh9XFxuXFxuYCArXG4gICAgICAobXVsdGlwbGVQcm9wc0xvY2F0aW9ucy5sZW5ndGggPiAwID8gXG4gICAgICAgIGBUb3Agc2hhcmVkIGxvY2F0aW9uczpcXG5gICtcbiAgICAgICAgbXVsdGlwbGVQcm9wc0xvY2F0aW9ucy5zbGljZSgwLCA1KS5tYXAoKFtjb29yZHMsIGNvdW50XSkgPT4gXG4gICAgICAgICAgYCAgIOKAoiAke2NvdW50fSBwcm9wZXJ0aWVzIGF0ICR7Y29vcmRzfWBcbiAgICAgICAgKS5qb2luKCdcXG4nKSA6ICcnKSArXG4gICAgICBgXFxuXFxuYCArXG4gICAgICBgR2VvY29kaW5nIHNvdXJjZXM6XFxuYCArXG4gICAgICBgICAg4oCiIEV4aXN0aW5nIHZhbGlkOiAke2J5U291cmNlLmV4aXN0aW5nfVxcbmAgK1xuICAgICAgYCAgIOKAoiBWZXJpZmllZCBhZGRyZXNzOiAke2J5U291cmNlLnZlcmlmaWVkX2FkZHJlc3N9XFxuYCArXG4gICAgICBgICAg4oCiIEZ1bGwgYWRkcmVzczogJHtieVNvdXJjZS5mdWxsX2FkZHJlc3N9XFxuYCArXG4gICAgICBgICAg4oCiIFByb3BlcnR5IG5hbWU6ICR7YnlTb3VyY2UucHJvcGVydHlfbmFtZX1cXG5gICtcbiAgICAgIGAgICDigKIgVW5rbm93biBzb3VyY2U6ICR7YnlTb3VyY2UudW5rbm93bn1cXG5cXG5gICtcbiAgICAgIGBOb3RlOiBQcm9wZXJ0aWVzIGF0IGlkZW50aWNhbCBjb29yZGluYXRlcyB3aWxsIGFwcGVhciBhcyBhIHNpbmdsZSBtYXJrZXIgdW50aWwgY2xpY2tlZC5gXG4gICAgKTtcbiAgfVxuXG4gIC8vIEZ1bmN0aW9uIHRvIGNsZWFuIHByb3BlcnR5IGRhdGFcbiAgYXN5bmMgZnVuY3Rpb24gY2xlYW5Qcm9wZXJ0eURhdGEoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFN0YXJ0IHRoZSBjbGVhbmluZyBwcm9jZXNzXG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0Q2xlYW5pbmcodHJ1ZSk7XG4gICAgICBjbGVhckNsZWFuaW5nTG9ncygpO1xuICAgICAgc2V0U2hvd0NsZWFuaW5nTG9ncyh0cnVlKTtcbiAgICAgIFxuICAgICAgYWRkQ2xlYW5pbmdMb2coXCJTdGFydGluZyBkYXRhIGNsZWFuaW5nIHByb2Nlc3MuLi5cIiwgXCJpbmZvXCIpO1xuICAgICAgXG4gICAgICAvLyBGaXJzdCwgYW5hbHl6ZSB0aGUgZGF0YSB0byBpZGVudGlmeSBpc3N1ZXNcbiAgICAgIGFkZENsZWFuaW5nTG9nKFwiQW5hbHl6aW5nIHByb3BlcnRpZXMgZm9yIGRhdGEgcXVhbGl0eSBpc3N1ZXMuLi5cIiwgXCJpbmZvXCIpO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhSXNzdWVzID0ge1xuICAgICAgICBtaXNzaW5nTmFtZXM6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gIXAubmFtZSB8fCBwLm5hbWUudHJpbSgpID09PSAnJykubGVuZ3RoLFxuICAgICAgICBpbmNvbXBsZXRlQWRkcmVzc2VzOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAuYWRkcmVzcyAmJiAoIXAuY2l0eSB8fCAhcC5zdGF0ZSkpLmxlbmd0aCxcbiAgICAgICAgc3VzcGljaW91c1plcm9zOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IFxuICAgICAgICAgIChwLnVuaXRzID09PSAwIHx8IHAubnVtX3VuaXRzID09PSAwKVxuICAgICAgICApLmxlbmd0aCxcbiAgICAgICAgc3VzcGljaW91c0Nvb3JkaW5hdGVzOiBwcm9wZXJ0aWVzLmZpbHRlcihwID0+IHtcbiAgICAgICAgICAvLyBDaGVjayBmb3Igc3VzcGljaW91cyBwYXR0ZXJucyBpbiBjb29yZGluYXRlc1xuICAgICAgICAgIGlmICghcC5sYXRpdHVkZSB8fCAhcC5sb25naXR1ZGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBsYXRTdHIgPSBTdHJpbmcocC5sYXRpdHVkZSk7XG4gICAgICAgICAgY29uc3QgbG5nU3RyID0gU3RyaW5nKHAubG9uZ2l0dWRlKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBmb3IgdmVyeSBsb3cgcHJlY2lzaW9uIG9yIHN1c3BpY2lvdXMgcGF0dGVybnNcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGxhdFN0ci5pbmNsdWRlcygnLicpICYmIGxhdFN0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA8PSAyKSB8fFxuICAgICAgICAgICAgKGxuZ1N0ci5pbmNsdWRlcygnLicpICYmIGxuZ1N0ci5zcGxpdCgnLicpWzFdLmxlbmd0aCA8PSAyKSB8fFxuICAgICAgICAgICAgbGF0U3RyID09PSBsbmdTdHIgfHwgLy8gU2FtZSBsYXQvbG5nIGlzIHN1c3BpY2lvdXNcbiAgICAgICAgICAgIGxhdFN0ci5lbmRzV2l0aCgnMDAwMDAnKSB8fCBcbiAgICAgICAgICAgIGxuZ1N0ci5lbmRzV2l0aCgnMDAwMDAnKSB8fFxuICAgICAgICAgICAgbGF0U3RyLmVuZHNXaXRoKCcuMCcpIHx8XG4gICAgICAgICAgICBsbmdTdHIuZW5kc1dpdGgoJy4wJykgfHxcbiAgICAgICAgICAgIGxhdFN0ci5lbmRzV2l0aCgnLjUnKSB8fCBcbiAgICAgICAgICAgIGxuZ1N0ci5lbmRzV2l0aCgnLjUnKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pLmxlbmd0aCxcbiAgICAgICAgZHVwbGljYXRlTmFtZXM6IGZpbmREdXBsaWNhdGVzKHByb3BlcnRpZXMsICduYW1lJyksXG4gICAgICAgIGR1cGxpY2F0ZUFkZHJlc3NlczogZmluZER1cGxpY2F0ZXMocHJvcGVydGllcywgJ2FkZHJlc3MnKSxcbiAgICAgICAgdGVzdFByb3BlcnRpZXM6IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gXG4gICAgICAgICAgKHAubmFtZSAmJiBwLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndGVzdCcpKSB8fCBcbiAgICAgICAgICAocC5uYW1lICYmIHAubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdleGFtcGxlJykpIHx8XG4gICAgICAgICAgKHAuYWRkcmVzcyAmJiBwLmFkZHJlc3MudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndGVzdCcpKSB8fCBcbiAgICAgICAgICBwLl9pc190ZXN0X3Byb3BlcnR5XG4gICAgICAgICkubGVuZ3RoXG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCB0b3RhbElzc3VlcyA9IGRhdGFJc3N1ZXMubWlzc2luZ05hbWVzICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJc3N1ZXMuaW5jb21wbGV0ZUFkZHJlc3NlcyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXNzdWVzLnN1c3BpY2lvdXNaZXJvcyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXNzdWVzLnN1c3BpY2lvdXNDb29yZGluYXRlcyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXNzdWVzLmR1cGxpY2F0ZU5hbWVzLmxlbmd0aCArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhSXNzdWVzLmR1cGxpY2F0ZUFkZHJlc3Nlcy5sZW5ndGggKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUlzc3Vlcy50ZXN0UHJvcGVydGllcztcbiAgICAgIFxuICAgICAgLy8gTG9nIGFuYWx5c2lzIHJlc3VsdHNcbiAgICAgIGFkZENsZWFuaW5nTG9nKGBBbmFseXNpcyBmb3VuZCAke3RvdGFsSXNzdWVzfSBkYXRhIHF1YWxpdHkgaXNzdWVzOmAsIFwiaW5mb1wiKTtcbiAgICAgIGFkZENsZWFuaW5nTG9nKGAtICR7ZGF0YUlzc3Vlcy5taXNzaW5nTmFtZXN9IHByb3BlcnRpZXMgbWlzc2luZyBuYW1lc2AsIFwiZGV0YWlsXCIpO1xuICAgICAgYWRkQ2xlYW5pbmdMb2coYC0gJHtkYXRhSXNzdWVzLmluY29tcGxldGVBZGRyZXNzZXN9IHByb3BlcnRpZXMgd2l0aCBpbmNvbXBsZXRlIGFkZHJlc3Nlc2AsIFwiZGV0YWlsXCIpO1xuICAgICAgYWRkQ2xlYW5pbmdMb2coYC0gJHtkYXRhSXNzdWVzLnN1c3BpY2lvdXNaZXJvc30gcHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgemVybyB2YWx1ZXNgLCBcImRldGFpbFwiKTtcbiAgICAgIGFkZENsZWFuaW5nTG9nKGAtICR7ZGF0YUlzc3Vlcy5zdXNwaWNpb3VzQ29vcmRpbmF0ZXN9IHByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIGNvb3JkaW5hdGVzYCwgXCJkZXRhaWxcIik7XG4gICAgICBhZGRDbGVhbmluZ0xvZyhgLSAke2RhdGFJc3N1ZXMuZHVwbGljYXRlTmFtZXMubGVuZ3RofSBkdXBsaWNhdGUgcHJvcGVydHkgbmFtZXNgLCBcImRldGFpbFwiKTtcbiAgICAgIGFkZENsZWFuaW5nTG9nKGAtICR7ZGF0YUlzc3Vlcy5kdXBsaWNhdGVBZGRyZXNzZXMubGVuZ3RofSBkdXBsaWNhdGUgYWRkcmVzc2VzYCwgXCJkZXRhaWxcIik7XG4gICAgICBhZGRDbGVhbmluZ0xvZyhgLSAke2RhdGFJc3N1ZXMudGVzdFByb3BlcnRpZXN9IHBvdGVudGlhbCB0ZXN0L2V4YW1wbGUgcHJvcGVydGllc2AsIFwiZGV0YWlsXCIpO1xuICAgICAgXG4gICAgICAvLyBObyBpc3N1ZXMgZm91bmRcbiAgICAgIGlmICh0b3RhbElzc3VlcyA9PT0gMCkge1xuICAgICAgICBhZGRDbGVhbmluZ0xvZygnTm8gZGF0YSBpc3N1ZXMgZm91bmQgdGhhdCBuZWVkIGNsZWFuaW5nJywgXCJzdWNjZXNzXCIpO1xuICAgICAgICBhbGVydCgnTm8gZGF0YSBpc3N1ZXMgZm91bmQgdGhhdCBuZWVkIGNsZWFuaW5nJyk7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBzZXRDbGVhbmluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ29uZmlybSB3aXRoIHVzZXJcbiAgICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oXG4gICAgICAgIGBGb3VuZCAke3RvdGFsSXNzdWVzfSBkYXRhIHF1YWxpdHkgaXNzdWVzOlxcblxcbmAgK1xuICAgICAgICBgLSAke2RhdGFJc3N1ZXMubWlzc2luZ05hbWVzfSBwcm9wZXJ0aWVzIG1pc3NpbmcgbmFtZXNcXG5gICtcbiAgICAgICAgYC0gJHtkYXRhSXNzdWVzLmluY29tcGxldGVBZGRyZXNzZXN9IHByb3BlcnRpZXMgd2l0aCBpbmNvbXBsZXRlIGFkZHJlc3Nlc1xcbmAgK1xuICAgICAgICBgLSAke2RhdGFJc3N1ZXMuc3VzcGljaW91c1plcm9zfSBwcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyB6ZXJvIHZhbHVlc1xcbmAgK1xuICAgICAgICBgLSAke2RhdGFJc3N1ZXMuc3VzcGljaW91c0Nvb3JkaW5hdGVzfSBwcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyBjb29yZGluYXRlc1xcbmAgK1xuICAgICAgICBgLSAke2RhdGFJc3N1ZXMuZHVwbGljYXRlTmFtZXMubGVuZ3RofSBkdXBsaWNhdGUgcHJvcGVydHkgbmFtZXNcXG5gICtcbiAgICAgICAgYC0gJHtkYXRhSXNzdWVzLmR1cGxpY2F0ZUFkZHJlc3Nlcy5sZW5ndGh9IGR1cGxpY2F0ZSBhZGRyZXNzZXNcXG5gICtcbiAgICAgICAgYC0gJHtkYXRhSXNzdWVzLnRlc3RQcm9wZXJ0aWVzfSBwb3RlbnRpYWwgdGVzdC9leGFtcGxlIHByb3BlcnRpZXNcXG5cXG5gICtcbiAgICAgICAgYFdvdWxkIHlvdSBsaWtlIHRvIGNsZWFuIHRoZXNlIGlzc3Vlcz9gXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoIWNvbmZpcm1hdGlvbikge1xuICAgICAgICBhZGRDbGVhbmluZ0xvZygnQ2xlYW5pbmcgY2FuY2VsbGVkIGJ5IHVzZXInLCBcIndhcm5pbmdcIik7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICBzZXRDbGVhbmluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gT3B0aW9uYWw6IG9mZmVyIGFkdmFuY2VkIG9wdGlvbnNcbiAgICAgIGNvbnN0IGFkdmFuY2VkT3B0aW9ucyA9IGNvbmZpcm0oXG4gICAgICAgIFwiV291bGQgeW91IGxpa2UgdG8gdXNlIGFkdmFuY2VkIGNsZWFuaW5nIG9wdGlvbnM/XFxuXFxuXCIgK1xuICAgICAgICBcIi0gRml4IG1pc3NpbmcgbmFtZXMgYW5kIGV4dHJhY3QgY2l0eS9zdGF0ZSBmcm9tIGFkZHJlc3Nlc1xcblwiICtcbiAgICAgICAgXCItIEZsYWcgc3VzcGljaW91cyBjb29yZGluYXRlcyBmb3IgZ2VvY29kaW5nXFxuXCIgK1xuICAgICAgICBcIi0gSWRlbnRpZnkgYW5kIGZsYWcgZHVwbGljYXRlIHByb3BlcnRpZXNcXG5cIiArXG4gICAgICAgIFwiLSBGbGFnIHRlc3QgcHJvcGVydGllcyBmb3IgZmlsdGVyaW5nXFxuXFxuXCIgK1xuICAgICAgICBcIlNlbGVjdCAnQ2FuY2VsJyBmb3IgYmFzaWMgY2xlYW5pbmcgb25seS5cIlxuICAgICAgKTtcbiAgICAgIFxuICAgICAgYWRkQ2xlYW5pbmdMb2coYFN0YXJ0aW5nICR7YWR2YW5jZWRPcHRpb25zID8gJ2FkdmFuY2VkJyA6ICdiYXNpYyd9IGNsZWFuaW5nIHByb2Nlc3MuLi5gLCBcImluZm9cIik7XG4gICAgICBcbiAgICAgIC8vIEFwcGx5IGZpeGVzIHRvIGEgY29weSBvZiB0aGUgcHJvcGVydGllc1xuICAgICAgY29uc3QgY2xlYW5lZFByb3BlcnRpZXMgPSBbLi4ucHJvcGVydGllc107XG4gICAgICBcbiAgICAgIC8vIENsZWFuIHByb3BlcnR5IG5hbWVzXG4gICAgICBsZXQgaXNzdWVzQ2xlYW5lZCA9IDA7XG4gICAgICBcbiAgICAgIGFkZENsZWFuaW5nTG9nKGBQcm9jZXNzaW5nICR7cHJvcGVydGllcy5sZW5ndGh9IHByb3BlcnRpZXMuLi5gLCBcImluZm9cIik7XG4gICAgICBcbiAgICAgIHByb3BlcnRpZXMuZm9yRWFjaCgocHJvcGVydHksIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCBwcm9wZXJ0eUNsZWFuZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNsZWFuaW5nTm90ZXMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZpeCBtaXNzaW5nIG5hbWVzIHVzaW5nIGFkZHJlc3NcbiAgICAgICAgaWYgKCFwcm9wZXJ0eS5uYW1lIHx8IHByb3BlcnR5Lm5hbWUudHJpbSgpID09PSAnJykge1xuICAgICAgICAgIGlmIChwcm9wZXJ0eS5hZGRyZXNzKSB7XG4gICAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0ubmFtZSA9IGBQcm9wZXJ0eSBhdCAke3Byb3BlcnR5LmFkZHJlc3Muc3BsaXQoJywnKVswXX1gO1xuICAgICAgICAgICAgYWRkQ2xlYW5pbmdMb2coYEdlbmVyYXRlZCBuYW1lIGZvciBwcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH06IFwiJHtjbGVhbmVkUHJvcGVydGllc1tpbmRleF0ubmFtZX1cImAsIFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLm5hbWUgPSBgVW5uYW1lZCBQcm9wZXJ0eSAke3Byb3BlcnR5LmlkLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDgpfWA7XG4gICAgICAgICAgICBhZGRDbGVhbmluZ0xvZyhgR2VuZXJhdGVkIGZhbGxiYWNrIG5hbWUgZm9yIHByb3BlcnR5ICMke3Byb3BlcnR5LmlkfTogXCIke2NsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5uYW1lfVwiYCwgXCJzdWNjZXNzXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcm9wZXJ0eUNsZWFuZWQgPSB0cnVlO1xuICAgICAgICAgIGNsZWFuaW5nTm90ZXMucHVzaCgnTWlzc2luZyBuYW1lIGZpeGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZpeCBtaXNzaW5nIGNpdHkvc3RhdGUgaWYgYWRkcmVzcyBleGlzdHNcbiAgICAgICAgaWYgKHByb3BlcnR5LmFkZHJlc3MgJiYgKCFwcm9wZXJ0eS5jaXR5IHx8ICFwcm9wZXJ0eS5zdGF0ZSkpIHtcbiAgICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBjaXR5IGFuZCBzdGF0ZSBmcm9tIGFkZHJlc3NcbiAgICAgICAgICBjb25zdCBhZGRyZXNzUGFydHMgPSBwcm9wZXJ0eS5hZGRyZXNzLnNwbGl0KCcsJykubWFwKHAgPT4gcC50cmltKCkpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChhZGRyZXNzUGFydHMubGVuZ3RoID49IDIgJiYgIXByb3BlcnR5LmNpdHkpIHtcbiAgICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5jaXR5ID0gYWRkcmVzc1BhcnRzW2FkZHJlc3NQYXJ0cy5sZW5ndGggLSAyXTtcbiAgICAgICAgICAgIGFkZENsZWFuaW5nTG9nKGBFeHRyYWN0ZWQgY2l0eSBcIiR7Y2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLmNpdHl9XCIgZm9yIHByb3BlcnR5ICMke3Byb3BlcnR5LmlkfWAsIFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgIHByb3BlcnR5Q2xlYW5lZCA9IHRydWU7XG4gICAgICAgICAgICBjbGVhbmluZ05vdGVzLnB1c2goJ0NpdHkgZXh0cmFjdGVkIGZyb20gYWRkcmVzcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoYWRkcmVzc1BhcnRzLmxlbmd0aCA+PSAxICYmICFwcm9wZXJ0eS5zdGF0ZSkge1xuICAgICAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3Qgc3RhdGUgZnJvbSB0aGUgbGFzdCBwYXJ0IG9mIHRoZSBhZGRyZXNzXG4gICAgICAgICAgICBjb25zdCBzdGF0ZVBhcnQgPSBhZGRyZXNzUGFydHNbYWRkcmVzc1BhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVNYXRjaCA9IHN0YXRlUGFydC5tYXRjaCgvW0EtWl17Mn0vKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZU1hdGNoKSB7XG4gICAgICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5zdGF0ZSA9IHN0YXRlTWF0Y2hbMF07XG4gICAgICAgICAgICAgIGFkZENsZWFuaW5nTG9nKGBFeHRyYWN0ZWQgc3RhdGUgXCIke2NsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5zdGF0ZX1cIiBmb3IgcHJvcGVydHkgIyR7cHJvcGVydHkuaWR9YCwgXCJzdWNjZXNzXCIpO1xuICAgICAgICAgICAgICBwcm9wZXJ0eUNsZWFuZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBjbGVhbmluZ05vdGVzLnB1c2goJ1N0YXRlIGV4dHJhY3RlZCBmcm9tIGFkZHJlc3MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZsYWcgc3VzcGljaW91cyBjb29yZGluYXRlcyBmb3IgYWR2YW5jZWQgY2xlYW5pbmdcbiAgICAgICAgaWYgKGFkdmFuY2VkT3B0aW9ucykge1xuICAgICAgICAgIGNvbnN0IGxhdFN0ciA9IFN0cmluZyhwcm9wZXJ0eS5sYXRpdHVkZSB8fCAnJyk7XG4gICAgICAgICAgY29uc3QgbG5nU3RyID0gU3RyaW5nKHByb3BlcnR5LmxvbmdpdHVkZSB8fCAnJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHN1c3BpY2lvdXMgcGF0dGVybnMgaW4gY29vcmRpbmF0ZXNcbiAgICAgICAgICBjb25zdCBoYXNMb3dQcmVjaXNpb24gPSBcbiAgICAgICAgICAgIChsYXRTdHIuaW5jbHVkZXMoJy4nKSAmJiBsYXRTdHIuc3BsaXQoJy4nKVsxXS5sZW5ndGggPD0gMikgfHxcbiAgICAgICAgICAgIChsbmdTdHIuaW5jbHVkZXMoJy4nKSAmJiBsbmdTdHIuc3BsaXQoJy4nKVsxXS5sZW5ndGggPD0gMik7XG4gICAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBoYXNTdXNwaWNpb3VzUGF0dGVybiA9IFxuICAgICAgICAgICAgbGF0U3RyID09PSBsbmdTdHIgfHwgLy8gU2FtZSBsYXQvbG5nIGlzIHZlcnkgdW5saWtlbHlcbiAgICAgICAgICAgIGxhdFN0ci5lbmRzV2l0aCgnMDAwMDAnKSB8fCBcbiAgICAgICAgICAgIGxuZ1N0ci5lbmRzV2l0aCgnMDAwMDAnKSB8fFxuICAgICAgICAgICAgbGF0U3RyLmVuZHNXaXRoKCcuMCcpIHx8XG4gICAgICAgICAgICBsbmdTdHIuZW5kc1dpdGgoJy4wJykgfHxcbiAgICAgICAgICAgIGxhdFN0ci5lbmRzV2l0aCgnLjUnKSB8fCBcbiAgICAgICAgICAgIGxuZ1N0ci5lbmRzV2l0aCgnLjUnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIGlmIChoYXNMb3dQcmVjaXNpb24gfHwgaGFzU3VzcGljaW91c1BhdHRlcm4pIHtcbiAgICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5faXNfZ3JpZF9wYXR0ZXJuID0gdHJ1ZTtcbiAgICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5fbmVlZHNfZ2VvY29kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGFkZENsZWFuaW5nTG9nKGBGbGFnZ2VkIHN1c3BpY2lvdXMgY29vcmRpbmF0ZXMgKCR7bGF0U3RyfSwgJHtsbmdTdHJ9KSBmb3IgcHJvcGVydHkgIyR7cHJvcGVydHkuaWR9YCwgXCJ3YXJuaW5nXCIpO1xuICAgICAgICAgICAgcHJvcGVydHlDbGVhbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNsZWFuaW5nTm90ZXMucHVzaCgnRmxhZ2dlZCBzdXNwaWNpb3VzIGNvb3JkaW5hdGVzIGZvciBnZW9jb2RpbmcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZsYWcgdGVzdCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmICgocHJvcGVydHkubmFtZSAmJiBwcm9wZXJ0eS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Rlc3QnKSkgfHwgXG4gICAgICAgICAgICAocHJvcGVydHkubmFtZSAmJiBwcm9wZXJ0eS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2V4YW1wbGUnKSkgfHxcbiAgICAgICAgICAgIChwcm9wZXJ0eS5hZGRyZXNzICYmIHByb3BlcnR5LmFkZHJlc3MudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndGVzdCcpKSkge1xuICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5faXNfdGVzdF9wcm9wZXJ0eSA9IHRydWU7XG4gICAgICAgICAgYWRkQ2xlYW5pbmdMb2coYEZsYWdnZWQgdGVzdCBwcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH06IFwiJHtwcm9wZXJ0eS5uYW1lfVwiYCwgXCJ3YXJuaW5nXCIpO1xuICAgICAgICAgIHByb3BlcnR5Q2xlYW5lZCA9IHRydWU7XG4gICAgICAgICAgY2xlYW5pbmdOb3Rlcy5wdXNoKCdGbGFnZ2VkIGFzIHRlc3QgcHJvcGVydHknKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRmxhZyBzdXNwaWNpb3VzIHplcm9zIGZvciBhZHZhbmNlZCBjbGVhbmluZ1xuICAgICAgICBpZiAoYWR2YW5jZWRPcHRpb25zICYmIChwcm9wZXJ0eS51bml0cyA9PT0gMCB8fCBwcm9wZXJ0eS5udW1fdW5pdHMgPT09IDApKSB7XG4gICAgICAgICAgLy8gV2UnbGwganVzdCBmbGFnIHRoZXNlIGZvciBub3csIG1hbnVhbCByZXZpZXcgaXMgbmVlZGVkXG4gICAgICAgICAgaWYgKCFjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uX2RhdGFfcXVhbGl0eV9pc3N1ZXMpIHtcbiAgICAgICAgICAgIGNsZWFuZWRQcm9wZXJ0aWVzW2luZGV4XS5fZGF0YV9xdWFsaXR5X2lzc3VlcyA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uX2RhdGFfcXVhbGl0eV9pc3N1ZXMucHVzaCgnemVyb191bml0cycpO1xuICAgICAgICAgIGFkZENsZWFuaW5nTG9nKGBGbGFnZ2VkIHplcm8gdW5pdHMgZm9yIHByb3BlcnR5ICMke3Byb3BlcnR5LmlkfWAsIFwid2FybmluZ1wiKTtcbiAgICAgICAgICBwcm9wZXJ0eUNsZWFuZWQgPSB0cnVlO1xuICAgICAgICAgIGNsZWFuaW5nTm90ZXMucHVzaCgnRmxhZ2dlZCB6ZXJvIHVuaXRzJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9wZXJ0eSB3aXRoIGNsZWFuaW5nIGluZm9ybWF0aW9uXG4gICAgICAgIGlmIChwcm9wZXJ0eUNsZWFuZWQpIHtcbiAgICAgICAgICBjbGVhbmVkUHJvcGVydGllc1tpbmRleF0uX2RhdGFfY2xlYW5lZCA9IHRydWU7XG4gICAgICAgICAgY2xlYW5lZFByb3BlcnRpZXNbaW5kZXhdLl9jbGVhbmluZ19ub3RlcyA9IGNsZWFuaW5nTm90ZXMuam9pbignLCAnKTtcbiAgICAgICAgICBpc3N1ZXNDbGVhbmVkKys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhZGRDbGVhbmluZ0xvZyhgRmluaXNoZWQgcHJvY2Vzc2luZy4gQ2xlYW5lZCAke2lzc3Vlc0NsZWFuZWR9IHByb3BlcnRpZXMuYCwgXCJzdWNjZXNzXCIpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdGUgd2l0aCBjbGVhbmVkIHByb3BlcnRpZXNcbiAgICAgIGFkZENsZWFuaW5nTG9nKFwiVXBkYXRpbmcgcHJvcGVydHkgZGF0YSB3aXRoIGNsZWFuZWQgdmFsdWVzLi4uXCIsIFwiaW5mb1wiKTtcbiAgICAgIHNldFByb3BlcnRpZXMoY2xlYW5lZFByb3BlcnRpZXMpO1xuICAgICAgY2FsY3VsYXRlU3RhdHMoY2xlYW5lZFByb3BlcnRpZXMpO1xuICAgICAgXG4gICAgICAvLyBBbGVydCB1c2VyIG9mIHJlc3VsdHNcbiAgICAgIGFkZENsZWFuaW5nTG9nKFwiRGF0YSBjbGVhbmluZyBjb21wbGV0ZSFcIiwgXCJzdWNjZXNzXCIpO1xuICAgICAgYWxlcnQoXG4gICAgICAgIGBEYXRhIGNsZWFuaW5nIGNvbXBsZXRlIVxcblxcbmAgK1xuICAgICAgICBgLSAke2lzc3Vlc0NsZWFuZWR9IHByb3BlcnRpZXMgd2VyZSBjbGVhbmVkXFxuYCArXG4gICAgICAgIGAtIEFkZGVkIG5hbWVzIHRvICR7ZGF0YUlzc3Vlcy5taXNzaW5nTmFtZXN9IHByb3BlcnRpZXNcXG5gICtcbiAgICAgICAgYC0gRXh0cmFjdGVkIGNpdHkvc3RhdGUgZm9yICR7ZGF0YUlzc3Vlcy5pbmNvbXBsZXRlQWRkcmVzc2VzfSBwcm9wZXJ0aWVzXFxuYCArXG4gICAgICAgIGAtIEZsYWdnZWQgJHtkYXRhSXNzdWVzLnN1c3BpY2lvdXNDb29yZGluYXRlc30gc3VzcGljaW91cyBjb29yZGluYXRlcyBmb3IgZ2VvY29kaW5nXFxuYCArXG4gICAgICAgIGAtIElkZW50aWZpZWQgJHtkYXRhSXNzdWVzLmR1cGxpY2F0ZU5hbWVzLmxlbmd0aH0gZHVwbGljYXRlIG5hbWVzXFxuYCArXG4gICAgICAgIGAtIEZsYWdnZWQgJHtkYXRhSXNzdWVzLnRlc3RQcm9wZXJ0aWVzfSB0ZXN0IHByb3BlcnRpZXNcXG5cXG5gICtcbiAgICAgICAgYE5leHQgc3RlcHM6XFxuYCArXG4gICAgICAgIGAxLiBVc2UgXCJCYXRjaCBHZW9jb2RlXCIgdG8gZml4IGZsYWdnZWQgY29vcmRpbmF0ZXNcXG5gICtcbiAgICAgICAgYDIuIFVzZSBcIlByb3BlcnRpZXMgQW5hbHlzaXNcIiB0byByZXZpZXcgZGF0YSBxdWFsaXR5XFxuYCArXG4gICAgICAgIGAzLiBTb21lIHByb3BlcnRpZXMgc3RpbGwgcmVxdWlyZSBtYW51YWwgcmV2aWV3YFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2xlYW5pbmcgcHJvcGVydHkgZGF0YTonLCBlcnJvcik7XG4gICAgICBhZGRDbGVhbmluZ0xvZyhgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLCBcImVycm9yXCIpO1xuICAgICAgYWxlcnQoYEVycm9yIGNsZWFuaW5nIGRhdGE6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICBzZXRDbGVhbmluZyhmYWxzZSk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZmluZCBkdXBsaWNhdGVzIGluIHByb3BlcnRpZXMgYnkgZmllbGRcbiAgZnVuY3Rpb24gZmluZER1cGxpY2F0ZXMoYXJyYXksIGtleSkge1xuICAgIGNvbnN0IGNvdW50cyA9IHt9O1xuICAgIGNvbnN0IGR1cGxpY2F0ZXMgPSBbXTtcbiAgICBcbiAgICAvLyBTa2lwIGVudHJpZXMgd2l0aCBlbXB0eSB2YWx1ZXNcbiAgICBhcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW1ba2V5XSAmJiBpdGVtW2tleV0udHJpbSgpICE9PSAnJykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGl0ZW1ba2V5XS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgICAgY291bnRzW3ZhbHVlXSA9IChjb3VudHNbdmFsdWVdIHx8IDApICsgMTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBGaW5kIHZhbHVlcyB0aGF0IGFwcGVhciBtb3JlIHRoYW4gb25jZVxuICAgIE9iamVjdC5rZXlzKGNvdW50cykuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBpZiAoY291bnRzW3ZhbHVlXSA+IDEpIHtcbiAgICAgICAgZHVwbGljYXRlcy5wdXNoKHtcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBjb3VudDogY291bnRzW3ZhbHVlXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gZHVwbGljYXRlcztcbiAgfVxuXG4gIC8vIEZ1bmN0aW9uIHRvIGVucmljaCBwcm9wZXJ0eSBkYXRhIHdpdGggemVybyB2YWx1ZXNcbiAgYXN5bmMgZnVuY3Rpb24gZW5yaWNoUHJvcGVydHlEYXRhKCkge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RW5yaWNoaW5nKHRydWUpO1xuICAgICAgY2xlYXJFbnJpY2hpbmdMb2dzKCk7XG4gICAgICBzZXRTaG93RW5yaWNoaW5nTG9ncyh0cnVlKTtcbiAgICAgIFxuICAgICAgYWRkRW5yaWNoaW5nTG9nKFwiU3RhcnRpbmcgZGF0YSBlbnJpY2htZW50IHByb2Nlc3MuLi5cIiwgXCJpbmZvXCIpO1xuICAgICAgXG4gICAgICAvLyBJZGVudGlmeSBwcm9wZXJ0aWVzIHdpdGggc3VzcGljaW91cyB6ZXJvIHZhbHVlc1xuICAgICAgYWRkRW5yaWNoaW5nTG9nKFwiQW5hbHl6aW5nIHByb3BlcnRpZXMgZm9yIHN1c3BpY2lvdXMgemVybyB2YWx1ZXMuLi5cIiwgXCJpbmZvXCIpO1xuICAgICAgXG4gICAgICBjb25zdCBzdXNwaWNpb3VzUHJvcGVydGllcyA9IHByb3BlcnRpZXMuZmlsdGVyKHAgPT4gXG4gICAgICAgIChwLnVuaXRzID09PSAwIHx8IHAubnVtX3VuaXRzID09PSAwKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKHN1c3BpY2lvdXNQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBhZGRFbnJpY2hpbmdMb2coJ05vIHByb3BlcnRpZXMgd2l0aCBzdXNwaWNpb3VzIHplcm8gdmFsdWVzIGZvdW5kJywgXCJzdWNjZXNzXCIpO1xuICAgICAgICBhbGVydCgnTm8gcHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgemVybyB2YWx1ZXMgZm91bmQnKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldEVucmljaGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYWRkRW5yaWNoaW5nTG9nKGBGb3VuZCAke3N1c3BpY2lvdXNQcm9wZXJ0aWVzLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgemVybyB2YWx1ZXM6YCwgXCJpbmZvXCIpO1xuICAgICAgYWRkRW5yaWNoaW5nTG9nKGAtICR7c3VzcGljaW91c1Byb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC51bml0cyA9PT0gMCkubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggemVybyB1bml0c2AsIFwiZGV0YWlsXCIpO1xuICAgICAgYWRkRW5yaWNoaW5nTG9nKGAtICR7c3VzcGljaW91c1Byb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC5udW1fdW5pdHMgPT09IDApLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIHplcm8gdW5pdHNgLCBcImRldGFpbFwiKTtcbiAgICAgIFxuICAgICAgLy8gQ29uZmlybSB3aXRoIHVzZXJcbiAgICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oXG4gICAgICAgIGBGb3VuZCAke3N1c3BpY2lvdXNQcm9wZXJ0aWVzLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgemVybyB2YWx1ZXM6XFxuXFxuYCArXG4gICAgICAgIGAtICR7c3VzcGljaW91c1Byb3BlcnRpZXMuZmlsdGVyKHAgPT4gcC51bml0cyA9PT0gMCkubGVuZ3RofSBwcm9wZXJ0aWVzIHdpdGggemVybyB1bml0c1xcbmAgK1xuICAgICAgICBgLSAke3N1c3BpY2lvdXNQcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAubnVtX3VuaXRzID09PSAwKS5sZW5ndGh9IHByb3BlcnRpZXMgd2l0aCB6ZXJvIHVuaXRzXFxuXFxuYCArXG4gICAgICAgIGBXb3VsZCB5b3UgbGlrZSB0byBhdHRlbXB0IHRvIGVucmljaCB0aGVzZSBwcm9wZXJ0aWVzP2BcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmICghY29uZmlybWF0aW9uKSB7XG4gICAgICAgIGFkZEVucmljaGluZ0xvZygnRW5yaWNobWVudCBjYW5jZWxsZWQgYnkgdXNlcicsIFwid2FybmluZ1wiKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldEVucmljaGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTWFrZSBhIGNvcHkgb2YgdGhlIHByb3BlcnRpZXMgZm9yIGVucmljaG1lbnRcbiAgICAgIGNvbnN0IGVucmljaGVkUHJvcGVydGllcyA9IFsuLi5wcm9wZXJ0aWVzXTtcbiAgICAgIGxldCBlbnJpY2hlZENvdW50ID0gMDtcbiAgICAgIFxuICAgICAgLy8gQW5hbHl6ZSBjb2xsZWN0aW9ucyBvZiBzaW1pbGFyIHByb3BlcnRpZXMgdG8gZGVyaXZlIGVzdGltYXRlc1xuICAgICAgYWRkRW5yaWNoaW5nTG9nKFwiQW5hbHl6aW5nIHByb3BlcnR5IGRhdGEgZm9yIHN0YXRpc3RpY2FsIGVucmljaG1lbnQuLi5cIiwgXCJpbmZvXCIpO1xuICAgICAgXG4gICAgICAvLyBHcm91cCBwcm9wZXJ0aWVzIGJ5IGNpdHkvc3RhdGUgZm9yIGJldHRlciBjb21wYXJpc29uXG4gICAgICBjb25zdCBjaXR5U3RhdGVHcm91cHMgPSB7fTtcbiAgICAgIHByb3BlcnRpZXMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgaWYgKHAuY2l0eSAmJiBwLnN0YXRlICYmIHAucHJpY2UgJiYgcC5wcmljZSA+IDAgJiYgKHAudW5pdHMgPiAwIHx8IHAubnVtX3VuaXRzID4gMCkpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBgJHtwLmNpdHkudG9Mb3dlckNhc2UoKX0sJHtwLnN0YXRlLnRvTG93ZXJDYXNlKCl9YDtcbiAgICAgICAgICBpZiAoIWNpdHlTdGF0ZUdyb3Vwc1trZXldKSB7XG4gICAgICAgICAgICBjaXR5U3RhdGVHcm91cHNba2V5XSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaXR5U3RhdGVHcm91cHNba2V5XS5wdXNoKHApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIG1lZGlhbiB2YWx1ZXMgcGVyIGNpdHkvc3RhdGVcbiAgICAgIGNvbnN0IG1lZGlhblZhbHVlcyA9IHt9O1xuICAgICAgT2JqZWN0LmtleXMoY2l0eVN0YXRlR3JvdXBzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gY2l0eVN0YXRlR3JvdXBzW2tleV07XG4gICAgICAgIGlmIChncm91cC5sZW5ndGggPj0gMykgeyAvLyBPbmx5IHVzZSBncm91cHMgd2l0aCBlbm91Z2ggZGF0YSBwb2ludHNcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgbWVkaWFuIHByaWNlIHBlciB1bml0XG4gICAgICAgICAgY29uc3QgcHJpY2VzUGVyVW5pdCA9IGdyb3VwLm1hcChwID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVuaXRzID0gcC51bml0cyB8fCBwLm51bV91bml0cyB8fCAwO1xuICAgICAgICAgICAgcmV0dXJuIHVuaXRzID4gMCA/IHAucHJpY2UgLyB1bml0cyA6IDA7XG4gICAgICAgICAgfSkuZmlsdGVyKHYgPT4gdiA+IDApLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBtZWRpYW5QcmljZVBlclVuaXQgPSBwcmljZXNQZXJVbml0W01hdGguZmxvb3IocHJpY2VzUGVyVW5pdC5sZW5ndGggLyAyKV07XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2FsY3VsYXRlIG1lZGlhbiB5ZWFyIGJ1aWx0XG4gICAgICAgICAgY29uc3QgeWVhckJ1aWx0ID0gZ3JvdXAubWFwKHAgPT4gcC55ZWFyX2J1aWx0KS5maWx0ZXIoeSA9PiB5ICYmIHkgPiAxOTAwKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgICAgY29uc3QgbWVkaWFuWWVhckJ1aWx0ID0geWVhckJ1aWx0Lmxlbmd0aCA+IDAgPyB5ZWFyQnVpbHRbTWF0aC5mbG9vcih5ZWFyQnVpbHQubGVuZ3RoIC8gMildIDogbnVsbDtcbiAgICAgICAgICBcbiAgICAgICAgICBtZWRpYW5WYWx1ZXNba2V5XSA9IHtcbiAgICAgICAgICAgIG1lZGlhblByaWNlUGVyVW5pdCxcbiAgICAgICAgICAgIG1lZGlhblllYXJCdWlsdCxcbiAgICAgICAgICAgIHNhbXBsZVNpemU6IGdyb3VwLmxlbmd0aFxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgYWRkRW5yaWNoaW5nTG9nKGBHcm91cCAke2tleX06ICR7Z3JvdXAubGVuZ3RofSBwcm9wZXJ0aWVzLCAkJHtNYXRoLnJvdW5kKG1lZGlhblByaWNlUGVyVW5pdCkudG9Mb2NhbGVTdHJpbmcoKX0vdW5pdGAsIFwiZGV0YWlsXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYWRkRW5yaWNoaW5nTG9nKGBDcmVhdGVkICR7T2JqZWN0LmtleXMobWVkaWFuVmFsdWVzKS5sZW5ndGh9IHN0YXRpc3RpY2FsIGdyb3VwcyBmb3IgY29tcGFyaXNvbmAsIFwiaW5mb1wiKTtcbiAgICAgIGFkZEVucmljaGluZ0xvZyhgU3RhcnRpbmcgdG8gcHJvY2VzcyAke3N1c3BpY2lvdXNQcm9wZXJ0aWVzLmxlbmd0aH0gcHJvcGVydGllcyB3aXRoIHplcm8gdmFsdWVzLi4uYCwgXCJpbmZvXCIpO1xuICAgICAgXG4gICAgICAvLyBFbnJpY2ggcHJvcGVydGllcyB3aXRoIHN1c3BpY2lvdXMgemVybyB2YWx1ZXNcbiAgICAgIHN1c3BpY2lvdXNQcm9wZXJ0aWVzLmZvckVhY2gocHJvcGVydHkgPT4ge1xuICAgICAgICBjb25zdCBpbmRleCA9IGVucmljaGVkUHJvcGVydGllcy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBwcm9wZXJ0eS5pZCk7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGxldCBpc0VucmljaGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBlbnJpY2htZW50Tm90ZXMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmQgdGhlIGJlc3QgcmVmZXJlbmNlIGdyb3VwIGZvciB0aGlzIHByb3BlcnR5XG4gICAgICAgIGxldCByZWZlcmVuY2VHcm91cCA9IG51bGw7XG4gICAgICAgIGxldCByZWZlcmVuY2VLZXkgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgaWYgKHByb3BlcnR5LmNpdHkgJiYgcHJvcGVydHkuc3RhdGUpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBgJHtwcm9wZXJ0eS5jaXR5LnRvTG93ZXJDYXNlKCl9LCR7cHJvcGVydHkuc3RhdGUudG9Mb3dlckNhc2UoKX1gO1xuICAgICAgICAgIGlmIChtZWRpYW5WYWx1ZXNba2V5XSkge1xuICAgICAgICAgICAgcmVmZXJlbmNlR3JvdXAgPSBtZWRpYW5WYWx1ZXNba2V5XTtcbiAgICAgICAgICAgIHJlZmVyZW5jZUtleSA9IGtleTtcbiAgICAgICAgICAgIGFkZEVucmljaGluZ0xvZyhgUHJvcGVydHkgIyR7cHJvcGVydHkuaWR9OiBGb3VuZCBleGFjdCBjaXR5L3N0YXRlIG1hdGNoICgke2tleX0pYCwgXCJkZXRhaWxcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBJZiBubyBkaXJlY3QgY2l0eS9zdGF0ZSBtYXRjaCwgdXNlIHRoZSBjbG9zZXN0IGdlb2dyYXBoaWNhbGx5IG9yIGEgZ2VuZXJhbCBhdmVyYWdlXG4gICAgICAgIGlmICghcmVmZXJlbmNlR3JvdXApIHtcbiAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gc3RhdGUtbGV2ZWwgZGF0YSBvciBnZW5lcmFsIGF2ZXJhZ2VcbiAgICAgICAgICBpZiAocHJvcGVydHkuc3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlR3JvdXBzID0gT2JqZWN0LmtleXMobWVkaWFuVmFsdWVzKS5maWx0ZXIoa2V5ID0+IFxuICAgICAgICAgICAgICBrZXkuZW5kc1dpdGgoYCwke3Byb3BlcnR5LnN0YXRlLnRvTG93ZXJDYXNlKCl9YClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChzdGF0ZUdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIC8vIFVzZSB0aGUgbGFyZ2VzdCBzYW1wbGUgZnJvbSB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgcmVmZXJlbmNlS2V5ID0gc3RhdGVHcm91cHMuc29ydCgoYSwgYikgPT4gXG4gICAgICAgICAgICAgICAgbWVkaWFuVmFsdWVzW2JdLnNhbXBsZVNpemUgLSBtZWRpYW5WYWx1ZXNbYV0uc2FtcGxlU2l6ZVxuICAgICAgICAgICAgICApWzBdO1xuICAgICAgICAgICAgICByZWZlcmVuY2VHcm91cCA9IG1lZGlhblZhbHVlc1tyZWZlcmVuY2VLZXldO1xuICAgICAgICAgICAgICBhZGRFbnJpY2hpbmdMb2coYFByb3BlcnR5ICMke3Byb3BlcnR5LmlkfTogRm91bmQgc3RhdGUtbGV2ZWwgbWF0Y2ggKCR7cmVmZXJlbmNlS2V5fSlgLCBcImRldGFpbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgc3RpbGwgbm8gbWF0Y2gsIHVzZSB0aGUgb3ZlcmFsbCBhdmVyYWdlXG4gICAgICAgICAgaWYgKCFyZWZlcmVuY2VHcm91cCkge1xuICAgICAgICAgICAgY29uc3QgYWxsUHJpY2VzUGVyVW5pdCA9IHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgLmZpbHRlcihwID0+IHAucHJpY2UgJiYgcC5wcmljZSA+IDAgJiYgKHAudW5pdHMgPiAwIHx8IHAubnVtX3VuaXRzID4gMCkpXG4gICAgICAgICAgICAgIC5tYXAocCA9PiBwLnByaWNlIC8gKHAudW5pdHMgfHwgcC5udW1fdW5pdHMpKVxuICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChhbGxQcmljZXNQZXJVbml0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgcmVmZXJlbmNlR3JvdXAgPSB7XG4gICAgICAgICAgICAgICAgbWVkaWFuUHJpY2VQZXJVbml0OiBhbGxQcmljZXNQZXJVbml0W01hdGguZmxvb3IoYWxsUHJpY2VzUGVyVW5pdC5sZW5ndGggLyAyKV0sXG4gICAgICAgICAgICAgICAgbWVkaWFuWWVhckJ1aWx0OiBudWxsLFxuICAgICAgICAgICAgICAgIHNhbXBsZVNpemU6IGFsbFByaWNlc1BlclVuaXQubGVuZ3RoXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJlZmVyZW5jZUtleSA9IFwiYWxsX3Byb3BlcnRpZXNcIjtcbiAgICAgICAgICAgICAgYWRkRW5yaWNoaW5nTG9nKGBQcm9wZXJ0eSAjJHtwcm9wZXJ0eS5pZH06IFVzaW5nIGdsb2JhbCBhdmVyYWdlICgke2FsbFByaWNlc1BlclVuaXQubGVuZ3RofSBwcm9wZXJ0aWVzKWAsIFwiZGV0YWlsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG1pc3NpbmcgdmFsdWVzXG4gICAgICAgIGlmIChyZWZlcmVuY2VHcm91cCkge1xuICAgICAgICAgIC8vIEZpeCB6ZXJvIHVuaXRzIGlmIHByaWNlIGlzIGF2YWlsYWJsZVxuICAgICAgICAgIGlmICgocHJvcGVydHkudW5pdHMgPT09IDAgfHwgIXByb3BlcnR5LnVuaXRzKSAmJiBcbiAgICAgICAgICAgICAgKHByb3BlcnR5Lm51bV91bml0cyA9PT0gMCB8fCAhcHJvcGVydHkubnVtX3VuaXRzKSAmJiBcbiAgICAgICAgICAgICAgcHJvcGVydHkucHJpY2UgPiAwICYmIFxuICAgICAgICAgICAgICByZWZlcmVuY2VHcm91cC5tZWRpYW5QcmljZVBlclVuaXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBlc3RpbWF0ZWRVbml0cyA9IE1hdGgucm91bmQocHJvcGVydHkucHJpY2UgLyByZWZlcmVuY2VHcm91cC5tZWRpYW5QcmljZVBlclVuaXQpO1xuICAgICAgICAgICAgZW5yaWNoZWRQcm9wZXJ0aWVzW2luZGV4XS51bml0cyA9IGVzdGltYXRlZFVuaXRzO1xuICAgICAgICAgICAgZW5yaWNoZWRQcm9wZXJ0aWVzW2luZGV4XS5udW1fdW5pdHMgPSBlc3RpbWF0ZWRVbml0cztcbiAgICAgICAgICAgIGFkZEVucmljaGluZ0xvZyhgUHJvcGVydHkgIyR7cHJvcGVydHkuaWR9OiBFc3RpbWF0ZWQgJHtlc3RpbWF0ZWRVbml0c30gdW5pdHMgYmFzZWQgb24gJCR7cHJvcGVydHkucHJpY2UudG9Mb2NhbGVTdHJpbmcoKX0gcHJpY2VgLCBcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgICBpc0VucmljaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVucmljaG1lbnROb3Rlcy5wdXNoKGBFc3RpbWF0ZWQgJHtlc3RpbWF0ZWRVbml0c30gdW5pdHMgYmFzZWQgb24gcHJpY2UgYW5kICR7cmVmZXJlbmNlS2V5fSBtZWRpYW5gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIG1pc3NpbmcgeWVhciBidWlsdCBpZiB3ZSBoYXZlIGEgcmVmZXJlbmNlXG4gICAgICAgICAgaWYgKCghcHJvcGVydHkueWVhcl9idWlsdCB8fCBwcm9wZXJ0eS55ZWFyX2J1aWx0IDwgMTkwMCkgJiYgcmVmZXJlbmNlR3JvdXAubWVkaWFuWWVhckJ1aWx0KSB7XG4gICAgICAgICAgICBlbnJpY2hlZFByb3BlcnRpZXNbaW5kZXhdLnllYXJfYnVpbHQgPSByZWZlcmVuY2VHcm91cC5tZWRpYW5ZZWFyQnVpbHQ7XG4gICAgICAgICAgICBhZGRFbnJpY2hpbmdMb2coYFByb3BlcnR5ICMke3Byb3BlcnR5LmlkfTogRXN0aW1hdGVkIHllYXIgYnVpbHQgYXMgJHtyZWZlcmVuY2VHcm91cC5tZWRpYW5ZZWFyQnVpbHR9YCwgXCJzdWNjZXNzXCIpO1xuICAgICAgICAgICAgaXNFbnJpY2hlZCA9IHRydWU7XG4gICAgICAgICAgICBlbnJpY2htZW50Tm90ZXMucHVzaChgRXN0aW1hdGVkIHllYXIgYnVpbHQgYXMgJHtyZWZlcmVuY2VHcm91cC5tZWRpYW5ZZWFyQnVpbHR9IGJhc2VkIG9uICR7cmVmZXJlbmNlS2V5fSBtZWRpYW5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZsYWcgcHJvcGVydHkgYXMgbmVlZGluZyBodW1hbiByZXZpZXcgaWYgd2UgY291bGRuJ3QgZW5yaWNoIGl0XG4gICAgICAgIGlmICghaXNFbnJpY2hlZCkge1xuICAgICAgICAgIC8vIE1hcmsgYXMgbmVlZGluZyBtYW51YWwgcmV2aWV3XG4gICAgICAgICAgaWYgKCFlbnJpY2hlZFByb3BlcnRpZXNbaW5kZXhdLl9kYXRhX3F1YWxpdHlfaXNzdWVzKSB7XG4gICAgICAgICAgICBlbnJpY2hlZFByb3BlcnRpZXNbaW5kZXhdLl9kYXRhX3F1YWxpdHlfaXNzdWVzID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIGVucmljaGVkUHJvcGVydGllc1tpbmRleF0uX2RhdGFfcXVhbGl0eV9pc3N1ZXMucHVzaCgnbmVlZHNfbWFudWFsX3JldmlldycpO1xuICAgICAgICAgIGFkZEVucmljaGluZ0xvZyhgUHJvcGVydHkgIyR7cHJvcGVydHkuaWR9OiBJbnN1ZmZpY2llbnQgZGF0YSBmb3IgZW5yaWNobWVudCwgbWFya2VkIGZvciBtYW51YWwgcmV2aWV3YCwgXCJ3YXJuaW5nXCIpO1xuICAgICAgICAgIGlzRW5yaWNoZWQgPSB0cnVlO1xuICAgICAgICAgIGVucmljaG1lbnROb3Rlcy5wdXNoKCdNYXJrZWQgZm9yIG1hbnVhbCByZXZpZXcgLSBpbnN1ZmZpY2llbnQgZGF0YSB0byBtYWtlIGVzdGltYXRlcycpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcHJvcGVydHkgd2l0aCBlbnJpY2htZW50IGluZm9ybWF0aW9uXG4gICAgICAgIGlmIChpc0VucmljaGVkKSB7XG4gICAgICAgICAgZW5yaWNoZWRQcm9wZXJ0aWVzW2luZGV4XS5fZGF0YV9lbnJpY2hlZCA9IHRydWU7XG4gICAgICAgICAgZW5yaWNoZWRQcm9wZXJ0aWVzW2luZGV4XS5fZW5yaWNobWVudF9ub3RlcyA9IGVucmljaG1lbnROb3Rlcy5qb2luKCcsICcpO1xuICAgICAgICAgIGVucmljaGVkQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGFkZEVucmljaGluZ0xvZyhgRW5yaWNobWVudCBwcm9jZXNzaW5nIGNvbXBsZXRlLiBFbnJpY2hlZCAke2VucmljaGVkQ291bnR9IHByb3BlcnRpZXMuYCwgXCJzdWNjZXNzXCIpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdGUgd2l0aCBlbnJpY2hlZCBwcm9wZXJ0aWVzXG4gICAgICBhZGRFbnJpY2hpbmdMb2coXCJVcGRhdGluZyBwcm9wZXJ0eSBkYXRhIHdpdGggZW5yaWNoZWQgdmFsdWVzLi4uXCIsIFwiaW5mb1wiKTtcbiAgICAgIHNldFByb3BlcnRpZXMoZW5yaWNoZWRQcm9wZXJ0aWVzKTtcbiAgICAgIGNhbGN1bGF0ZVN0YXRzKGVucmljaGVkUHJvcGVydGllcyk7XG4gICAgICBcbiAgICAgIC8vIEFsZXJ0IHVzZXIgb2YgcmVzdWx0c1xuICAgICAgYWRkRW5yaWNoaW5nTG9nKFwiRGF0YSBlbnJpY2htZW50IGNvbXBsZXRlIVwiLCBcInN1Y2Nlc3NcIik7XG4gICAgICBhbGVydChcbiAgICAgICAgYERhdGEgZW5yaWNobWVudCBjb21wbGV0ZSFcXG5cXG5gICtcbiAgICAgICAgYC0gJHtlbnJpY2hlZENvdW50fSBwcm9wZXJ0aWVzIHdlcmUgZW5yaWNoZWQgb3IgbWFya2VkIGZvciByZXZpZXdcXG5gICtcbiAgICAgICAgYC0gJHtzdXNwaWNpb3VzUHJvcGVydGllcy5maWx0ZXIocCA9PiBwLnVuaXRzID09PSAwKS5sZW5ndGh9IHByb3BlcnRpZXMgd2l0aCB6ZXJvIHVuaXRzIHByb2Nlc3NlZFxcbmAgK1xuICAgICAgICBgLSAke3N1c3BpY2lvdXNQcm9wZXJ0aWVzLmZpbHRlcihwID0+IHAubnVtX3VuaXRzID09PSAwKS5sZW5ndGh9IHByb3BlcnRpZXMgd2l0aCB6ZXJvIHVuaXRzIHByb2Nlc3NlZFxcblxcbmAgK1xuICAgICAgICBgTmV4dCBzdGVwczpcXG5gICtcbiAgICAgICAgYDEuIFJldmlldyB0aGUgZW5yaWNoZWQgZGF0YSBmb3IgYWNjdXJhY3lcXG5gICtcbiAgICAgICAgYDIuIFByb3BlcnRpZXMgbWFya2VkIGZvciBtYW51YWwgcmV2aWV3IG5lZWQgaHVtYW4gYXR0ZW50aW9uXFxuYCArXG4gICAgICAgIGAzLiBVc2UgXCJQcm9wZXJ0aWVzIEFuYWx5c2lzXCIgdG8gdmVyaWZ5IGRhdGEgcXVhbGl0eWBcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVucmljaGluZyBwcm9wZXJ0eSBkYXRhOicsIGVycm9yKTtcbiAgICAgIGFkZEVucmljaGluZ0xvZyhgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLCBcImVycm9yXCIpO1xuICAgICAgYWxlcnQoYEVycm9yIGVucmljaGluZyBkYXRhOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgc2V0RW5yaWNoaW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byBhZGQgYSBsb2cgZW50cnkgd2l0aCB0aW1lc3RhbXBcbiAgY29uc3QgYWRkR2VvY29kaW5nTG9nID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycpID0+IHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpO1xuICAgIHNldEdlb2NvZGluZ0xvZ3MocHJldkxvZ3MgPT4gW1xuICAgICAgeyBtZXNzYWdlLCB0aW1lc3RhbXAsIHR5cGUgfSxcbiAgICAgIC4uLnByZXZMb2dzLnNsaWNlKDAsIDk5KSAvLyBLZWVwIG9ubHkgdGhlIGxhc3QgMTAwIGxvZ3NcbiAgICBdKTtcbiAgfSwgW10pO1xuXG4gIC8vIENsZWFyIGxvZ3Mgd2hlbiBzdGFydGluZyBuZXcgZ2VvY29kaW5nIHByb2Nlc3NcbiAgY29uc3QgY2xlYXJHZW9jb2RpbmdMb2dzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEdlb2NvZGluZ0xvZ3MoW10pO1xuICB9LCBbXSk7XG4gIFxuICAvLyBGdW5jdGlvbiB0byBhZGQgYSBjbGVhbmluZyBsb2cgZW50cnkgd2l0aCB0aW1lc3RhbXBcbiAgY29uc3QgYWRkQ2xlYW5pbmdMb2cgPSB1c2VDYWxsYmFjaygobWVzc2FnZSwgdHlwZSA9ICdpbmZvJykgPT4ge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG4gICAgc2V0Q2xlYW5pbmdMb2dzKHByZXZMb2dzID0+IFtcbiAgICAgIHsgbWVzc2FnZSwgdGltZXN0YW1wLCB0eXBlIH0sXG4gICAgICAuLi5wcmV2TG9ncy5zbGljZSgwLCA5OSkgLy8gS2VlcCBvbmx5IHRoZSBsYXN0IDEwMCBsb2dzXG4gICAgXSk7XG4gIH0sIFtdKTtcblxuICAvLyBDbGVhciBsb2dzIHdoZW4gc3RhcnRpbmcgbmV3IGNsZWFuaW5nIHByb2Nlc3NcbiAgY29uc3QgY2xlYXJDbGVhbmluZ0xvZ3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0Q2xlYW5pbmdMb2dzKFtdKTtcbiAgfSwgW10pO1xuICBcbiAgLy8gRnVuY3Rpb24gdG8gYWRkIGFuIGVucmljaG1lbnQgbG9nIGVudHJ5IHdpdGggdGltZXN0YW1wXG4gIGNvbnN0IGFkZEVucmljaGluZ0xvZyA9IHVzZUNhbGxiYWNrKChtZXNzYWdlLCB0eXBlID0gJ2luZm8nKSA9PiB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICBzZXRFbnJpY2hpbmdMb2dzKHByZXZMb2dzID0+IFtcbiAgICAgIHsgbWVzc2FnZSwgdGltZXN0YW1wLCB0eXBlIH0sXG4gICAgICAuLi5wcmV2TG9ncy5zbGljZSgwLCA5OSkgLy8gS2VlcCBvbmx5IHRoZSBsYXN0IDEwMCBsb2dzXG4gICAgXSk7XG4gIH0sIFtdKTtcblxuICAvLyBDbGVhciBsb2dzIHdoZW4gc3RhcnRpbmcgbmV3IGVucmljaG1lbnQgcHJvY2Vzc1xuICBjb25zdCBjbGVhckVucmljaGluZ0xvZ3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0RW5yaWNoaW5nTG9ncyhbXSk7XG4gIH0sIFtdKTtcblxuICAvLyBIYW5kbGUgcHJvcGVydHkgc2VsZWN0aW9uXG4gIGNvbnN0IGhhbmRsZVByb3BlcnR5U2VsZWN0ID0gKHByb3BlcnR5KSA9PiB7XG4gICAgLy8gRm9yIG5vbi1hdXRoZW50aWNhdGVkIHVzZXJzLCBzaG93IGxvZ2luIHByb21wdCB3aGVuIHNlbGVjdGluZyBhIHByb3BlcnR5XG4gICAgaWYgKCF1c2VyICYmIHByb3BlcnR5KSB7XG4gICAgICBzZXRTZWxlY3RlZFByb3BlcnR5KG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRTZWxlY3RlZFByb3BlcnR5KHByb3BlcnR5KTtcbiAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgIHNldFNob3dEZXRhaWxzKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgVVJMIHdpdGggcHJvcGVydHkgSUQgZm9yIHNoYXJpbmdcbiAgICAgIC8vIC4uLiBleGlzdGluZyBjb2RlIC4uLlxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxMYXlvdXQgdGl0bGU9XCJQcm9wZXJ0eSBNYXAgfCBBY3F1aXJlIEFwYXJ0bWVudHNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgYmctY3JlYW0tNTAgbWluLWgtc2NyZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLVtjYWxjKDEwMHZoLTRyZW0pXSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBteC1hdXRvIHB4LTQgcHktNCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDBcIj5NYXAgVmlldzwvaDE+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+QnJvd3NlIHByb3BlcnRpZXMgb24gdGhlIG1hcCBvciB1c2UgZmlsdGVycyB0byByZWZpbmUgeW91ciBzZWFyY2g8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3cgZmxleFwiPlxuICAgICAgICAgICAgey8qIFByb3BlcnR5IFNpZGViYXIgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZsZXgtc2hyaW5rLTAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwICR7XG4gICAgICAgICAgICAgIHNpZGViYXJTdGF0ZSA9PT0gJ2NvbGxhcHNlZCcgPyAndy0xMicgOiBcbiAgICAgICAgICAgICAgc2lkZWJhclN0YXRlID09PSAnZnVsbHNjcmVlbicgPyAndy1mdWxsJyA6IFxuICAgICAgICAgICAgICAndy1mdWxsIG1kOnctMS8zIGxnOnctMS80J1xuICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1jcmVhbS0xMDAgaC1mdWxsIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICB7UmVhY3QuY3JlYXRlRWxlbWVudChkeW5hbWljKCgpID0+IGltcG9ydCgnLi4vc3JjL2NvbXBvbmVudHMvUHJvcGVydHlTaWRlYmFyJykpLCB7XG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUHJvcGVydHksXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nLFxuICAgICAgICAgICAgICAgICAgc2lkZWJhclN0YXRlLFxuICAgICAgICAgICAgICAgICAgb25TaWRlYmFyU3RhdGVDaGFuZ2U6IGhhbmRsZVNpZGViYXJTdGF0ZUNoYW5nZVxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogTWFwIENvbnRhaW5lciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleC1ncm93IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke1xuICAgICAgICAgICAgICBzaWRlYmFyU3RhdGUgPT09ICdmdWxsc2NyZWVuJyA/ICdoaWRkZW4nIDogJ2Jsb2NrJ1xuICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCByb3VuZGVkLWxnIHNoYWRvdy1tZCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyIGJvcmRlci1jcmVhbS0yMDBcIj5cbiAgICAgICAgICAgICAgICA8TWFwQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzPXt1c2VyID8gcHJvcGVydGllcyA6IHNhbXBsZVByb3BlcnRpZXN9XG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZFByb3BlcnR5PXtzZWxlY3RlZFByb3BlcnR5fVxuICAgICAgICAgICAgICAgICAgb25Qcm9wZXJ0eVNlbGVjdD17aGFuZGxlUHJvcGVydHlTZWxlY3R9XG4gICAgICAgICAgICAgICAgICBvbkJvdW5kc0NoYW5nZT17aGFuZGxlQm91bmRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogR2VvY29kaW5nIExvZ3MgKi99XG4gICAgICAgICAge3Nob3dHZW9jb2RpbmdMb2dzICYmIGdlb2NvZGluZ0xvZ3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS00IHJpZ2h0LTQgdy05NiBtYXgtaC02NCBiZy1jcmVhbS01MCByb3VuZGVkLWxnIHNoYWRvdy1sZyBvdmVyZmxvdy1hdXRvIHAtNCB6LTUwIGJvcmRlciBib3JkZXItY3JlYW0tMjAwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkdlb2NvZGluZyBMb2dzPC9oMz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dHZW9jb2RpbmdMb2dzKGZhbHNlKX0gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICB7Z2VvY29kaW5nTG9ncy5tYXAoKGxvZywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtgdGV4dC1zbSBwLTEgJHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLnR5cGUgPT09ICdlcnJvcicgPyAndGV4dC1yZWQtNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgIGxvZy50eXBlID09PSAnd2FybmluZycgPyAndGV4dC1hbWJlci02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgbG9nLnR5cGUgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWdyZWVuLTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICAndGV4dC1ncmF5LTYwMCdcbiAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAge2xvZy5tZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBDbGVhbmluZyBMb2dzICovfVxuICAgICAgICAgIHtzaG93Q2xlYW5pbmdMb2dzICYmIGNsZWFuaW5nTG9ncy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgcmlnaHQtNCB3LTk2IG1heC1oLTY0IGJnLWNyZWFtLTUwIHJvdW5kZWQtbGcgc2hhZG93LWxnIG92ZXJmbG93LWF1dG8gcC00IHotNTAgYm9yZGVyIGJvcmRlci1jcmVhbS0yMDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMlwiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+Q2xlYW5pbmcgTG9nczwvaDM+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q2xlYW5pbmdMb2dzKGZhbHNlKX0gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICB7Y2xlYW5pbmdMb2dzLm1hcCgobG9nLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2B0ZXh0LXNtIHAtMSAke1xuICAgICAgICAgICAgICAgICAgICBsb2cudHlwZSA9PT0gJ2Vycm9yJyA/ICd0ZXh0LXJlZC02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgbG9nLnR5cGUgPT09ICd3YXJuaW5nJyA/ICd0ZXh0LWFtYmVyLTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICBsb2cudHlwZSA9PT0gJ3N1Y2Nlc3MnID8gJ3RleHQtZ3JlZW4tNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgIGxvZy50eXBlID09PSAnZGV0YWlsJyA/ICd0ZXh0LWJsdWUtNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgICd0ZXh0LWdyYXktNjAwJ1xuICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICB7bG9nLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBFbnJpY2htZW50IExvZ3MgKi99XG4gICAgICAgICAge3Nob3dFbnJpY2hpbmdMb2dzICYmIGVucmljaGluZ0xvZ3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS00IHJpZ2h0LTQgdy05NiBtYXgtaC02NCBiZy1jcmVhbS01MCByb3VuZGVkLWxnIHNoYWRvdy1sZyBvdmVyZmxvdy1hdXRvIHAtNCB6LTUwIGJvcmRlciBib3JkZXItY3JlYW0tMjAwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkVucmljaG1lbnQgTG9nczwvaDM+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93RW5yaWNoaW5nTG9ncyhmYWxzZSl9IGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiIC8+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAge2VucmljaGluZ0xvZ3MubWFwKChsb2csIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT17YHRleHQtc20gcC0xICR7XG4gICAgICAgICAgICAgICAgICAgIGxvZy50eXBlID09PSAnZXJyb3InID8gJ3RleHQtcmVkLTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICBsb2cudHlwZSA9PT0gJ3dhcm5pbmcnID8gJ3RleHQtYW1iZXItNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgIGxvZy50eXBlID09PSAnc3VjY2VzcycgPyAndGV4dC1ncmVlbi02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgbG9nLnR5cGUgPT09ICdkZXRhaWwnID8gJ3RleHQtYmx1ZS02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtZ3JheS02MDAnXG4gICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgIHtsb2cubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJkeW5hbWljIiwiTGF5b3V0IiwiZmV0Y2hQcm9wZXJ0aWVzIiwiZW5oYW5jZWRHZW9jb2RlUHJvcGVydGllcyIsInVzZUF1dGgiLCJMaW5rIiwiTWFwQ29tcG9uZW50Iiwic3NyIiwiTG9naW5HYXRlIiwiY2hpbGRyZW4iLCJ1c2VyIiwibG9hZGluZyIsImRpdiIsImNsYXNzTmFtZSIsInN2ZyIsInhtbG5zIiwiZmlsbCIsInZpZXdCb3giLCJjaXJjbGUiLCJjeCIsImN5IiwiciIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwicGF0aCIsImQiLCJwIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwiaDIiLCJocmVmIiwiYSIsInVsIiwibGkiLCJNYXBQYWdlIiwicHJvcGVydGllcyIsInNldFByb3BlcnRpZXMiLCJzYW1wbGVQcm9wZXJ0aWVzIiwic2V0U2FtcGxlUHJvcGVydGllcyIsInNlbGVjdGVkUHJvcGVydHkiLCJzZXRTZWxlY3RlZFByb3BlcnR5Iiwic2V0TG9hZGluZyIsImdlb2NvZGluZyIsInNldEdlb2NvZGluZyIsImdlb2NvZGluZ0xvZ3MiLCJzZXRHZW9jb2RpbmdMb2dzIiwic2hvd0dlb2NvZGluZ0xvZ3MiLCJzZXRTaG93R2VvY29kaW5nTG9ncyIsImNsZWFuaW5nIiwic2V0Q2xlYW5pbmciLCJjbGVhbmluZ0xvZ3MiLCJzZXRDbGVhbmluZ0xvZ3MiLCJzaG93Q2xlYW5pbmdMb2dzIiwic2V0U2hvd0NsZWFuaW5nTG9ncyIsImVucmljaGluZyIsInNldEVucmljaGluZyIsImVucmljaGluZ0xvZ3MiLCJzZXRFbnJpY2hpbmdMb2dzIiwic2hvd0VucmljaGluZ0xvZ3MiLCJzZXRTaG93RW5yaWNoaW5nTG9ncyIsIm1hcEJvdW5kcyIsInNldE1hcEJvdW5kcyIsInRvdGFsRmV0Y2hlZCIsInNldFRvdGFsRmV0Y2hlZCIsInNpZGViYXJTdGF0ZSIsInNldFNpZGViYXJTdGF0ZSIsImRhdGFTdGF0cyIsInNldERhdGFTdGF0cyIsInRvdGFsUHJvcGVydGllcyIsImludmFsaWRDb29yZGluYXRlcyIsIm1pc3NpbmdDb29yZGluYXRlcyIsInplcm9Db29yZGluYXRlcyIsImludmFsaWRSYW5nZSIsImR1cGxpY2F0ZWRMb2NhdGlvbnMiLCJsb2FkU2FtcGxlUHJvcGVydGllcyIsImRhdGEiLCJwYWdlIiwicGFnZVNpemUiLCJzb3J0QnkiLCJzb3J0QXNjIiwiaW5jbHVkZUluY29tcGxldGUiLCJpbmNsdWRlUmVzZWFyY2giLCJmaWx0ZXJzIiwibm9MaW1pdCIsImJvdW5kcyIsInNhbXBsZXNXaXRoTGFiZWwiLCJtYXAiLCJwcm9wZXJ0eSIsIm5hbWUiLCJfaXNTYW1wbGUiLCJlcnJvciIsImNvbnNvbGUiLCJsb2FkUHJvcGVydGllcyIsImxvZyIsImhhbmRsZUJvdW5kc0NoYW5nZSIsImNhbGN1bGF0ZVN0YXRzIiwicHJvcERhdGEiLCJBcnJheSIsImlzQXJyYXkiLCJtaXNzaW5nQ29vcmRzIiwiZmlsdGVyIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJsZW5ndGgiLCJ6ZXJvQ29vcmRzIiwibGF0IiwicGFyc2VGbG9hdCIsIlN0cmluZyIsImxuZyIsImlzTmFOIiwiY29vcmRNYXAiLCJNYXAiLCJkdXBsaWNhdGVkQ29vcmRzIiwiZm9yRWFjaCIsImNvb3JkS2V5IiwiaGFzIiwic2V0IiwiZ2V0IiwidW5pcXVlTG9jYXRpb25zIiwic2l6ZSIsIm9wdGlvbnMiLCJ2YWxpZENvb3JkcyIsImF1c3RpbkNvb3JkcyIsInN1c3BpY2lvdXNDb29yZHMiLCJsYXRTdHIiLCJsbmdTdHIiLCJoYXNMb3dQcmVjaXNpb24iLCJpbmNsdWRlcyIsInNwbGl0IiwiaGFzU3VzcGljaW91c1BhdHRlcm4iLCJlbmRzV2l0aCIsImhhbmRsZVNpZGViYXJTdGF0ZUNoYW5nZSIsInN0YXRlIiwiYmF0Y2hHZW9jb2RlUHJvcGVydGllcyIsImNsZWFyR2VvY29kaW5nTG9ncyIsInByb3BzVG9HZW9jb2RlIiwiX2Nvb3JkaW5hdGVzX21pc3NpbmciLCJfbmVlZHNfZ2VvY29kaW5nIiwiX2lzX2dyaWRfcGF0dGVybiIsImFkZEdlb2NvZGluZ0xvZyIsImFsZXJ0IiwiY29uZmlybSIsImJhdGNoU2l6ZSIsImJhdGNoZXMiLCJNYXRoIiwiY2VpbCIsInN1Y2Nlc3NDb3VudCIsImZhaWxDb3VudCIsImkiLCJzdGFydCIsImVuZCIsIm1pbiIsImJhdGNoIiwic2xpY2UiLCJpZHgiLCJwcm9wZXJ0eU5hbWUiLCJpZCIsImdlb2NvZGVkQmF0Y2giLCJzdGF0dXMiLCJkZXRhaWxzIiwiYmF0Y2hTdWNjZXNzIiwiX2dlb2NvZGVkIiwiYmF0Y2hGYWlsIiwiX2dlb2NvZGluZ19mYWlsZWQiLCJ1cGRhdGVkUHJvcGVydGllcyIsImdlb2NvZGVkUHJvcCIsImluZGV4IiwiZmluZEluZGV4IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwibWVzc2FnZSIsInJ1blByb3BlcnR5QW5hbHlzaXMiLCJtdWx0aXBsZVByb3BzTG9jYXRpb25zIiwiZnJvbSIsImVudHJpZXMiLCJfIiwiY291bnQiLCJzb3J0IiwiYiIsIm11bHRpcGxlUHJvcHNDb3VudCIsInJlZHVjZSIsInN1bSIsImJ5U291cmNlIiwiZXhpc3RpbmciLCJfZ2VvY29kaW5nX3NvdXJjZSIsInZlcmlmaWVkX2FkZHJlc3MiLCJmdWxsX2FkZHJlc3MiLCJwcm9wZXJ0eV9uYW1lIiwidW5rbm93biIsImNvb3JkcyIsImpvaW4iLCJjbGVhblByb3BlcnR5RGF0YSIsImNsZWFyQ2xlYW5pbmdMb2dzIiwiYWRkQ2xlYW5pbmdMb2ciLCJkYXRhSXNzdWVzIiwibWlzc2luZ05hbWVzIiwidHJpbSIsImluY29tcGxldGVBZGRyZXNzZXMiLCJhZGRyZXNzIiwiY2l0eSIsInN1c3BpY2lvdXNaZXJvcyIsInVuaXRzIiwibnVtX3VuaXRzIiwic3VzcGljaW91c0Nvb3JkaW5hdGVzIiwiZHVwbGljYXRlTmFtZXMiLCJmaW5kRHVwbGljYXRlcyIsImR1cGxpY2F0ZUFkZHJlc3NlcyIsInRlc3RQcm9wZXJ0aWVzIiwidG9Mb3dlckNhc2UiLCJfaXNfdGVzdF9wcm9wZXJ0eSIsInRvdGFsSXNzdWVzIiwiY29uZmlybWF0aW9uIiwiYWR2YW5jZWRPcHRpb25zIiwiY2xlYW5lZFByb3BlcnRpZXMiLCJpc3N1ZXNDbGVhbmVkIiwicHJvcGVydHlDbGVhbmVkIiwiY2xlYW5pbmdOb3RlcyIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwicHVzaCIsImFkZHJlc3NQYXJ0cyIsInN0YXRlUGFydCIsInN0YXRlTWF0Y2giLCJtYXRjaCIsIl9kYXRhX3F1YWxpdHlfaXNzdWVzIiwiX2RhdGFfY2xlYW5lZCIsIl9jbGVhbmluZ19ub3RlcyIsImFycmF5Iiwia2V5IiwiY291bnRzIiwiZHVwbGljYXRlcyIsIml0ZW0iLCJ2YWx1ZSIsIk9iamVjdCIsImtleXMiLCJlbnJpY2hQcm9wZXJ0eURhdGEiLCJjbGVhckVucmljaGluZ0xvZ3MiLCJhZGRFbnJpY2hpbmdMb2ciLCJzdXNwaWNpb3VzUHJvcGVydGllcyIsImVucmljaGVkUHJvcGVydGllcyIsImVucmljaGVkQ291bnQiLCJjaXR5U3RhdGVHcm91cHMiLCJwcmljZSIsIm1lZGlhblZhbHVlcyIsImdyb3VwIiwicHJpY2VzUGVyVW5pdCIsInYiLCJtZWRpYW5QcmljZVBlclVuaXQiLCJmbG9vciIsInllYXJCdWlsdCIsInllYXJfYnVpbHQiLCJ5IiwibWVkaWFuWWVhckJ1aWx0Iiwic2FtcGxlU2l6ZSIsInJvdW5kIiwidG9Mb2NhbGVTdHJpbmciLCJpc0VucmljaGVkIiwiZW5yaWNobWVudE5vdGVzIiwicmVmZXJlbmNlR3JvdXAiLCJyZWZlcmVuY2VLZXkiLCJzdGF0ZUdyb3VwcyIsImFsbFByaWNlc1BlclVuaXQiLCJlc3RpbWF0ZWRVbml0cyIsIl9kYXRhX2VucmljaGVkIiwiX2VucmljaG1lbnRfbm90ZXMiLCJ0eXBlIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvTG9jYWxlVGltZVN0cmluZyIsInByZXZMb2dzIiwiaGFuZGxlUHJvcGVydHlTZWxlY3QiLCJzZXRTaG93RGV0YWlscyIsInRpdGxlIiwiaDEiLCJjcmVhdGVFbGVtZW50Iiwib25TaWRlYmFyU3RhdGVDaGFuZ2UiLCJvblByb3BlcnR5U2VsZWN0Iiwib25Cb3VuZHNDaGFuZ2UiLCJoMyIsImJ1dHRvbiIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/map.js\n"));

/***/ })

});